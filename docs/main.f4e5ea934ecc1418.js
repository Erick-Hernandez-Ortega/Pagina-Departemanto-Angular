"use strict";(self.webpackChunkpagina_departamento=self.webpackChunkpagina_departamento||[]).push([[179],{2011:(dt,Me,k)=>{k.d(Me,{Dh:()=>de,GT:()=>me,cc:()=>ke,hO:()=>$e,on:()=>$,pX:()=>ae,xv:()=>ve});var l=k(4650),L=k(127),P=k(5813);dt=k.hmd(dt);const se=["ngOnDestroy"],ae=(ge,tt,nt,Ne={})=>new Proxy(ge,{get:(Re,Ie)=>nt.runOutsideAngular(()=>{var Ge;if(ge[Ie])return!(null===(Ge=Ne?.spy)||void 0===Ge)&&Ge.get&&Ne.spy.get(Ie,ge[Ie]),ge[Ie];if(se.indexOf(Ie)>-1)return()=>{};const re=tt.toPromise().then(ue=>{const ye=ue&&ue[Ie];return"function"==typeof ye?ye.bind(ue):ye&&ye.then?ye.then(Q=>nt.run(()=>Q)):nt.run(()=>ye)});return new Proxy(()=>{},{get:(ue,ye)=>re[ye],apply:(ue,ye,Q)=>re.then(ee=>{var he;const oe=ee&&ee(...Q);return!(null===(he=Ne?.spy)||void 0===he)&&he.apply&&Ne.spy.apply(Ie,Q,oe),oe})})})}),me=(ge,tt)=>{tt.forEach(nt=>{Object.getOwnPropertyNames(nt.prototype||nt).forEach(Ne=>{Object.defineProperty(ge.prototype,Ne,Object.getOwnPropertyDescriptor(nt.prototype||nt,Ne))})})};class pe{constructor(tt){return tt}}const de=new l.OlP("angularfire2.app.options"),ve=new l.OlP("angularfire2.app.name");function $(ge,tt,nt){const Re="object"==typeof nt&&nt||{};Re.name=Re.name||"string"==typeof nt&&nt||"[DEFAULT]";const Ge=L.Z.apps.filter(re=>re&&re.name===Re.name)[0]||tt.runOutsideAngular(()=>L.Z.initializeApp(ge,Re));try{JSON.stringify(ge)!==JSON.stringify(Ge.options)&&H("error",`${Ge.name} Firebase App already initialized with different options${dt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new pe(Ge)}const H=(ge,...tt)=>{(0,l.X6Q)()&&typeof console<"u"&&console[ge](...tt)},X={provide:pe,useFactory:$,deps:[de,l.R0b,[new l.FiY,ve]]};let $e=(()=>{class ge{constructor(nt){L.Z.registerVersion("angularfire",P.q4.full,"core"),L.Z.registerVersion("angularfire",P.q4.full,"app-compat"),L.Z.registerVersion("angular",l.q4F.full,nt.toString())}static initializeApp(nt,Ne){return{ngModule:ge,providers:[{provide:de,useValue:nt},{provide:ve,useValue:Ne}]}}}return ge.\u0275fac=function(nt){return new(nt||ge)(l.LFG(l.Lbi))},ge.\u0275mod=l.oAB({type:ge}),ge.\u0275inj=l.cJS({providers:[X]}),ge})();function ke(ge,tt,nt,Ne,Re){const[,Ie,Ge]=globalThis.\u0275AngularfireInstanceCache.find(re=>re[0]===ge)||[];if(Ie)return function be(ge,tt){try{return ge.toString()===tt.toString()}catch{return ge===tt}}(Re,Ge)||(xe("error",`${tt} was already initialized on the ${nt} Firebase App with different settings.${it?" You may need to reload as Firebase is not HMR aware.":""}`),xe("warn",{is:Re,was:Ge})),Ie;{const re=Ne();return globalThis.\u0275AngularfireInstanceCache.push([ge,re,Re]),re}}const it=!!dt.hot,xe=(ge,...tt)=>{(0,l.X6Q)()&&typeof console<"u"&&console[ge](...tt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(dt,Me,k)=>{k.d(Me,{q4:()=>_h,iC:()=>Na,fc:()=>Ol,HU:()=>qt,vb:()=>Rs,JM:()=>Pa,u3:()=>ss});var l=k(4650),L=k(5867),P=k(5861),se=k(9681),ae=k(2090),me=k(4859),pe=k(1877),de=k(8766);const ve="@firebase/installations",$="0.5.12",X=`w:${$}`,$e="FIS_v2",tt=new ae.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function nt(E){return E instanceof ae.ZR&&E.code.includes("request-failed")}function Ne({projectId:E}){return`https://firebaseinstallations.googleapis.com/v1/projects/${E}/installations`}function Re(E){return{token:E.token,requestStatus:2,expiresIn:ee(E.expiresIn),creationTime:Date.now()}}function Ie(E,D){return Ge.apply(this,arguments)}function Ge(){return(Ge=(0,P.Z)(function*(E,D){const F=(yield D.json()).error;return tt.create("request-failed",{requestName:E,serverCode:F.code,serverMessage:F.message,serverStatus:F.status})})).apply(this,arguments)}function re({apiKey:E}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":E})}function ue(E,{refreshToken:D}){const S=re(E);return S.append("Authorization",function he(E){return`${$e} ${E}`}(D)),S}function ye(E){return Q.apply(this,arguments)}function Q(){return(Q=(0,P.Z)(function*(E){const D=yield E();return D.status>=500&&D.status<600?E():D})).apply(this,arguments)}function ee(E){return Number(E.replace("s","000"))}function oe(E,D){return Ue.apply(this,arguments)}function Ue(){return(Ue=(0,P.Z)(function*({appConfig:E,heartbeatServiceProvider:D},{fid:S}){const F=Ne(E),Y=re(E),ce=D.getImmediate({optional:!0});if(ce){const Ct=yield ce.getHeartbeatsHeader();Ct&&Y.append("x-firebase-client",Ct)}const Ye={method:"POST",headers:Y,body:JSON.stringify({fid:S,authVersion:$e,appId:E.appId,sdkVersion:X})},gt=yield ye(()=>fetch(F,Ye));if(gt.ok){const Ct=yield gt.json();return{fid:Ct.fid||S,registrationStatus:2,refreshToken:Ct.refreshToken,authToken:Re(Ct.authToken)}}throw yield Ie("Create Installation",gt)})).apply(this,arguments)}function Ve(E){return new Promise(D=>{setTimeout(D,E)})}const en=/^[cdef][\w-]{21}$/;function We(){try{const E=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(E),E[0]=112+E[0]%16;const S=function fn(E){return function ft(E){return btoa(String.fromCharCode(...E)).replace(/\+/g,"-").replace(/\//g,"_")}(E).substr(0,22)}(E);return en.test(S)?S:""}catch{return""}}function Rn(E){return`${E.appName}!${E.appId}`}const an=new Map;function rn(E,D){const S=Rn(E);br(S,D),function js(E,D){const S=function bn(){return!Ir&&"BroadcastChannel"in self&&(Ir=new BroadcastChannel("[Firebase] FID Change"),Ir.onmessage=E=>{br(E.data.key,E.data.fid)}),Ir}();S&&S.postMessage({key:E,fid:D}),function Ti(){0===an.size&&Ir&&(Ir.close(),Ir=null)}()}(S,D)}function br(E,D){const S=an.get(E);if(S)for(const F of S)F(D)}let Ir=null;const Fn="firebase-installations-store";let Wi=null;function ht(){return Wi||(Wi=(0,de.X3)("firebase-installations-database",1,{upgrade:(E,D)=>{0===D&&E.createObjectStore(Fn)}})),Wi}function pn(E,D){return Er.apply(this,arguments)}function Er(){return(Er=(0,P.Z)(function*(E,D){const S=Rn(E),Y=(yield ht()).transaction(Fn,"readwrite"),ce=Y.objectStore(Fn),Se=yield ce.get(S);return yield ce.put(D,S),yield Y.done,(!Se||Se.fid!==D.fid)&&rn(E,D.fid),D})).apply(this,arguments)}function sn(E){return er.apply(this,arguments)}function er(){return(er=(0,P.Z)(function*(E){const D=Rn(E),F=(yield ht()).transaction(Fn,"readwrite");yield F.objectStore(Fn).delete(D),yield F.done})).apply(this,arguments)}function Ar(E,D){return cr.apply(this,arguments)}function cr(){return(cr=(0,P.Z)(function*(E,D){const S=Rn(E),Y=(yield ht()).transaction(Fn,"readwrite"),ce=Y.objectStore(Fn),Se=yield ce.get(S),Ye=D(Se);return void 0===Ye?yield ce.delete(S):yield ce.put(Ye,S),yield Y.done,Ye&&(!Se||Se.fid!==Ye.fid)&&rn(E,Ye.fid),Ye})).apply(this,arguments)}function ln(E){return qr.apply(this,arguments)}function qr(){return(qr=(0,P.Z)(function*(E){let D;const S=yield Ar(E.appConfig,F=>{const Y=_n(F),ce=st(E,Y);return D=ce.registrationPromise,ce.installationEntry});return""===S.fid?{installationEntry:yield D}:{installationEntry:S,registrationPromise:D}})).apply(this,arguments)}function _n(E){return Cn(E||{fid:We(),registrationStatus:0})}function st(E,D){if(0===D.registrationStatus){if(!navigator.onLine)return{installationEntry:D,registrationPromise:Promise.reject(tt.create("app-offline"))};const S={fid:D.fid,registrationStatus:1,registrationTime:Date.now()},F=function rt(E,D){return In.apply(this,arguments)}(E,S);return{installationEntry:S,registrationPromise:F}}return 1===D.registrationStatus?{installationEntry:D,registrationPromise:Sr(E)}:{installationEntry:D}}function In(){return(In=(0,P.Z)(function*(E,D){try{const S=yield oe(E,D);return pn(E.appConfig,S)}catch(S){throw nt(S)&&409===S.customData.serverCode?yield sn(E.appConfig):yield pn(E.appConfig,{fid:D.fid,registrationStatus:0}),S}})).apply(this,arguments)}function Sr(E){return En.apply(this,arguments)}function En(){return(En=(0,P.Z)(function*(E){let D=yield Vt(E.appConfig);for(;1===D.registrationStatus;)yield Ve(100),D=yield Vt(E.appConfig);if(0===D.registrationStatus){const{installationEntry:S,registrationPromise:F}=yield ln(E);return F||S}return D})).apply(this,arguments)}function Vt(E){return Ar(E,D=>{if(!D)throw tt.create("installation-not-found");return Cn(D)})}function Cn(E){return function Mr(E){return 1===E.registrationStatus&&E.registrationTime+1e4<Date.now()}(E)?{fid:E.fid,registrationStatus:0}:E}function kt(E,D){return ni.apply(this,arguments)}function ni(){return(ni=(0,P.Z)(function*({appConfig:E,heartbeatServiceProvider:D},S){const F=Pt(E,S),Y=ue(E,S),ce=D.getImmediate({optional:!0});if(ce){const Ct=yield ce.getHeartbeatsHeader();Ct&&Y.append("x-firebase-client",Ct)}const Ye={method:"POST",headers:Y,body:JSON.stringify({installation:{sdkVersion:X,appId:E.appId}})},gt=yield ye(()=>fetch(F,Ye));if(gt.ok)return Re(yield gt.json());throw yield Ie("Generate Auth Token",gt)})).apply(this,arguments)}function Pt(E,{fid:D}){return`${Ne(E)}/${D}/authTokens:generate`}function K(E){return j.apply(this,arguments)}function j(){return(j=(0,P.Z)(function*(E,D=!1){let S;const F=yield Ar(E.appConfig,ce=>{if(!vt(ce))throw tt.create("not-registered");const Se=ce.authToken;if(!D&&un(Se))return ce;if(1===Se.requestStatus)return S=U(E,D),ce;{if(!navigator.onLine)throw tt.create("app-offline");const Ye=Zn(ce);return S=De(E,Ye),Ye}});return S?yield S:F.authToken})).apply(this,arguments)}function U(E,D){return q.apply(this,arguments)}function q(){return(q=(0,P.Z)(function*(E,D){let S=yield z(E.appConfig);for(;1===S.authToken.requestStatus;)yield Ve(100),S=yield z(E.appConfig);const F=S.authToken;return 0===F.requestStatus?K(E,D):F})).apply(this,arguments)}function z(E){return Ar(E,D=>{if(!vt(D))throw tt.create("not-registered");return function W(E){return 1===E.requestStatus&&E.requestTime+1e4<Date.now()}(D.authToken)?Object.assign(Object.assign({},D),{authToken:{requestStatus:0}}):D})}function De(E,D){return qe.apply(this,arguments)}function qe(){return(qe=(0,P.Z)(function*(E,D){try{const S=yield kt(E,D),F=Object.assign(Object.assign({},D),{authToken:S});return yield pn(E.appConfig,F),S}catch(S){if(!nt(S)||401!==S.customData.serverCode&&404!==S.customData.serverCode){const F=Object.assign(Object.assign({},D),{authToken:{requestStatus:0}});yield pn(E.appConfig,F)}else yield sn(E.appConfig);throw S}})).apply(this,arguments)}function vt(E){return void 0!==E&&2===E.registrationStatus}function un(E){return 2===E.requestStatus&&!function cn(E){const D=Date.now();return D<E.creationTime||E.creationTime+E.expiresIn<D+36e5}(E)}function Zn(E){const D={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},E),{authToken:D})}function B(){return(B=(0,P.Z)(function*(E){const D=E,{installationEntry:S,registrationPromise:F}=yield ln(D);return F?F.catch(console.error):K(D).catch(console.error),S.fid})).apply(this,arguments)}function He(){return(He=(0,P.Z)(function*(E,D=!1){const S=E;return yield Te(S),(yield K(S,D)).token})).apply(this,arguments)}function Te(E){return ze.apply(this,arguments)}function ze(){return(ze=(0,P.Z)(function*(E){const{registrationPromise:D}=yield ln(E);D&&(yield D)})).apply(this,arguments)}function Ft(E){return tt.create("missing-app-config-values",{valueName:E})}const aa="installations",wo=E=>{const D=E.getProvider("app").getImmediate(),S=function Ki(E){if(!E||!E.options)throw Ft("App Configuration");if(!E.name)throw Ft("App Name");const D=["projectId","apiKey","appId"];for(const S of D)if(!E.options[S])throw Ft(S);return{appName:E.name,projectId:E.options.projectId,apiKey:E.options.apiKey,appId:E.options.appId}}(D);return{app:D,appConfig:S,heartbeatServiceProvider:(0,se._getProvider)(D,"heartbeat"),_delete:()=>Promise.resolve()}},Hs=E=>{const D=E.getProvider("app").getImmediate(),S=(0,se._getProvider)(D,aa).getImmediate();return{getId:()=>function Z(E){return B.apply(this,arguments)}(S),getToken:Y=>function we(E){return He.apply(this,arguments)}(S,Y)}};(function lr(){(0,se._registerComponent)(new me.wA(aa,wo,"PUBLIC")),(0,se._registerComponent)(new me.wA("installations-internal",Hs,"PRIVATE"))})(),(0,se.registerVersion)(ve,$),(0,se.registerVersion)(ve,$,"esm2017");const Zs="@firebase/remote-config",Ht=new ae.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class yl{constructor(D,S,F,Y){this.client=D,this.storage=S,this.storageCache=F,this.logger=Y}isCachedDataFresh(D,S){if(!S)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const F=Date.now()-S,Y=F<=D;return this.logger.debug(`Config fetch cache check. Cache age millis: ${F}. Cache max age millis (minimumFetchIntervalMillis setting): ${D}. Is cache hit: ${Y}.`),Y}fetch(D){var S=this;return(0,P.Z)(function*(){const[F,Y]=yield Promise.all([S.storage.getLastSuccessfulFetchTimestampMillis(),S.storage.getLastSuccessfulFetchResponse()]);if(Y&&S.isCachedDataFresh(D.cacheMaxAgeMillis,F))return Y;D.eTag=Y&&Y.eTag;const ce=yield S.client.fetch(D),Se=[S.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ce.status&&Se.push(S.storage.setLastSuccessfulFetchResponse(ce)),yield Promise.all(Se),ce})()}}function au(E=navigator){return E.languages&&E.languages[0]||E.language}class Gs{constructor(D,S,F,Y,ce,Se){this.firebaseInstallations=D,this.sdkVersion=S,this.namespace=F,this.projectId=Y,this.apiKey=ce,this.appId=Se}fetch(D){var S=this;return(0,P.Z)(function*(){var F,Y,ce;const[Se,Ye]=yield Promise.all([S.firebaseInstallations.getId(),S.firebaseInstallations.getToken()]),Ct=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${S.projectId}/namespaces/${S.namespace}:fetch?key=${S.apiKey}`,At={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":D.eTag||"*"},_t={sdk_version:S.sdkVersion,app_instance_id:Se,app_instance_id_token:Ye,app_id:S.appId,language_code:au()},pr={method:"POST",headers:At,body:JSON.stringify(_t)},Nr=fetch(Ct,pr),Bi=new Promise((Os,uo)=>{D.signal.addEventListener(()=>{const Nl=new Error("The operation was aborted.");Nl.name="AbortError",uo(Nl)})});let os;try{yield Promise.race([Nr,Bi]),os=yield Nr}catch(Os){let uo="fetch-client-network";throw"AbortError"===(null===(F=Os)||void 0===F?void 0:F.name)&&(uo="fetch-timeout"),Ht.create(uo,{originalErrorMessage:null===(Y=Os)||void 0===Y?void 0:Y.message})}let as=os.status;const Fa=os.headers.get("ETag")||void 0;let Iu,mi;if(200===os.status){let Os;try{Os=yield os.json()}catch(uo){throw Ht.create("fetch-client-parse",{originalErrorMessage:null===(ce=uo)||void 0===ce?void 0:ce.message})}Iu=Os.entries,mi=Os.state}if("INSTANCE_STATE_UNSPECIFIED"===mi?as=500:"NO_CHANGE"===mi?as=304:("NO_TEMPLATE"===mi||"EMPTY_CONFIG"===mi)&&(Iu={}),304!==as&&200!==as)throw Ht.create("fetch-status",{httpStatus:as});return{status:as,eTag:Fa,config:Iu}})()}}class Yi{constructor(D,S){this.client=D,this.storage=S}fetch(D){var S=this;return(0,P.Z)(function*(){const F=(yield S.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return S.attemptFetch(D,F)})()}attemptFetch(D,{throttleEndTimeMillis:S,backoffCount:F}){var Y=this;return(0,P.Z)(function*(){yield function ri(E,D){return new Promise((S,F)=>{const Y=Math.max(D-Date.now(),0),ce=setTimeout(S,Y);E.addEventListener(()=>{clearTimeout(ce),F(Ht.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}(D.signal,S);try{const ce=yield Y.client.fetch(D);return yield Y.storage.deleteThrottleMetadata(),ce}catch(ce){if(!function tp(E){if(!(E instanceof ae.ZR&&E.customData))return!1;const D=Number(E.customData.httpStatus);return 429===D||500===D||503===D||504===D}(ce))throw ce;const Se={throttleEndTimeMillis:Date.now()+(0,ae.$s)(F),backoffCount:F+1};return yield Y.storage.setThrottleMetadata(Se),Y.attemptFetch(D,Se)}})()}}class ac{constructor(D,S,F,Y,ce){this.app=D,this._client=S,this._storageCache=F,this._storage=Y,this._logger=ce,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function ca(E,D){var S;const F=E.target.error||void 0;return Ht.create(D,{originalErrorMessage:F&&(null===(S=F)||void 0===S?void 0:S.message)})}const Io="app_namespace_store";class uu{constructor(D,S,F,Y=function ip(){return new Promise((E,D)=>{var S;try{const F=indexedDB.open("firebase_remote_config",1);F.onerror=Y=>{D(ca(Y,"storage-open"))},F.onsuccess=Y=>{E(Y.target.result)},F.onupgradeneeded=Y=>{0===Y.oldVersion&&Y.target.result.createObjectStore(Io,{keyPath:"compositeKey"})}}catch(F){D(Ht.create("storage-open",{originalErrorMessage:null===(S=F)||void 0===S?void 0:S.message}))}})}()){this.appId=D,this.appName=S,this.namespace=F,this.openDbPromise=Y}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(D){return this.set("last_fetch_status",D)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(D){return this.set("last_successful_fetch_timestamp_millis",D)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(D){return this.set("last_successful_fetch_response",D)}getActiveConfig(){return this.get("active_config")}setActiveConfig(D){return this.set("active_config",D)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(D){return this.set("active_config_etag",D)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(D){return this.set("throttle_metadata",D)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(D){var S=this;return(0,P.Z)(function*(){const F=yield S.openDbPromise;return new Promise((Y,ce)=>{var Se;const gt=F.transaction([Io],"readonly").objectStore(Io),Ct=S.createCompositeKey(D);try{const At=gt.get(Ct);At.onerror=_t=>{ce(ca(_t,"storage-get"))},At.onsuccess=_t=>{const pr=_t.target.result;Y(pr?pr.value:void 0)}}catch(At){ce(Ht.create("storage-get",{originalErrorMessage:null===(Se=At)||void 0===Se?void 0:Se.message}))}})})()}set(D,S){var F=this;return(0,P.Z)(function*(){const Y=yield F.openDbPromise;return new Promise((ce,Se)=>{var Ye;const Ct=Y.transaction([Io],"readwrite").objectStore(Io),At=F.createCompositeKey(D);try{const _t=Ct.put({compositeKey:At,value:S});_t.onerror=pr=>{Se(ca(pr,"storage-set"))},_t.onsuccess=()=>{ce()}}catch(_t){Se(Ht.create("storage-set",{originalErrorMessage:null===(Ye=_t)||void 0===Ye?void 0:Ye.message}))}})})()}delete(D){var S=this;return(0,P.Z)(function*(){const F=yield S.openDbPromise;return new Promise((Y,ce)=>{var Se;const gt=F.transaction([Io],"readwrite").objectStore(Io),Ct=S.createCompositeKey(D);try{const At=gt.delete(Ct);At.onerror=_t=>{ce(ca(_t,"storage-delete"))},At.onsuccess=()=>{Y()}}catch(At){ce(Ht.create("storage-delete",{originalErrorMessage:null===(Se=At)||void 0===Se?void 0:Se.message}))}})})()}createCompositeKey(D){return[this.appId,this.appName,this.namespace,D].join()}}class Qi{constructor(D){this.storage=D}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var D=this;return(0,P.Z)(function*(){const S=D.storage.getLastFetchStatus(),F=D.storage.getLastSuccessfulFetchTimestampMillis(),Y=D.storage.getActiveConfig(),ce=yield S;ce&&(D.lastFetchStatus=ce);const Se=yield F;Se&&(D.lastSuccessfulFetchTimestampMillis=Se);const Ye=yield Y;Ye&&(D.activeConfig=Ye)})()}setLastFetchStatus(D){return this.lastFetchStatus=D,this.storage.setLastFetchStatus(D)}setLastSuccessfulFetchTimestampMillis(D){return this.lastSuccessfulFetchTimestampMillis=D,this.storage.setLastSuccessfulFetchTimestampMillis(D)}setActiveConfig(D){return this.activeConfig=D,this.storage.setActiveConfig(D)}}function Do(){return la.apply(this,arguments)}function la(){return(la=(0,P.Z)(function*(){if(!(0,ae.hl)())return!1;try{return yield(0,ae.eu)()}catch{return!1}})).apply(this,arguments)}!function sp(){(0,se._registerComponent)(new me.wA("remote-config",function E(D,{instanceIdentifier:S}){const F=D.getProvider("app").getImmediate(),Y=D.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Ht.create("registration-window");if(!(0,ae.hl)())throw Ht.create("indexed-db-unavailable");const{projectId:ce,apiKey:Se,appId:Ye}=F.options;if(!ce)throw Ht.create("registration-project-id");if(!Se)throw Ht.create("registration-api-key");if(!Ye)throw Ht.create("registration-app-id");const gt=new uu(Ye,F.name,S=S||"firebase"),Ct=new Qi(gt),At=new pe.Yd(Zs);At.logLevel=pe.in.ERROR;const _t=new Gs(Y,se.SDK_VERSION,S,ce,Se,Ye),pr=new Yi(_t,gt),Nr=new yl(pr,gt,Ct,At),Bi=new ac(F,Nr,Ct,gt,At);return function tr(E){const D=(0,ae.m9)(E);D._initializePromise||(D._initializePromise=D._storageCache.loadFromStorage().then(()=>{D._isInitializationComplete=!0}))}(Bi),Bi},"PUBLIC").setMultipleInstances(!0)),(0,se.registerVersion)(Zs,"0.3.11"),(0,se.registerVersion)(Zs,"0.3.11","esm2017")}();const ii="/firebase-messaging-sw.js",Ws="/firebase-cloud-messaging-push-scope",To="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",da="google.c.a.c_id",cu="google.c.a.c_l",th="google.c.a.ts",Ks="google.c.a.e";var On=(()=>{return(E=On||(On={})).PUSH_RECEIVED="push-received",E.NOTIFICATION_CLICKED="notification-clicked",On;var E})();function hi(E){const D=new Uint8Array(E);return btoa(String.fromCharCode(...D)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function wl(E){const S=(E+"=".repeat((4-E.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),F=atob(S),Y=new Uint8Array(F.length);for(let ce=0;ce<F.length;++ce)Y[ce]=F.charCodeAt(ce);return Y}const Ys="fcm_token_details_db",uc="fcm_token_object_Store";function Gn(E){return lu.apply(this,arguments)}function lu(){return lu=(0,P.Z)(function*(E){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ce=>ce.name).includes(Ys))return null;let D=null;return(yield(0,de.X3)(Ys,5,{upgrade:(F=(0,P.Z)(function*(Y,ce,Se,Ye){var gt;if(ce<2||!Y.objectStoreNames.contains(uc))return;const Ct=Ye.objectStore(uc),At=yield Ct.index("fcmSenderId").get(E);if(yield Ct.clear(),At)if(2===ce){const _t=At;if(!_t.auth||!_t.p256dh||!_t.endpoint)return;D={token:_t.fcmToken,createTime:null!==(gt=_t.createTime)&&void 0!==gt?gt:Date.now(),subscriptionOptions:{auth:_t.auth,p256dh:_t.p256dh,endpoint:_t.endpoint,swScope:_t.swScope,vapidKey:"string"==typeof _t.vapidKey?_t.vapidKey:hi(_t.vapidKey)}}}else if(3===ce){const _t=At;D={token:_t.fcmToken,createTime:_t.createTime,subscriptionOptions:{auth:hi(_t.auth),p256dh:hi(_t.p256dh),endpoint:_t.endpoint,swScope:_t.swScope,vapidKey:hi(_t.vapidKey)}}}else if(4===ce){const _t=At;D={token:_t.fcmToken,createTime:_t.createTime,subscriptionOptions:{auth:hi(_t.auth),p256dh:hi(_t.p256dh),endpoint:_t.endpoint,swScope:_t.swScope,vapidKey:hi(_t.vapidKey)}}}}),function(ce,Se,Ye,gt){return F.apply(this,arguments)})})).close(),yield(0,de.Lj)(Ys),yield(0,de.Lj)("fcm_vapid_details_db"),yield(0,de.Lj)("undefined"),bl(D)?D:null;var F}),lu.apply(this,arguments)}function bl(E){if(!E||!E.subscriptionOptions)return!1;const{subscriptionOptions:D}=E;return"number"==typeof E.createTime&&E.createTime>0&&"string"==typeof E.token&&E.token.length>0&&"string"==typeof D.auth&&D.auth.length>0&&"string"==typeof D.p256dh&&D.p256dh.length>0&&"string"==typeof D.endpoint&&D.endpoint.length>0&&"string"==typeof D.swScope&&D.swScope.length>0&&"string"==typeof D.vapidKey&&D.vapidKey.length>0}const Es="firebase-messaging-store";let Qs=null;function Ji(){return Qs||(Qs=(0,de.X3)("firebase-messaging-database",1,{upgrade:(E,D)=>{0===D&&E.createObjectStore(Es)}})),Qs}function yr(E){return Js.apply(this,arguments)}function Js(){return(Js=(0,P.Z)(function*(E){const D=Xs(E),F=yield(yield Ji()).transaction(Es).objectStore(Es).get(D);if(F)return F;{const Y=yield Gn(E.appConfig.senderId);if(Y)return yield Si(E,Y),Y}})).apply(this,arguments)}function Si(E,D){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,P.Z)(function*(E,D){const S=Xs(E),Y=(yield Ji()).transaction(Es,"readwrite");return yield Y.objectStore(Es).put(D,S),yield Y.done,D})).apply(this,arguments)}function Mi(E){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,P.Z)(function*(E){const D=Xs(E),F=(yield Ji()).transaction(Es,"readwrite");yield F.objectStore(Es).delete(D),yield F.done})).apply(this,arguments)}function Xs({appConfig:E}){return E.appId}const Ln=new ae.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function nh(E,D){return fa.apply(this,arguments)}function fa(){return(fa=(0,P.Z)(function*(E,D){var S;const F=yield Ce(E),Y=So(D),ce={method:"POST",headers:F,body:JSON.stringify(Y)};let Se;try{Se=yield(yield fetch(du(E.appConfig),ce)).json()}catch(Ye){throw Ln.create("token-subscribe-failed",{errorInfo:null===(S=Ye)||void 0===S?void 0:S.toString()})}if(Se.error)throw Ln.create("token-subscribe-failed",{errorInfo:Se.error.message});if(!Se.token)throw Ln.create("token-subscribe-no-token");return Se.token})).apply(this,arguments)}function Il(E,D){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,P.Z)(function*(E,D){var S;const F=yield Ce(E),Y=So(D.subscriptionOptions),ce={method:"PATCH",headers:F,body:JSON.stringify(Y)};let Se;try{Se=yield(yield fetch(`${du(E.appConfig)}/${D.token}`,ce)).json()}catch(Ye){throw Ln.create("token-update-failed",{errorInfo:null===(S=Ye)||void 0===S?void 0:S.toString()})}if(Se.error)throw Ln.create("token-update-failed",{errorInfo:Se.error.message});if(!Se.token)throw Ln.create("token-update-no-token");return Se.token})).apply(this,arguments)}function Co(E,D){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,P.Z)(function*(E,D){var S;const Y={method:"DELETE",headers:yield Ce(E)};try{const Se=yield(yield fetch(`${du(E.appConfig)}/${D}`,Y)).json();if(Se.error)throw Ln.create("token-unsubscribe-failed",{errorInfo:Se.error.message})}catch(ce){throw Ln.create("token-unsubscribe-failed",{errorInfo:null===(S=ce)||void 0===S?void 0:S.toString()})}})).apply(this,arguments)}function du({projectId:E}){return`https://fcmregistrations.googleapis.com/v1/projects/${E}/registrations`}function Ce(E){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,P.Z)(function*({appConfig:E,installations:D}){const S=yield D.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":E.apiKey,"x-goog-firebase-installations-auth":`FIS ${S}`})})).apply(this,arguments)}function So({p256dh:E,auth:D,endpoint:S,vapidKey:F}){const Y={web:{endpoint:S,auth:D,p256dh:E}};return F!==To&&(Y.web.applicationPubKey=F),Y}const Mo=6048e5;function Un(E){return eo.apply(this,arguments)}function eo(){return(eo=(0,P.Z)(function*(E){const D=yield Cm(E.swRegistration,E.vapidKey),S={vapidKey:E.vapidKey,swScope:E.swRegistration.scope,endpoint:D.endpoint,auth:hi(D.getKey("auth")),p256dh:hi(D.getKey("p256dh"))},F=yield yr(E.firebaseDependencies);if(F){if(dr(F.subscriptionOptions,S))return Date.now()>=F.createTime+Mo?cc(E,{token:F.token,createTime:Date.now(),subscriptionOptions:S}):F.token;try{yield Co(E.firebaseDependencies,F.token)}catch(Y){console.warn(Y)}return pa(E.firebaseDependencies,S)}return pa(E.firebaseDependencies,S)})).apply(this,arguments)}function Ro(E){return Rr.apply(this,arguments)}function Rr(){return(Rr=(0,P.Z)(function*(E){const D=yield yr(E.firebaseDependencies);D&&(yield Co(E.firebaseDependencies,D.token),yield Mi(E.firebaseDependencies));const S=yield E.swRegistration.pushManager.getSubscription();return!S||S.unsubscribe()})).apply(this,arguments)}function cc(E,D){return to.apply(this,arguments)}function to(){return(to=(0,P.Z)(function*(E,D){try{const S=yield Il(E.firebaseDependencies,D),F=Object.assign(Object.assign({},D),{token:S,createTime:Date.now()});return yield Si(E.firebaseDependencies,F),S}catch(S){throw yield Ro(E),S}})).apply(this,arguments)}function pa(E,D){return Po.apply(this,arguments)}function Po(){return(Po=(0,P.Z)(function*(E,D){const F={token:yield nh(E,D),createTime:Date.now(),subscriptionOptions:D};return yield Si(E,F),F.token})).apply(this,arguments)}function Cm(E,D){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,P.Z)(function*(E,D){return(yield E.pushManager.getSubscription())||E.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:wl(D)})})).apply(this,arguments)}function dr(E,D){return D.vapidKey===E.vapidKey&&D.endpoint===E.endpoint&&D.auth===E.auth&&D.p256dh===E.p256dh}function si(E){const D={from:E.from,collapseKey:E.collapse_key,messageId:E.fcmMessageId};return function lc(E,D){if(!D.notification)return;E.notification={};const S=D.notification.title;S&&(E.notification.title=S);const F=D.notification.body;F&&(E.notification.body=F);const Y=D.notification.image;Y&&(E.notification.image=Y)}(D,E),function no(E,D){!D.data||(E.data=D.data)}(D,E),function pi(E,D){var S,F,Y,ce,Se;if(!(D.fcmOptions||null!==(S=D.notification)&&void 0!==S&&S.click_action))return;E.fcmOptions={};const Ye=null!==(Y=null===(F=D.fcmOptions)||void 0===F?void 0:F.link)&&void 0!==Y?Y:null===(ce=D.notification)||void 0===ce?void 0:ce.click_action;Ye&&(E.fcmOptions.link=Ye);const gt=null===(Se=D.fcmOptions)||void 0===Se?void 0:Se.analytics_label;gt&&(E.fcmOptions.analyticsLabel=gt)}(D,E),D}function rh(E){return"object"==typeof E&&!!E&&da in E}function dc(E,D){const S=[];for(let F=0;F<E.length;F++)S.push(E.charAt(F)),F<D.length&&S.push(D.charAt(F));return S.join("")}function hc(E){return Ln.create("missing-app-config-values",{valueName:E})}dc("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),dc("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class ga{constructor(D,S,F){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Y=function hu(E){if(!E||!E.options)throw hc("App Configuration Object");if(!E.name)throw hc("App Name");const D=["projectId","apiKey","appId","messagingSenderId"],{options:S}=E;for(const F of D)if(!S[F])throw hc(F);return{appName:E.name,projectId:S.projectId,apiKey:S.apiKey,appId:S.appId,senderId:S.messagingSenderId}}(D);this.firebaseDependencies={app:D,appConfig:Y,installations:S,analyticsProvider:F}}_delete(){return Promise.resolve()}}function ma(E){return Oo.apply(this,arguments)}function Oo(){return(Oo=(0,P.Z)(function*(E){var D;try{E.swRegistration=yield navigator.serviceWorker.register(ii,{scope:Ws}),E.swRegistration.update().catch(()=>{})}catch(S){throw Ln.create("failed-service-worker-registration",{browserErrorMessage:null===(D=S)||void 0===D?void 0:D.message})}})).apply(this,arguments)}function fc(E,D){return _a.apply(this,arguments)}function _a(){return(_a=(0,P.Z)(function*(E,D){if(!D&&!E.swRegistration&&(yield ma(E)),D||!E.swRegistration){if(!(D instanceof ServiceWorkerRegistration))throw Ln.create("invalid-sw-registration");E.swRegistration=D}})).apply(this,arguments)}function fu(E,D){return ko.apply(this,arguments)}function ko(){return(ko=(0,P.Z)(function*(E,D){D?E.vapidKey=D:E.vapidKey||(E.vapidKey=To)})).apply(this,arguments)}function No(){return(No=(0,P.Z)(function*(E,D){if(!navigator)throw Ln.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Ln.create("permission-blocked");return yield fu(E,D?.vapidKey),yield fc(E,D?.serviceWorkerRegistration),Un(E)})).apply(this,arguments)}function Dl(E,D,S){return Fo.apply(this,arguments)}function Fo(){return(Fo=(0,P.Z)(function*(E,D,S){const F=pu(D);(yield E.firebaseDependencies.analyticsProvider.get()).logEvent(F,{message_id:S[da],message_name:S[cu],message_time:S[th],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function pu(E){switch(E){case On.NOTIFICATION_CLICKED:return"notification_open";case On.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function ya(){return(ya=(0,P.Z)(function*(E,D){const S=D.data;if(!S.isFirebaseMessaging)return;E.onMessageHandler&&S.messageType===On.PUSH_RECEIVED&&("function"==typeof E.onMessageHandler?E.onMessageHandler(si(S)):E.onMessageHandler.next(si(S)));const F=S.data;rh(F)&&"1"===F[Ks]&&(yield Dl(E,S.messageType,F))})).apply(this,arguments)}const Wn="@firebase/messaging",gn=E=>{const D=new ga(E.getProvider("app").getImmediate(),E.getProvider("installations-internal").getImmediate(),E.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",S=>function ih(E,D){return ya.apply(this,arguments)}(D,S)),D},sh=E=>{const D=E.getProvider("messaging").getImmediate();return{getToken:F=>function El(E,D){return No.apply(this,arguments)}(D,F)}};function ah(){return pc.apply(this,arguments)}function pc(){return(pc=(0,P.Z)(function*(){try{yield(0,ae.eu)()}catch{return!1}return typeof window<"u"&&(0,ae.hl)()&&(0,ae.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function oh(){(0,se._registerComponent)(new me.wA("messaging",gn,"PUBLIC")),(0,se._registerComponent)(new me.wA("messaging-internal",sh,"PRIVATE")),(0,se.registerVersion)(Wn,"0.9.16"),(0,se.registerVersion)(Wn,"0.9.16","esm2017")}();const Oi="analytics",Lo="firebase_id",Vo="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",_c="https://www.googletagmanager.com/gtag/js",hr=new pe.Yd("@firebase/analytics");function lh(E){return Promise.all(E.map(D=>D.catch(S=>S)))}function Sm(E,D){const S=document.createElement("script");S.src=`${_c}?l=${E}&id=${D}`,S.async=!0,document.head.appendChild(S)}function xa(E,D,S,F,Y,ce){return yc.apply(this,arguments)}function yc(){return(yc=(0,P.Z)(function*(E,D,S,F,Y,ce){const Se=F[Y];try{if(Se)yield D[Se];else{const gt=(yield lh(S)).find(Ct=>Ct.measurementId===Y);gt&&(yield D[gt.appId])}}catch(Ye){hr.error(Ye)}E("config",Y,ce)})).apply(this,arguments)}function wa(E,D,S,F,Y){return Bo.apply(this,arguments)}function Bo(){return(Bo=(0,P.Z)(function*(E,D,S,F,Y){try{let ce=[];if(Y&&Y.send_to){let Se=Y.send_to;Array.isArray(Se)||(Se=[Se]);const Ye=yield lh(S);for(const gt of Se){const Ct=Ye.find(_t=>_t.measurementId===gt),At=Ct&&D[Ct.appId];if(!At){ce=[];break}ce.push(At)}}0===ce.length&&(ce=Object.values(D)),yield Promise.all(ce),E("event",F,Y||{})}catch(ce){hr.error(ce)}})).apply(this,arguments)}function ba(){const E=window.document.getElementsByTagName("script");for(const D of Object.values(E))if(D.src&&D.src.includes(_c))return D;return null}const nr=new ae.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Cl=new class ap{constructor(D={},S=1e3){this.throttleMetadata=D,this.intervalMillis=S}getThrottleMetadata(D){return this.throttleMetadata[D]}setThrottleMetadata(D,S){this.throttleMetadata[D]=S}deleteThrottleMetadata(D){delete this.throttleMetadata[D]}};function tn(E){return new Headers({Accept:"application/json","x-goog-api-key":E})}function Ea(E){return Ze.apply(this,arguments)}function Ze(){return(Ze=(0,P.Z)(function*(E){var D;const{appId:S,apiKey:F}=E,Y={method:"GET",headers:tn(F)},ce=Vo.replace("{app-id}",S),Se=yield fetch(ce,Y);if(200!==Se.status&&304!==Se.status){let Ye="";try{const gt=yield Se.json();null!==(D=gt.error)&&void 0!==D&&D.message&&(Ye=gt.error.message)}catch{}throw nr.create("config-fetch-failed",{httpStatus:Se.status,responseMessage:Ye})}return Se.json()})).apply(this,arguments)}function Xi(E){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,P.Z)(function*(E,D=Cl,S){const{appId:F,apiKey:Y,measurementId:ce}=E.options;if(!F)throw nr.create("no-app-id");if(!Y){if(ce)return{measurementId:ce,appId:F};throw nr.create("no-api-key")}const Se=D.getThrottleMetadata(F)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Ye=new Al;return setTimeout((0,P.Z)(function*(){Ye.abort()}),void 0!==S?S:6e4),mu({appId:F,apiKey:Y,measurementId:ce},Se,Ye,D)})).apply(this,arguments)}function mu(E,D,S){return ki.apply(this,arguments)}function ki(){return(ki=(0,P.Z)(function*(E,{throttleEndTimeMillis:D,backoffCount:S},F,Y=Cl){var ce,Se;const{appId:Ye,measurementId:gt}=E;try{yield oi(F,D)}catch(Ct){if(gt)return hr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${gt} provided in the "measurementId" field in the local Firebase config. [${null===(ce=Ct)||void 0===ce?void 0:ce.message}]`),{appId:Ye,measurementId:gt};throw Ct}try{const Ct=yield Ea(E);return Y.deleteThrottleMetadata(Ye),Ct}catch(Ct){const At=Ct;if(!_u(At)){if(Y.deleteThrottleMetadata(Ye),gt)return hr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${gt} provided in the "measurementId" field in the local Firebase config. [${At?.message}]`),{appId:Ye,measurementId:gt};throw Ct}const _t=503===Number(null===(Se=At?.customData)||void 0===Se?void 0:Se.httpStatus)?(0,ae.$s)(S,Y.intervalMillis,30):(0,ae.$s)(S,Y.intervalMillis),pr={throttleEndTimeMillis:Date.now()+_t,backoffCount:S+1};return Y.setThrottleMetadata(Ye,pr),hr.debug(`Calling attemptFetch again in ${_t} millis`),mu(E,pr,F,Y)}})).apply(this,arguments)}function oi(E,D){return new Promise((S,F)=>{const Y=Math.max(D-Date.now(),0),ce=setTimeout(S,Y);E.addEventListener(()=>{clearTimeout(ce),F(nr.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}function _u(E){if(!(E instanceof ae.ZR&&E.customData))return!1;const D=Number(E.customData.httpStatus);return 429===D||500===D||503===D||504===D}class Al{constructor(){this.listeners=[]}addEventListener(D){this.listeners.push(D)}abort(){this.listeners.forEach(D=>D())}}let yu,vu;function Ta(){return(Ta=(0,P.Z)(function*(E,D,S,F,Y){if(Y&&Y.global)E("event",S,F);else{const ce=yield D;E("event",S,Object.assign(Object.assign({},F),{send_to:ce}))}})).apply(this,arguments)}function vc(E){vu=E}function xu(E){yu=E}function gh(){return ts.apply(this,arguments)}function ts(){return(ts=(0,P.Z)(function*(){var E;if(!(0,ae.hl)())return hr.warn(nr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ae.eu)()}catch(D){return hr.warn(nr.create("indexeddb-unavailable",{errorInfo:null===(E=D)||void 0===E?void 0:E.toString()}).message),!1}return!0})).apply(this,arguments)}function Fi(){return(Fi=(0,P.Z)(function*(E,D,S,F,Y,ce,Se){var Ye;const gt=Xi(E);gt.then(Nr=>{S[Nr.measurementId]=Nr.appId,E.options.measurementId&&Nr.measurementId!==E.options.measurementId&&hr.warn(`The measurement ID in the local Firebase config (${E.options.measurementId}) does not match the measurement ID fetched from the server (${Nr.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Nr=>hr.error(Nr)),D.push(gt);const Ct=gh().then(Nr=>{if(Nr)return F.getId()}),[At,_t]=yield Promise.all([gt,Ct]);ba()||Sm(ce,At.measurementId),vu&&(Y("consent","default",vu),vc(void 0)),Y("js",new Date);const pr=null!==(Ye=Se?.config)&&void 0!==Ye?Ye:{};return pr.origin="firebase",pr.update=!0,null!=_t&&(pr[Lo]=_t),Y("config",At.measurementId,pr),yu&&(Y("set",yu),xu(void 0)),At.measurementId})).apply(this,arguments)}class As{constructor(D){this.app=D}_delete(){return delete fr[this.app.options.appId],Promise.resolve()}}let fr={},wc=[];const io={};let bc,mt,Pr="dataLayer",wu=!1;function Ho(E,D,S){!function Yn(){const E=[];if((0,ae.ru)()&&E.push("This is a browser extension environment."),(0,ae.zI)()||E.push("Cookies are not available."),E.length>0){const D=E.map((F,Y)=>`(${Y+1}) ${F}`).join(" "),S=nr.create("invalid-analytics-context",{errorInfo:D});hr.warn(S.message)}}();const F=E.options.appId;if(!F)throw nr.create("no-app-id");if(!E.options.apiKey){if(!E.options.measurementId)throw nr.create("no-api-key");hr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${E.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=fr[F])throw nr.create("already-exists",{id:F});if(!wu){!function dh(E){let D=[];Array.isArray(window[E])?D=window[E]:window[E]=D}(Pr);const{wrappedGtag:ce,gtagCore:Se}=function fh(E,D,S,F,Y){let ce=function(...Se){window[F].push(arguments)};return window[Y]&&"function"==typeof window[Y]&&(ce=window[Y]),window[Y]=function hh(E,D,S,F){function ce(){return(ce=(0,P.Z)(function*(Se,Ye,gt){try{"event"===Se?yield wa(E,D,S,Ye,gt):"config"===Se?yield xa(E,D,S,F,Ye,gt):"consent"===Se?E("consent","update",gt):E("set",Ye)}catch(Ct){hr.error(Ct)}})).apply(this,arguments)}return function Y(Se,Ye,gt){return ce.apply(this,arguments)}}(ce,E,D,S),{gtagCore:ce,wrappedGtag:window[Y]}}(fr,wc,io,Pr,"gtag");mt=ce,bc=Se,wu=!0}return fr[F]=function xc(E,D,S,F,Y,ce,Se){return Fi.apply(this,arguments)}(E,wc,io,D,bc,Pr,S),new As(E)}function Or(){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,P.Z)(function*(){if((0,ae.ru)()||!(0,ae.zI)()||!(0,ae.hl)())return!1;try{return yield(0,ae.eu)()}catch{return!1}})).apply(this,arguments)}const Vn="@firebase/analytics";!function Ca(){(0,se._registerComponent)(new me.wA(Oi,(D,{options:S})=>Ho(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),S),"PUBLIC")),(0,se._registerComponent)(new me.wA("analytics-internal",function E(D){try{const S=D.getProvider(Oi).getImmediate();return{logEvent:(F,Y,ce)=>function ns(E,D,S,F){E=(0,ae.m9)(E),function Da(E,D,S,F,Y){return Ta.apply(this,arguments)}(mt,fr[E.app.options.appId],D,S,F).catch(Y=>hr.error(Y))}(S,F,Y,ce)}}catch(S){throw nr.create("interop-component-reg-failed",{reason:S})}},"PRIVATE")),(0,se.registerVersion)(Vn,"0.8.0"),(0,se.registerVersion)(Vn,"0.8.0","esm2017")}();var bu=k(4408),ao=k(7565);const mh=new class Bt extends ao.v{}(class oo extends bu.o{constructor(D,S){super(D,S),this.scheduler=D,this.work=S}schedule(D,S=0){return S>0?super.schedule(D,S):(this.delay=S,this.state=D,this.scheduler.flush(this),this)}execute(D,S){return S>0||this.closed?super.execute(D,S):this._execute(D,S)}requestAsyncId(D,S,F=0){return null!=F&&F>0||null==F&&this.delay>0?super.requestAsyncId(D,S,F):D.flush(this)}});var hp=k(4986),rs=k(9751),xn=k(8505),qo=k(5363),Ms=k(9468);const _h=new l.GfV("7.4.1"),Aa="__angularfire_symbol__analyticsIsSupportedValue",Bn="__angularfire_symbol__analyticsIsSupported",gi="__angularfire_symbol__remoteConfigIsSupportedValue",Sa="__angularfire_symbol__remoteConfigIsSupported",Ma="__angularfire_symbol__messagingIsSupportedValue",Ic="__angularfire_symbol__messagingIsSupported";function Pa(E,D,S){if(D){if(1===D.length)return D[0];const ce=D.filter(Se=>Se.app===S);if(1===ce.length)return ce[0]}return S.container.getProvider(E).getImmediate({optional:!0})}globalThis[Bn]||(globalThis[Bn]=Or().then(E=>globalThis[Aa]=E).catch(()=>globalThis[Aa]=!1)),globalThis[Ic]||(globalThis[Ic]=ah().then(E=>globalThis[Ma]=E).catch(()=>globalThis[Ma]=!1)),globalThis[Sa]||(globalThis[Sa]=Do().then(E=>globalThis[gi]=E).catch(()=>globalThis[gi]=!1));const Rs=(E,D)=>{const S=D?[D]:(0,L.C6)(),F=[];return S.forEach(Y=>{Y.container.getProvider(E).instances.forEach(Se=>{F.includes(Se)||F.push(Se)})}),F};function Vi(){}class Oa{constructor(D,S=mh){this.zone=D,this.delegate=S}now(){return this.delegate.now()}schedule(D,S,F){const Y=this.zone;return this.delegate.schedule(function(Se){Y.runGuarded(()=>{D.apply(this,[Se])})},S,F)}}class is{constructor(D){this.zone=D,this.task=null}call(D,S){const F=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Vi,{},Vi,Vi)),S.pipe((0,xn.b)({next:F,complete:F,error:F})).subscribe(D).add(F)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let qt=(()=>{class E{constructor(S){this.ngZone=S,this.outsideAngular=S.runOutsideAngular(()=>new Oa(Zone.current)),this.insideAngular=S.run(()=>new Oa(Zone.current,hp.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return E.\u0275fac=function(S){return new(S||E)(l.LFG(l.R0b))},E.\u0275prov=l.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();function kr(){const E=globalThis.\u0275AngularFireScheduler;if(!E)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return E}function ka(E){return kr().ngZone.runOutsideAngular(()=>E())}function Jn(E){return kr().ngZone.run(()=>E())}function Ol(E){return E.pipe((0,qo.Q)(kr().outsideAngular))}function Na(E){return kr(),function kl(E){return function(S){return(S=S.lift(new is(E.ngZone))).pipe((0,Ms.R)(E.outsideAngular),(0,qo.Q)(E.insideAngular))}}(kr())(E)}const Ps=(E,D)=>function(){const F=arguments;return D&&setTimeout(()=>{"scheduled"===D.state&&D.invoke()},10),Jn(()=>E.apply(void 0,F))},ss=(E,D)=>function(){let S;const F=arguments;for(let ce=0;ce<arguments.length;ce++)"function"==typeof F[ce]&&(D&&(S||(S=Jn(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Vi,{},Vi,Vi)))),F[ce]=Ps(F[ce],S));const Y=ka(()=>E.apply(this,F));if(!D){if(Y instanceof rs.y){const ce=kr();return Y.pipe((0,Ms.R)(ce.outsideAngular),(0,qo.Q)(ce.insideAngular))}return Jn(()=>Y)}return Y instanceof rs.y?Y.pipe(Na):Y instanceof Promise?Jn(()=>new Promise((ce,Se)=>Y.then(Ye=>Jn(()=>ce(Ye)),Ye=>Jn(()=>Se(Ye))))):"function"==typeof Y&&S?function(){return setTimeout(()=>{S&&"scheduled"===S.state&&S.invoke()},10),Y.apply(this,arguments)}:Jn(()=>Y)}},6457:(dt,Me,k)=>{k.d(Me,{$:()=>du,A:()=>H,B:()=>ke,G:()=>Hs,H:()=>Gr,J:()=>Yi,L:()=>un,M:()=>la,N:()=>eh,P:()=>hp,Q:()=>da,R:()=>Ss,T:()=>cu,U:()=>To,V:()=>On,W:()=>hi,X:()=>Gn,Y:()=>bt,Z:()=>nh,_:()=>Il,a:()=>Ia,a0:()=>Un,a1:()=>Ro,a2:()=>cc,a3:()=>pa,a4:()=>Cm,a5:()=>dr,a6:()=>lc,a7:()=>no,a8:()=>rh,a9:()=>dc,aA:()=>pr,aB:()=>Ye,aC:()=>Jn,aD:()=>ka,aE:()=>Pn,aI:()=>tn,aL:()=>Ks,aa:()=>ma,ab:()=>fc,ac:()=>fu,af:()=>Dl,ag:()=>pu,ah:()=>ih,ak:()=>Es,al:()=>gc,an:()=>_c,ao:()=>yc,ap:()=>qn,aq:()=>ye,ar:()=>$t,as:()=>Te,at:()=>nt,au:()=>Du,av:()=>as,aw:()=>Ne,ax:()=>re,ay:()=>ee,az:()=>cn,b:()=>nr,c:()=>Sa,d:()=>Ec,e:()=>Ic,f:()=>Na,g:()=>S,h:()=>ss,i:()=>ts,j:()=>ce,k:()=>mp,l:()=>ai,m:()=>Lm,o:()=>de,r:()=>bu,s:()=>dp,u:()=>mh});var l=k(5861),L=k(2090),P=k(9681),se=k(655),ae=k(1877),me=k(4859);const de={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},H={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const ke=function X(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},be=function $e(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},it=new L.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ge=new ae.Yd("@firebase/auth");function tt(v,...p){ge.logLevel<=ae.in.ERROR&&ge.error(`Auth (${P.SDK_VERSION}): ${v}`,...p)}function nt(v,...p){throw Ge(v,...p)}function Ne(v,...p){return Ge(v,...p)}function Re(v,p,m){const w=Object.assign(Object.assign({},be()),{[p]:m});return new L.LL("auth","Firebase",w).create(p,{appName:v.name})}function Ie(v,p,m){if(!(p instanceof m))throw m.name!==p.constructor.name&&nt(v,"argument-error"),Re(v,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ge(v,...p){if("string"!=typeof v){const m=p[0],w=[...p.slice(1)];return w[0]&&(w[0].appName=v.name),v._errorFactory.create(m,...w)}return it.create(v,...p)}function re(v,p,...m){if(!v)throw Ge(p,...m)}function ue(v){const p="INTERNAL ASSERTION FAILED: "+v;throw tt(p),new Error(p)}function ye(v,p){v||ue(p)}const Q=new Map;function ee(v){ye(v instanceof Function,"Expected a class definition");let p=Q.get(v);return p?(ye(p instanceof v,"Instance stored in cache mismatched with class"),p):(p=new v,Q.set(v,p),p)}function Ue(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.href)||""}function Ve(){return"http:"===ft()||"https:"===ft()}function ft(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.protocol)||null}class We{constructor(p,m){this.shortDelay=p,this.longDelay=m,ye(m>p,"Short delay should be less than long delay!"),this.isMobile=(0,L.uI)()||(0,L.b$)()}get(){return function en(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Ve()||(0,L.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function fn(v,p){ye(v.emulator,"Emulator should always be set here");const{url:m}=v.emulator;return p?`${m}${p.startsWith("/")?p.slice(1):p}`:m}class Rn{static initialize(p,m,w){this.fetchImpl=p,m&&(this.headersImpl=m),w&&(this.responseImpl=w)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void ue("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void ue("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void ue("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const an={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},rn=new We(3e4,6e4);function Wt(v,p){return v.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:v.tenantId}):p}function jt(v,p,m,w){return br.apply(this,arguments)}function br(){return(br=(0,l.Z)(function*(v,p,m,w,A={}){return js(v,A,(0,l.Z)(function*(){let O={},te={};w&&("GET"===p?te=w:O={body:JSON.stringify(w)});const Ae=(0,L.xO)(Object.assign({key:v.config.apiKey},te)).slice(1),Qe=yield v._getAdditionalHeaders();return Qe["Content-Type"]="application/json",v.languageCode&&(Qe["X-Firebase-Locale"]=v.languageCode),Rn.fetch()(ei(v,v.config.apiHost,m,Ae),Object.assign({method:p,headers:Qe,referrerPolicy:"no-referrer"},O))}))})).apply(this,arguments)}function js(v,p,m){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,l.Z)(function*(v,p,m){v._canInitEmulator=!1;const w=Object.assign(Object.assign({},an),p);try{const A=new ti(v),O=yield Promise.race([m(),A.promise]);A.clearNetworkTimeout();const te=yield O.json();if("needConfirmation"in te)throw Fn(v,"account-exists-with-different-credential",te);if(O.ok&&!("errorMessage"in te))return te;{const Ae=O.ok?te.errorMessage:te.error.message,[Qe,ut]=Ae.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Qe)throw Fn(v,"credential-already-in-use",te);if("EMAIL_EXISTS"===Qe)throw Fn(v,"email-already-in-use",te);if("USER_DISABLED"===Qe)throw Fn(v,"user-disabled",te);const zt=w[Qe]||Qe.toLowerCase().replace(/[_\s]+/g,"-");if(ut)throw Re(v,zt,ut);nt(v,zt)}}catch(A){if(A instanceof L.ZR)throw A;nt(v,"network-request-failed")}})).apply(this,arguments)}function bn(v,p,m,w){return Ti.apply(this,arguments)}function Ti(){return(Ti=(0,l.Z)(function*(v,p,m,w,A={}){const O=yield jt(v,p,m,w,A);return"mfaPendingCredential"in O&&nt(v,"multi-factor-auth-required",{_serverResponse:O}),O})).apply(this,arguments)}function ei(v,p,m,w){const A=`${p}${m}?${w}`;return v.config.emulator?fn(v.config,A):`${v.config.apiScheme}://${A}`}class ti{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((m,w)=>{this.timer=setTimeout(()=>w(Ne(this.auth,"network-request-failed")),rn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Fn(v,p,m){const w={appName:v.name};m.email&&(w.email=m.email),m.phoneNumber&&(w.phoneNumber=m.phoneNumber);const A=Ne(v,p,w);return A.customData._tokenResponse=m,A}function ht(){return(ht=(0,l.Z)(function*(v,p){return jt(v,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function pn(v,p){return Er.apply(this,arguments)}function Er(){return(Er=(0,l.Z)(function*(v,p){return jt(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function sn(v,p){return er.apply(this,arguments)}function er(){return(er=(0,l.Z)(function*(v,p){return jt(v,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function Ar(v){if(v)try{const p=new Date(Number(v));if(!isNaN(p.getTime()))return p.toUTCString()}catch{}}function qr(){return(qr=(0,l.Z)(function*(v,p=!1){const m=(0,L.m9)(v),w=yield m.getIdToken(p),A=st(w);re(A&&A.exp&&A.auth_time&&A.iat,m.auth,"internal-error");const O="object"==typeof A.firebase?A.firebase:void 0,te=O?.sign_in_provider;return{claims:A,token:w,authTime:Ar(_n(A.auth_time)),issuedAtTime:Ar(_n(A.iat)),expirationTime:Ar(_n(A.exp)),signInProvider:te||null,signInSecondFactor:O?.sign_in_second_factor||null}})).apply(this,arguments)}function _n(v){return 1e3*Number(v)}function st(v){var p;const[m,w,A]=v.split(".");if(void 0===m||void 0===w||void 0===A)return tt("JWT malformed, contained fewer than 3 sections"),null;try{const O=(0,L.tV)(w);return O?JSON.parse(O):(tt("Failed to decode base64 JWT payload"),null)}catch(O){return tt("Caught error parsing JWT payload as JSON",null===(p=O)||void 0===p?void 0:p.toString()),null}}function In(v,p){return Sr.apply(this,arguments)}function Sr(){return(Sr=(0,l.Z)(function*(v,p,m=!1){if(m)return p;try{return yield p}catch(w){throw w instanceof L.ZR&&En(w)&&v.auth.currentUser===v&&(yield v.auth.signOut()),w}})).apply(this,arguments)}function En({code:v}){return"auth/user-disabled"===v||"auth/user-token-expired"===v}class Vt{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var m;if(p){const w=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),w}{this.errorBackoff=3e4;const A=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,A)}}schedule(p=!1){var m=this;if(!this.isRunning)return;const w=this.getInterval(p);this.timerId=setTimeout((0,l.Z)(function*(){yield m.iteration()}),w)}iteration(){var p=this;return(0,l.Z)(function*(){var m;try{yield p.user.getIdToken(!0)}catch(w){return void("auth/network-request-failed"===(null===(m=w)||void 0===m?void 0:m.code)&&p.schedule(!0))}p.schedule()})()}}class Cn{constructor(p,m){this.createdAt=p,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ar(this.lastLoginAt),this.creationTime=Ar(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Mr(v){return kt.apply(this,arguments)}function kt(){return(kt=(0,l.Z)(function*(v){var p;const m=v.auth,w=yield v.getIdToken(),A=yield In(v,sn(m,{idToken:w}));re(A?.users.length,m,"internal-error");const O=A.users[0];v._notifyReloadListener(O);const te=null!==(p=O.providerUserInfo)&&void 0!==p&&p.length?j(O.providerUserInfo):[],Ae=K(v.providerData,te),zt=!!v.isAnonymous&&!(v.email&&O.passwordHash||Ae?.length),Dn={uid:O.localId,displayName:O.displayName||null,photoURL:O.photoUrl||null,email:O.email||null,emailVerified:O.emailVerified||!1,phoneNumber:O.phoneNumber||null,tenantId:O.tenantId||null,providerData:Ae,metadata:new Cn(O.createdAt,O.lastLoginAt),isAnonymous:zt};Object.assign(v,Dn)})).apply(this,arguments)}function Pt(){return(Pt=(0,l.Z)(function*(v){const p=(0,L.m9)(v);yield Mr(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function K(v,p){return[...v.filter(w=>!p.some(A=>A.providerId===w.providerId)),...p]}function j(v){return v.map(p=>{var{providerId:m}=p,w=(0,se._T)(p,["providerId"]);return{providerId:m,uid:w.rawId||"",displayName:w.displayName||null,email:w.email||null,phoneNumber:w.phoneNumber||null,photoURL:w.photoUrl||null}})}function q(){return(q=(0,l.Z)(function*(v,p){const m=yield js(v,{},(0,l.Z)(function*(){const w=(0,L.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:A,apiKey:O}=v.config,te=ei(v,A,"/v1/token",`key=${O}`),Ae=yield v._getAdditionalHeaders();return Ae["Content-Type"]="application/x-www-form-urlencoded",Rn.fetch()(te,{method:"POST",headers:Ae,body:w})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class z{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){re(p.idToken,"internal-error"),re(typeof p.idToken<"u","internal-error"),re(typeof p.refreshToken<"u","internal-error");const m="expiresIn"in p&&typeof p.expiresIn<"u"?Number(p.expiresIn):function rt(v){const p=st(v);return re(p,"internal-error"),re(typeof p.exp<"u","internal-error"),re(typeof p.iat<"u","internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,m)}getToken(p,m=!1){var w=this;return(0,l.Z)(function*(){return re(!w.accessToken||w.refreshToken,p,"user-token-expired"),m||!w.accessToken||w.isExpired?w.refreshToken?(yield w.refresh(p,w.refreshToken),w.accessToken):null:w.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,m){var w=this;return(0,l.Z)(function*(){const{accessToken:A,refreshToken:O,expiresIn:te}=yield function U(v,p){return q.apply(this,arguments)}(p,m);w.updateTokensAndExpiration(A,O,Number(te))})()}updateTokensAndExpiration(p,m,w){this.refreshToken=m||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*w}static fromJSON(p,m){const{refreshToken:w,accessToken:A,expirationTime:O}=m,te=new z;return w&&(re("string"==typeof w,"internal-error",{appName:p}),te.refreshToken=w),A&&(re("string"==typeof A,"internal-error",{appName:p}),te.accessToken=A),O&&(re("number"==typeof O,"internal-error",{appName:p}),te.expirationTime=O),te}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new z,this.toJSON())}_performRefresh(){return ue("not implemented")}}function De(v,p){re("string"==typeof v||typeof v>"u","internal-error",{appName:p})}class qe{constructor(p){var{uid:m,auth:w,stsTokenManager:A}=p,O=(0,se._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Vt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=w,this.stsTokenManager=A,this.accessToken=A.accessToken,this.displayName=O.displayName||null,this.email=O.email||null,this.emailVerified=O.emailVerified||!1,this.phoneNumber=O.phoneNumber||null,this.photoURL=O.photoURL||null,this.isAnonymous=O.isAnonymous||!1,this.tenantId=O.tenantId||null,this.providerData=O.providerData?[...O.providerData]:[],this.metadata=new Cn(O.createdAt||void 0,O.lastLoginAt||void 0)}getIdToken(p){var m=this;return(0,l.Z)(function*(){const w=yield In(m,m.stsTokenManager.getToken(m.auth,p));return re(w,m.auth,"internal-error"),m.accessToken!==w&&(m.accessToken=w,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),w})()}getIdTokenResult(p){return function ln(v){return qr.apply(this,arguments)}(this,p)}reload(){return function ni(v){return Pt.apply(this,arguments)}(this)}_assign(p){this!==p&&(re(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(m=>Object.assign({},m)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){return new qe(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(p){re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,m=!1){var w=this;return(0,l.Z)(function*(){let A=!1;p.idToken&&p.idToken!==w.stsTokenManager.accessToken&&(w.stsTokenManager.updateFromServerResponse(p),A=!0),m&&(yield Mr(w)),yield w.auth._persistUserIfCurrent(w),A&&w.auth._notifyListenersIfCurrent(w)})()}delete(){var p=this;return(0,l.Z)(function*(){const m=yield p.getIdToken();return yield In(p,function Wi(v,p){return ht.apply(this,arguments)}(p.auth,{idToken:m})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,m){var w,A,O,te,Ae,Qe,ut,zt;const Dn=null!==(w=m.displayName)&&void 0!==w?w:void 0,ui=null!==(A=m.email)&&void 0!==A?A:void 0,Jo=null!==(O=m.phoneNumber)&&void 0!==O?O:void 0,Mc=null!==(te=m.photoURL)&&void 0!==te?te:void 0,yp=null!==(Ae=m.tenantId)&&void 0!==Ae?Ae:void 0,Va=null!==(Qe=m._redirectEventId)&&void 0!==Qe?Qe:void 0,Tu=null!==(ut=m.createdAt)&&void 0!==ut?ut:void 0,Ul=null!==(zt=m.lastLoginAt)&&void 0!==zt?zt:void 0,{uid:Cu,emailVerified:Bm,isAnonymous:wh,providerData:Rc,stsTokenManager:bh}=m;re(Cu&&bh,p,"internal-error");const vp=z.fromJSON(this.name,bh);re("string"==typeof Cu,p,"internal-error"),De(Dn,p.name),De(ui,p.name),re("boolean"==typeof Bm,p,"internal-error"),re("boolean"==typeof wh,p,"internal-error"),De(Jo,p.name),De(Mc,p.name),De(yp,p.name),De(Va,p.name),De(Tu,p.name),De(Ul,p.name);const Vl=new qe({uid:Cu,auth:p,email:ui,emailVerified:Bm,displayName:Dn,isAnonymous:wh,photoURL:Mc,phoneNumber:Jo,tenantId:yp,stsTokenManager:vp,createdAt:Tu,lastLoginAt:Ul});return Rc&&Array.isArray(Rc)&&(Vl.providerData=Rc.map(Ih=>Object.assign({},Ih))),Va&&(Vl._redirectEventId=Va),Vl}static _fromIdTokenResponse(p,m,w=!1){return(0,l.Z)(function*(){const A=new z;A.updateFromServerResponse(m);const O=new qe({uid:m.localId,auth:p,stsTokenManager:A,isAnonymous:w});return yield Mr(O),O})()}}const un=(()=>{class v{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,l.Z)(function*(){return!0})()}_set(m,w){var A=this;return(0,l.Z)(function*(){A.storage[m]=w})()}_get(m){var w=this;return(0,l.Z)(function*(){const A=w.storage[m];return void 0===A?null:A})()}_remove(m){var w=this;return(0,l.Z)(function*(){delete w.storage[m]})()}_addListener(m,w){}_removeListener(m,w){}}return v.type="NONE",v})();function cn(v,p,m){return`firebase:${v}:${p}:${m}`}class Zn{constructor(p,m,w){this.persistence=p,this.auth=m,this.userKey=w;const{config:A,name:O}=this.auth;this.fullUserKey=cn(this.userKey,A.apiKey,O),this.fullPersistenceKey=cn("persistence",A.apiKey,O),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,l.Z)(function*(){const m=yield p.persistence._get(p.fullUserKey);return m?qe._fromJSON(p.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var m=this;return(0,l.Z)(function*(){if(m.persistence===p)return;const w=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=p,w?m.setCurrentUser(w):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,m,w="authUser"){return(0,l.Z)(function*(){if(!m.length)return new Zn(ee(un),p,w);const A=(yield Promise.all(m.map(function(){var ut=(0,l.Z)(function*(zt){if(yield zt._isAvailable())return zt});return function(zt){return ut.apply(this,arguments)}}()))).filter(ut=>ut);let O=A[0]||ee(un);const te=cn(w,p.config.apiKey,p.name);let Ae=null;for(const ut of m)try{const zt=yield ut._get(te);if(zt){const Dn=qe._fromJSON(p,zt);ut!==O&&(Ae=Dn),O=ut;break}}catch{}const Qe=A.filter(ut=>ut._shouldAllowMigration);return O._shouldAllowMigration&&Qe.length?(O=Qe[0],Ae&&(yield O._set(te,Ae.toJSON())),yield Promise.all(m.map(function(){var ut=(0,l.Z)(function*(zt){if(zt!==O)try{yield zt._remove(te)}catch{}});return function(zt){return ut.apply(this,arguments)}}())),new Zn(O,p,w)):new Zn(O,p,w)})()}}function W(v){const p=v.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(He(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(Z(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(ze(p))return"Blackberry";if(pt(p))return"Webos";if(B(p))return"Safari";if((p.includes("chrome/")||we(p))&&!p.includes("edge/"))return"Chrome";if(Te(p))return"Android";{const w=v.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===w?.length)return w[1]}return"Other"}function Z(v=(0,L.z$)()){return/firefox\//i.test(v)}function B(v=(0,L.z$)()){const p=v.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function we(v=(0,L.z$)()){return/crios\//i.test(v)}function He(v=(0,L.z$)()){return/iemobile/i.test(v)}function Te(v=(0,L.z$)()){return/android/i.test(v)}function ze(v=(0,L.z$)()){return/blackberry/i.test(v)}function pt(v=(0,L.z$)()){return/webos/i.test(v)}function $t(v=(0,L.z$)()){return/iphone|ipad|ipod/i.test(v)||/macintosh/i.test(v)&&/mobile/i.test(v)}function qn(v=(0,L.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(v)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(v)}function on(v=(0,L.z$)()){return $t(v)||Te(v)||pt(v)||ze(v)||/windows phone/i.test(v)||He(v)}function Ki(v,p=[]){let m;switch(v){case"Browser":m=W((0,L.z$)());break;case"Worker":m=`${W((0,L.z$)())}-${v}`;break;default:m=v}const w=p.length?p.join(","):"FirebaseCore-web";return`${m}/JsCore/${P.SDK_VERSION}/${w}`}class Ft{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,m){const w=O=>new Promise((te,Ae)=>{try{te(p(O))}catch(Qe){Ae(Qe)}});w.onAbort=m,this.queue.push(w);const A=this.queue.length-1;return()=>{this.queue[A]=()=>Promise.resolve()}}runMiddleware(p){var m=this;return(0,l.Z)(function*(){var w;if(m.auth.currentUser===p)return;const A=[];try{for(const O of m.queue)yield O(p),O.onAbort&&A.push(O.onAbort)}catch(O){A.reverse();for(const te of A)try{te()}catch{}throw m.auth._errorFactory.create("login-blocked",{originalMessage:null===(w=O)||void 0===w?void 0:w.message})}})()}}class aa{constructor(p,m,w){this.app=p,this.heartbeatServiceProvider=m,this.config=w,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new wo(this),this.idTokenSubscription=new wo(this),this.beforeStateQueue=new Ft(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=it,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=w.sdkClientVersion}_initializeWithPersistence(p,m){var w=this;return m&&(this._popupRedirectResolver=ee(m)),this._initializationPromise=this.queue((0,l.Z)(function*(){var A,O;if(!w._deleted&&(w.persistenceManager=yield Zn.create(w,p),!w._deleted)){if(null!==(A=w._popupRedirectResolver)&&void 0!==A&&A._shouldInitProactively)try{yield w._popupRedirectResolver._initialize(w)}catch{}yield w.initializeCurrentUser(m),w.lastNotifiedUid=(null===(O=w.currentUser)||void 0===O?void 0:O.uid)||null,!w._deleted&&(w._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,l.Z)(function*(){if(p._deleted)return;const m=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||m){if(p.currentUser&&m&&p.currentUser.uid===m.uid)return p._currentUser._assign(m),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(m,!0)}})()}initializeCurrentUser(p){var m=this;return(0,l.Z)(function*(){var w;const A=yield m.assertedPersistence.getCurrentUser();let O=A,te=!1;if(p&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const Ae=null===(w=m.redirectUser)||void 0===w?void 0:w._redirectEventId,Qe=O?._redirectEventId,ut=yield m.tryRedirectSignIn(p);(!Ae||Ae===Qe)&&ut?.user&&(O=ut.user,te=!0)}if(!O)return m.directlySetCurrentUser(null);if(!O._redirectEventId){if(te)try{yield m.beforeStateQueue.runMiddleware(O)}catch(Ae){O=A,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(Ae))}return O?m.reloadAndSetCurrentUserOrClear(O):m.directlySetCurrentUser(null)}return re(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===O._redirectEventId?m.directlySetCurrentUser(O):m.reloadAndSetCurrentUserOrClear(O)})()}tryRedirectSignIn(p){var m=this;return(0,l.Z)(function*(){let w=null;try{w=yield m._popupRedirectResolver._completeRedirectFn(m,p,!0)}catch{yield m._setRedirectUser(null)}return w})()}reloadAndSetCurrentUserOrClear(p){var m=this;return(0,l.Z)(function*(){var w;try{yield Mr(p)}catch(A){if("auth/network-request-failed"!==(null===(w=A)||void 0===w?void 0:w.code))return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function Kt(){if(typeof navigator>"u")return null;const v=navigator;return v.languages&&v.languages[0]||v.language||null}()}_delete(){var p=this;return(0,l.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var m=this;return(0,l.Z)(function*(){const w=p?(0,L.m9)(p):null;return w&&re(w.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(w&&w._clone(m))})()}_updateCurrentUser(p,m=!1){var w=this;return(0,l.Z)(function*(){if(!w._deleted)return p&&re(w.tenantId===p.tenantId,w,"tenant-id-mismatch"),m||(yield w.beforeStateQueue.runMiddleware(p)),w.queue((0,l.Z)(function*(){yield w.directlySetCurrentUser(p),w.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,l.Z)(function*(){return yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0)})()}setPersistence(p){var m=this;return this.queue((0,l.Z)(function*(){yield m.assertedPersistence.setPersistence(ee(p))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new L.LL("auth","Firebase",p())}onAuthStateChanged(p,m,w){return this.registerStateListener(this.authStateSubscription,p,m,w)}beforeAuthStateChanged(p,m){return this.beforeStateQueue.pushCallback(p,m)}onIdTokenChanged(p,m,w){return this.registerStateListener(this.idTokenSubscription,p,m,w)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,m){var w=this;return(0,l.Z)(function*(){const A=yield w.getOrInitRedirectPersistenceManager(m);return null===p?A.removeCurrentUser():A.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var m=this;return(0,l.Z)(function*(){if(!m.redirectPersistenceManager){const w=p&&ee(p)||m._popupRedirectResolver;re(w,m,"argument-error"),m.redirectPersistenceManager=yield Zn.create(m,[ee(w._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(p){var m=this;return(0,l.Z)(function*(){var w,A;return m._isInitialized&&(yield m.queue((0,l.Z)(function*(){}))),(null===(w=m._currentUser)||void 0===w?void 0:w._redirectEventId)===p?m._currentUser:(null===(A=m.redirectUser)||void 0===A?void 0:A._redirectEventId)===p?m.redirectUser:null})()}_persistUserIfCurrent(p){var m=this;return(0,l.Z)(function*(){if(p===m.currentUser)return m.queue((0,l.Z)(function*(){return m.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const w=null!==(m=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==w&&(this.lastNotifiedUid=w,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,m,w,A){if(this._deleted)return()=>{};const O="function"==typeof m?m:m.next.bind(m),te=this._isInitialized?Promise.resolve():this._initializationPromise;return re(te,this,"internal-error"),te.then(()=>O(this.currentUser)),"function"==typeof m?p.addObserver(m,w,A):p.addObserver(m)}directlySetCurrentUser(p){var m=this;return(0,l.Z)(function*(){m.currentUser&&m.currentUser!==p&&(m._currentUser._stopProactiveRefresh(),p&&m.isProactiveRefreshEnabled&&p._startProactiveRefresh()),m.currentUser=p,p?yield m.assertedPersistence.setCurrentUser(p):yield m.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=Ki(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,l.Z)(function*(){var m;const w={"X-Client-Version":p.clientVersion};p.app.options.appId&&(w["X-Firebase-gmpid"]=p.app.options.appId);const A=yield null===(m=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();return A&&(w["X-Firebase-Client"]=A),w})()}}function Pn(v){return(0,L.m9)(v)}class wo{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,L.ne)(m=>this.observer=m)}get next(){return re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Hs(v,p,m){const w=Pn(v);re(w._canInitEmulator,w,"emulator-config-failed"),re(/^https?:\/\//.test(p),w,"invalid-emulator-scheme");const A=!!m?.disableWarnings,O=lr(p),{host:te,port:Ae}=function Zs(v){const p=lr(v),m=/(\/\/)?([^?#/]+)/.exec(v.substr(p.length));if(!m)return{host:"",port:null};const w=m[2].split("@").pop()||"",A=/^(\[[^\]]+\])(:|$)/.exec(w);if(A){const O=A[1];return{host:O,port:Ci(w.substr(O.length+1))}}{const[O,te]=w.split(":");return{host:O,port:Ci(te)}}}(p);w.config.emulator={url:`${O}//${te}${null===Ae?"":`:${Ae}`}/`},w.settings.appVerificationDisabledForTesting=!0,w.emulatorConfig=Object.freeze({host:te,port:Ae,protocol:O.replace(":",""),options:Object.freeze({disableWarnings:A})}),A||function zr(){function v(){const p=document.createElement("p"),m=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",v):v())}()}function lr(v){const p=v.indexOf(":");return p<0?"":v.substr(0,p+1)}function Ci(v){if(!v)return null;const p=Number(v);return isNaN(p)?null:p}class Gr{constructor(p,m){this.providerId=p,this.signInMethod=m}toJSON(){return ue("not implemented")}_getIdTokenResponse(p){return ue("not implemented")}_linkToIdToken(p,m){return ue("not implemented")}_getReauthenticationResolver(p){return ue("not implemented")}}function rc(v,p){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,l.Z)(function*(v,p){return jt(v,"POST","/v1/accounts:resetPassword",Wt(v,p))})).apply(this,arguments)}function gl(v,p){return ic.apply(this,arguments)}function ic(){return(ic=(0,l.Z)(function*(v,p){return jt(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function ou(v,p){return qs.apply(this,arguments)}function qs(){return(qs=(0,l.Z)(function*(v,p){return jt(v,"POST","/v1/accounts:update",Wt(v,p))})).apply(this,arguments)}function bs(){return(bs=(0,l.Z)(function*(v,p){return bn(v,"POST","/v1/accounts:signInWithPassword",Wt(v,p))})).apply(this,arguments)}function Wr(v,p){return zn.apply(this,arguments)}function zn(){return(zn=(0,l.Z)(function*(v,p){return jt(v,"POST","/v1/accounts:sendOobCode",Wt(v,p))})).apply(this,arguments)}function sc(v,p){return tr.apply(this,arguments)}function tr(){return(tr=(0,l.Z)(function*(v,p){return Wr(v,p)})).apply(this,arguments)}function di(v,p){return Is.apply(this,arguments)}function Is(){return(Is=(0,l.Z)(function*(v,p){return Wr(v,p)})).apply(this,arguments)}function ua(v,p){return zs.apply(this,arguments)}function zs(){return(zs=(0,l.Z)(function*(v,p){return Wr(v,p)})).apply(this,arguments)}function Ai(v,p){return ml.apply(this,arguments)}function ml(){return(ml=(0,l.Z)(function*(v,p){return Wr(v,p)})).apply(this,arguments)}function oc(){return(oc=(0,l.Z)(function*(v,p){return bn(v,"POST","/v1/accounts:signInWithEmailLink",Wt(v,p))})).apply(this,arguments)}function yl(){return(yl=(0,l.Z)(function*(v,p){return bn(v,"POST","/v1/accounts:signInWithEmailLink",Wt(v,p))})).apply(this,arguments)}class au extends Gr{constructor(p,m,w,A=null){super("password",w),this._email=p,this._password=m,this._tenantId=A}static _fromEmailAndPassword(p,m){return new au(p,m,"password")}static _fromEmailAndCode(p,m,w=null){return new au(p,m,"emailLink",w)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p;if(m?.email&&m?.password){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(p){var m=this;return(0,l.Z)(function*(){switch(m.signInMethod){case"password":return function bo(v,p){return bs.apply(this,arguments)}(p,{returnSecureToken:!0,email:m._email,password:m._password});case"emailLink":return function _l(v,p){return oc.apply(this,arguments)}(p,{email:m._email,oobCode:m._password});default:nt(p,"internal-error")}})()}_linkToIdToken(p,m){var w=this;return(0,l.Z)(function*(){switch(w.signInMethod){case"password":return gl(p,{idToken:m,returnSecureToken:!0,email:w._email,password:w._password});case"emailLink":return function Xd(v,p){return yl.apply(this,arguments)}(p,{idToken:m,email:w._email,oobCode:w._password});default:nt(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function Gs(v,p){return ri.apply(this,arguments)}function ri(){return(ri=(0,l.Z)(function*(v,p){return bn(v,"POST","/v1/accounts:signInWithIdp",Wt(v,p))})).apply(this,arguments)}class Yi extends Gr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const m=new Yi(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(m.idToken=p.idToken),p.accessToken&&(m.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(m.nonce=p.nonce),p.pendingToken&&(m.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(m.accessToken=p.oauthToken,m.secret=p.oauthTokenSecret):nt("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:w,signInMethod:A}=m,O=(0,se._T)(m,["providerId","signInMethod"]);if(!w||!A)return null;const te=new Yi(w,A);return te.idToken=O.idToken||void 0,te.accessToken=O.accessToken||void 0,te.secret=O.secret,te.nonce=O.nonce,te.pendingToken=O.pendingToken||null,te}_getIdTokenResponse(p){return Gs(p,this.buildRequest())}_linkToIdToken(p,m){const w=this.buildRequest();return w.idToken=m,Gs(p,w)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,Gs(p,m)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),p.postBody=(0,L.xO)(m)}return p}}function np(v,p){return vl.apply(this,arguments)}function vl(){return(vl=(0,l.Z)(function*(v,p){return jt(v,"POST","/v1/accounts:sendVerificationCode",Wt(v,p))})).apply(this,arguments)}function ca(){return(ca=(0,l.Z)(function*(v,p){return bn(v,"POST","/v1/accounts:signInWithPhoneNumber",Wt(v,p))})).apply(this,arguments)}function xl(){return(xl=(0,l.Z)(function*(v,p){const m=yield bn(v,"POST","/v1/accounts:signInWithPhoneNumber",Wt(v,p));if(m.temporaryProof)throw Fn(v,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const rp={USER_NOT_FOUND:"user-not-found"};function uu(){return(uu=(0,l.Z)(function*(v,p){return bn(v,"POST","/v1/accounts:signInWithPhoneNumber",Wt(v,Object.assign(Object.assign({},p),{operation:"REAUTH"})),rp)})).apply(this,arguments)}class Qi extends Gr{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,m){return new Qi({verificationId:p,verificationCode:m})}static _fromTokenResponse(p,m){return new Qi({phoneNumber:p,temporaryProof:m})}_getIdTokenResponse(p){return function ac(v,p){return ca.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,m){return function Io(v,p){return xl.apply(this,arguments)}(p,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function ip(v,p){return uu.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:m,verificationId:w,verificationCode:A}=this.params;return p&&m?{temporaryProof:p,phoneNumber:m}:{sessionInfo:w,code:A}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:m,verificationCode:w,phoneNumber:A,temporaryProof:O}=p;return w||m||A||O?new Qi({verificationId:m,verificationCode:w,phoneNumber:A,temporaryProof:O}):null}}class Eo{constructor(p){var m,w,A,O,te,Ae;const Qe=(0,L.zd)((0,L.pd)(p)),ut=null!==(m=Qe.apiKey)&&void 0!==m?m:null,zt=null!==(w=Qe.oobCode)&&void 0!==w?w:null,Dn=function sp(v){switch(v){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(A=Qe.mode)&&void 0!==A?A:null);re(ut&&zt&&Dn,"argument-error"),this.apiKey=ut,this.operation=Dn,this.code=zt,this.continueUrl=null!==(O=Qe.continueUrl)&&void 0!==O?O:null,this.languageCode=null!==(te=Qe.languageCode)&&void 0!==te?te:null,this.tenantId=null!==(Ae=Qe.tenantId)&&void 0!==Ae?Ae:null}static parseLink(p){const m=function Tm(v){const p=(0,L.zd)((0,L.pd)(v)).link,m=p?(0,L.zd)((0,L.pd)(p)).deep_link_id:null,w=(0,L.zd)((0,L.pd)(v)).deep_link_id;return(w?(0,L.zd)((0,L.pd)(w)).link:null)||w||m||p||v}(p);try{return new Eo(m)}catch{return null}}}let la=(()=>{class v{constructor(){this.providerId=v.PROVIDER_ID}static credential(m,w){return au._fromEmailAndPassword(m,w)}static credentialWithLink(m,w){const A=Eo.parseLink(w);return re(A,"argument-error"),au._fromEmailAndCode(m,A.code,A.tenantId)}}return v.PROVIDER_ID="password",v.EMAIL_PASSWORD_SIGN_IN_METHOD="password",v.EMAIL_LINK_SIGN_IN_METHOD="emailLink",v})();class ii{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class Ws extends ii{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class To extends Ws{static credentialFromJSON(p){const m="string"==typeof p?JSON.parse(p):p;return re("providerId"in m&&"signInMethod"in m,"argument-error"),Yi._fromParams(m)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return re(p.idToken||p.accessToken,"argument-error"),Yi._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return To.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return To.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:m,oauthAccessToken:w,oauthTokenSecret:A,pendingToken:O,nonce:te,providerId:Ae}=p;if(!w&&!A&&!m&&!O||!Ae)return null;try{return new To(Ae)._credential({idToken:m,accessToken:w,nonce:te,pendingToken:O})}catch{return null}}}let eh=(()=>{class v extends Ws{constructor(){super("facebook.com")}static credential(m){return Yi._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return v.credential(m.oauthAccessToken)}catch{return null}}}return v.FACEBOOK_SIGN_IN_METHOD="facebook.com",v.PROVIDER_ID="facebook.com",v})(),da=(()=>{class v extends Ws{constructor(){super("google.com"),this.addScope("profile")}static credential(m,w){return Yi._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:w})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:w,oauthAccessToken:A}=m;if(!w&&!A)return null;try{return v.credential(w,A)}catch{return null}}}return v.GOOGLE_SIGN_IN_METHOD="google.com",v.PROVIDER_ID="google.com",v})(),cu=(()=>{class v extends Ws{constructor(){super("github.com")}static credential(m){return Yi._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return v.credential(m.oauthAccessToken)}catch{return null}}}return v.GITHUB_SIGN_IN_METHOD="github.com",v.PROVIDER_ID="github.com",v})();class Ks extends Gr{constructor(p,m){super(p,p),this.pendingToken=m}_getIdTokenResponse(p){return Gs(p,this.buildRequest())}_linkToIdToken(p,m){const w=this.buildRequest();return w.idToken=m,Gs(p,w)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,Gs(p,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:w,signInMethod:A,pendingToken:O}=m;return w&&A&&O&&w===A?new Ks(w,O):null}static _create(p,m){return new Ks(p,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class On extends ii{constructor(p){re(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return On.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return On.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const m=Ks.fromJSON(p);return re(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:m,providerId:w}=p;if(!m||!w)return null;try{return Ks._create(w,m)}catch{return null}}}let hi=(()=>{class v extends Ws{constructor(){super("twitter.com")}static credential(m,w){return Yi._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:w})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:w,oauthTokenSecret:A}=m;if(!w||!A)return null;try{return v.credential(w,A)}catch{return null}}}return v.TWITTER_SIGN_IN_METHOD="twitter.com",v.PROVIDER_ID="twitter.com",v})();function wl(v,p){return Ys.apply(this,arguments)}function Ys(){return(Ys=(0,l.Z)(function*(v,p){return bn(v,"POST","/v1/accounts:signUp",Wt(v,p))})).apply(this,arguments)}class fi{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,m,w,A=!1){return(0,l.Z)(function*(){const O=yield qe._fromIdTokenResponse(p,w,A),te=uc(w);return new fi({user:O,providerId:te,_tokenResponse:w,operationType:m})})()}static _forOperation(p,m,w){return(0,l.Z)(function*(){yield p._updateTokensIfNecessary(w,!0);const A=uc(w);return new fi({user:p,providerId:A,_tokenResponse:w,operationType:m})})()}}function uc(v){return v.providerId?v.providerId:"phoneNumber"in v?"phone":null}function Gn(v){return lu.apply(this,arguments)}function lu(){return(lu=(0,l.Z)(function*(v){var p;const m=Pn(v);if(yield m._initializationPromise,null!==(p=m.currentUser)&&void 0!==p&&p.isAnonymous)return new fi({user:m.currentUser,providerId:null,operationType:"signIn"});const w=yield wl(m,{returnSecureToken:!0}),A=yield fi._fromIdTokenResponse(m,"signIn",w,!0);return yield m._updateCurrentUser(A.user),A})).apply(this,arguments)}class bl extends L.ZR{constructor(p,m,w,A){var O;super(m.code,m.message),this.operationType=w,this.user=A,Object.setPrototypeOf(this,bl.prototype),this.customData={appName:p.name,tenantId:null!==(O=p.tenantId)&&void 0!==O?O:void 0,_serverResponse:m.customData._serverResponse,operationType:w}}static _fromErrorAndOperation(p,m,w,A){return new bl(p,m,w,A)}}function ha(v,p,m,w){return("reauthenticate"===p?m._getReauthenticationResolver(v):m._getIdTokenResponse(v)).catch(O=>{throw"auth/multi-factor-auth-required"===O.code?bl._fromErrorAndOperation(v,O,p,w):O})}function Kr(v){return new Set(v.map(({providerId:p})=>p).filter(p=>!!p))}function Es(v,p){return Qs.apply(this,arguments)}function Qs(){return(Qs=(0,l.Z)(function*(v,p){const m=(0,L.m9)(v);yield Js(!0,m,p);const{providerUserInfo:w}=yield pn(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[p]}),A=Kr(w||[]);return m.providerData=m.providerData.filter(O=>A.has(O.providerId)),A.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m})).apply(this,arguments)}function Ji(v,p){return yr.apply(this,arguments)}function yr(){return(yr=(0,l.Z)(function*(v,p,m=!1){const w=yield In(v,p._linkToIdToken(v.auth,yield v.getIdToken()),m);return fi._forOperation(v,"link",w)})).apply(this,arguments)}function Js(v,p,m){return Si.apply(this,arguments)}function Si(){return(Si=(0,l.Z)(function*(v,p,m){yield Mr(p);const A=!1===v?"provider-already-linked":"no-such-provider";re(Kr(p.providerData).has(m)===v,p.auth,A)})).apply(this,arguments)}function Ds(v,p){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,l.Z)(function*(v,p,m=!1){var w;const{auth:A}=v,O="reauthenticate";try{const te=yield In(v,ha(A,O,p,v),m);re(te.idToken,A,"internal-error");const Ae=st(te.idToken);re(Ae,A,"internal-error");const{sub:Qe}=Ae;return re(v.uid===Qe,A,"user-mismatch"),fi._forOperation(v,O,te)}catch(te){throw"auth/user-not-found"===(null===(w=te)||void 0===w?void 0:w.code)&&nt(A,"user-mismatch"),te}})).apply(this,arguments)}function Ts(v,p){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,l.Z)(function*(v,p,m=!1){const w="signIn",A=yield ha(v,w,p),O=yield fi._fromIdTokenResponse(v,w,A);return m||(yield v._updateCurrentUser(O.user)),O})).apply(this,arguments)}function bt(v,p){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,l.Z)(function*(v,p){return Ts(Pn(v),p)})).apply(this,arguments)}function nh(v,p){return fa.apply(this,arguments)}function fa(){return(fa=(0,l.Z)(function*(v,p){const m=(0,L.m9)(v);return yield Js(!1,m,p.providerId),Ji(m,p)})).apply(this,arguments)}function Il(v,p){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,l.Z)(function*(v,p){return Ds((0,L.m9)(v),p)})).apply(this,arguments)}function Co(v,p){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,l.Z)(function*(v,p){return bn(v,"POST","/v1/accounts:signInWithCustomToken",Wt(v,p))})).apply(this,arguments)}function du(v,p){return Ce.apply(this,arguments)}function Ce(){return(Ce=(0,l.Z)(function*(v,p){const m=Pn(v),w=yield Co(m,{token:p,returnSecureToken:!0}),A=yield fi._fromIdTokenResponse(m,"signIn",w);return yield m._updateCurrentUser(A.user),A})).apply(this,arguments)}class Zt{constructor(p,m){this.factorId=p,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(p,m){return"phoneInfo"in m?So._fromServerResponse(p,m):nt(p,"internal-error")}}class So extends Zt{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,m){return new So(m)}}function Mo(v,p,m){var w;re((null===(w=m.url)||void 0===w?void 0:w.length)>0,v,"invalid-continue-uri"),re(typeof m.dynamicLinkDomain>"u"||m.dynamicLinkDomain.length>0,v,"invalid-dynamic-link-domain"),p.continueUrl=m.url,p.dynamicLinkDomain=m.dynamicLinkDomain,p.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(re(m.iOS.bundleId.length>0,v,"missing-ios-bundle-id"),p.iOSBundleId=m.iOS.bundleId),m.android&&(re(m.android.packageName.length>0,v,"missing-android-pkg-name"),p.androidInstallApp=m.android.installApp,p.androidMinimumVersionCode=m.android.minimumVersion,p.androidPackageName=m.android.packageName)}function Un(v,p,m){return eo.apply(this,arguments)}function eo(){return(eo=(0,l.Z)(function*(v,p,m){const w=(0,L.m9)(v),A={requestType:"PASSWORD_RESET",email:p};m&&Mo(w,A,m),yield di(w,A)})).apply(this,arguments)}function Ro(v,p,m){return Rr.apply(this,arguments)}function Rr(){return(Rr=(0,l.Z)(function*(v,p,m){yield rc((0,L.m9)(v),{oobCode:p,newPassword:m})})).apply(this,arguments)}function cc(v,p){return to.apply(this,arguments)}function to(){return(to=(0,l.Z)(function*(v,p){yield ou((0,L.m9)(v),{oobCode:p})})).apply(this,arguments)}function pa(v,p){return Po.apply(this,arguments)}function Po(){return(Po=(0,l.Z)(function*(v,p){const m=(0,L.m9)(v),w=yield rc(m,{oobCode:p}),A=w.requestType;switch(re(A,m,"internal-error"),A){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":re(w.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":re(w.mfaInfo,m,"internal-error");default:re(w.email,m,"internal-error")}let O=null;return w.mfaInfo&&(O=Zt._fromServerResponse(Pn(m),w.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.newEmail:w.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.email:w.newEmail)||null,multiFactorInfo:O},operation:A}})).apply(this,arguments)}function Cm(v,p){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,l.Z)(function*(v,p){const{data:m}=yield pa((0,L.m9)(v),p);return m.email})).apply(this,arguments)}function dr(v,p,m){return si.apply(this,arguments)}function si(){return(si=(0,l.Z)(function*(v,p,m){const w=Pn(v),A=yield wl(w,{returnSecureToken:!0,email:p,password:m}),O=yield fi._fromIdTokenResponse(w,"signIn",A);return yield w._updateCurrentUser(O.user),O})).apply(this,arguments)}function lc(v,p,m){return bt((0,L.m9)(v),la.credential(p,m))}function no(v,p,m){return pi.apply(this,arguments)}function pi(){return(pi=(0,l.Z)(function*(v,p,m){const w=(0,L.m9)(v),A={requestType:"EMAIL_SIGNIN",email:p};re(m.handleCodeInApp,w,"argument-error"),m&&Mo(w,A,m),yield ua(w,A)})).apply(this,arguments)}function rh(v,p){return"EMAIL_SIGNIN"===Eo.parseLink(p)?.operation}function dc(v,p,m){return hu.apply(this,arguments)}function hu(){return(hu=(0,l.Z)(function*(v,p,m){const w=(0,L.m9)(v),A=la.credentialWithLink(p,m||Ue());return re(A._tenantId===(w.tenantId||null),w,"tenant-id-mismatch"),bt(w,A)})).apply(this,arguments)}function hc(v,p){return ga.apply(this,arguments)}function ga(){return(ga=(0,l.Z)(function*(v,p){return jt(v,"POST","/v1/accounts:createAuthUri",Wt(v,p))})).apply(this,arguments)}function ma(v,p){return Oo.apply(this,arguments)}function Oo(){return(Oo=(0,l.Z)(function*(v,p){const w={identifier:p,continueUri:Ve()?Ue():"http://localhost"},{signinMethods:A}=yield hc((0,L.m9)(v),w);return A||[]})).apply(this,arguments)}function fc(v,p){return _a.apply(this,arguments)}function _a(){return(_a=(0,l.Z)(function*(v,p){const m=(0,L.m9)(v),A={requestType:"VERIFY_EMAIL",idToken:yield v.getIdToken()};p&&Mo(m.auth,A,p);const{email:O}=yield sc(m.auth,A);O!==v.email&&(yield v.reload())})).apply(this,arguments)}function fu(v,p,m){return ko.apply(this,arguments)}function ko(){return(ko=(0,l.Z)(function*(v,p,m){const w=(0,L.m9)(v),O={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield v.getIdToken(),newEmail:p};m&&Mo(w.auth,O,m);const{email:te}=yield Ai(w.auth,O);te!==v.email&&(yield v.reload())})).apply(this,arguments)}function El(v,p){return No.apply(this,arguments)}function No(){return(No=(0,l.Z)(function*(v,p){return jt(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Dl(v,p){return Fo.apply(this,arguments)}function Fo(){return(Fo=(0,l.Z)(function*(v,{displayName:p,photoURL:m}){if(void 0===p&&void 0===m)return;const w=(0,L.m9)(v),O={idToken:yield w.getIdToken(),displayName:p,photoUrl:m,returnSecureToken:!0},te=yield In(w,El(w.auth,O));w.displayName=te.displayName||null,w.photoURL=te.photoUrl||null;const Ae=w.providerData.find(({providerId:Qe})=>"password"===Qe);Ae&&(Ae.displayName=w.displayName,Ae.photoURL=w.photoURL),yield w._updateTokensIfNecessary(te)})).apply(this,arguments)}function pu(v,p){return ya((0,L.m9)(v),p,null)}function ih(v,p){return ya((0,L.m9)(v),null,p)}function ya(v,p,m){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,l.Z)(function*(v,p,m){const{auth:w}=v,O={idToken:yield v.getIdToken(),returnSecureToken:!0};p&&(O.email=p),m&&(O.password=m);const te=yield In(v,gl(w,O));yield v._updateTokensIfNecessary(te,!0)})).apply(this,arguments)}class gn{constructor(p,m,w={}){this.isNewUser=p,this.providerId=m,this.profile=w}}class sh extends gn{constructor(p,m,w,A){super(p,m,w),this.username=A}}class oh extends gn{constructor(p,m){super(p,"facebook.com",m)}}class ah extends sh{constructor(p,m){super(p,"github.com",m,"string"==typeof m?.login?m?.login:null)}}class pc extends gn{constructor(p,m){super(p,"google.com",m)}}class Tl extends sh{constructor(p,m,w){super(p,"twitter.com",m,w)}}function gc(v){const{user:p,_tokenResponse:m}=v;return p.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function Pi(v){var p,m;if(!v)return null;const{providerId:w}=v,A=v.rawUserInfo?JSON.parse(v.rawUserInfo):{},O=v.isNewUser||"identitytoolkit#SignupNewUserResponse"===v.kind;if(!w&&v?.idToken){const te=null===(m=null===(p=st(v.idToken))||void 0===p?void 0:p.firebase)||void 0===m?void 0:m.sign_in_provider;if(te)return new gn(O,"anonymous"!==te&&"custom"!==te?te:null)}if(!w)return null;switch(w){case"facebook.com":return new oh(O,A);case"github.com":return new ah(O,A);case"google.com":return new pc(O,A);case"twitter.com":return new Tl(O,A,v.screenName||null);case"custom":case"anonymous":return new gn(O,null);default:return new gn(O,w,A)}}(m)}class Uo{constructor(p,m){this.type=p,this.credential=m}static _fromIdtoken(p){return new Uo("enroll",p)}static _fromMfaPendingCredential(p){return new Uo("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var m,w;if(p?.multiFactorSession){if(null!==(m=p.multiFactorSession)&&void 0!==m&&m.pendingCredential)return Uo._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null!==(w=p.multiFactorSession)&&void 0!==w&&w.idToken)return Uo._fromIdtoken(p.multiFactorSession.idToken)}return null}}class Vo{constructor(p,m,w){this.session=p,this.hints=m,this.signInResolver=w}static _fromError(p,m){const w=Pn(p),A=m.customData._serverResponse,O=(A.mfaInfo||[]).map(Ae=>Zt._fromServerResponse(w,Ae));re(A.mfaPendingCredential,w,"internal-error");const te=Uo._fromMfaPendingCredential(A.mfaPendingCredential);return new Vo(te,O,function(){var Ae=(0,l.Z)(function*(Qe){const ut=yield Qe._process(w,te);delete A.mfaInfo,delete A.mfaPendingCredential;const zt=Object.assign(Object.assign({},A),{idToken:ut.idToken,refreshToken:ut.refreshToken});switch(m.operationType){case"signIn":const Dn=yield fi._fromIdTokenResponse(w,m.operationType,zt);return yield w._updateCurrentUser(Dn.user),Dn;case"reauthenticate":return re(m.user,w,"internal-error"),fi._forOperation(m.user,m.operationType,zt);default:nt(w,"internal-error")}});return function(Qe){return Ae.apply(this,arguments)}}())}resolveSignIn(p){var m=this;return(0,l.Z)(function*(){return m.signInResolver(p)})()}}function _c(v,p){var m;const w=(0,L.m9)(v),A=p;return re(p.customData.operationType,w,"argument-error"),re(null===(m=A.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,w,"argument-error"),Vo._fromError(w,A)}function hr(v,p){return jt(v,"POST","/v2/accounts/mfaEnrollment:start",Wt(v,p))}class dh{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(w=>Zt._fromServerResponse(p.auth,w)))})}static _fromUser(p){return new dh(p)}getSession(){var p=this;return(0,l.Z)(function*(){return Uo._fromIdtoken(yield p.user.getIdToken())})()}enroll(p,m){var w=this;return(0,l.Z)(function*(){const A=p,O=yield w.getSession(),te=yield In(w.user,A._process(w.user.auth,O,m));return yield w.user._updateTokensIfNecessary(te),w.user.reload()})()}unenroll(p){var m=this;return(0,l.Z)(function*(){var w;const A="string"==typeof p?p:p.uid,O=yield m.user.getIdToken(),te=yield In(m.user,function Sm(v,p){return jt(v,"POST","/v2/accounts/mfaEnrollment:withdraw",Wt(v,p))}(m.user.auth,{idToken:O,mfaEnrollmentId:A}));m.enrolledFactors=m.enrolledFactors.filter(({uid:Ae})=>Ae!==A),yield m.user._updateTokensIfNecessary(te);try{yield m.user.reload()}catch(Ae){if("auth/user-token-expired"!==(null===(w=Ae)||void 0===w?void 0:w.code))throw Ae}})()}}const xa=new WeakMap;function yc(v){const p=(0,L.m9)(v);return xa.has(p)||xa.set(p,dh._fromUser(p)),xa.get(p)}const wa="__sak";class Bo{constructor(p,m){this.storageRetriever=p,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(wa,"1"),this.storage.removeItem(wa),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(p,m){return this.storage.setItem(p,JSON.stringify(m)),Promise.resolve()}_get(p){const m=this.storage.getItem(p);return Promise.resolve(m?JSON.parse(m):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const nr=(()=>{class v extends Bo{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,w)=>this.onStorageEvent(m,w),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function hh(){const v=(0,L.z$)();return B(v)||$t(v)}()&&function $s(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=on(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const w of Object.keys(this.listeners)){const A=this.storage.getItem(w),O=this.localCache[w];A!==O&&m(w,O,A)}}onStorageEvent(m,w=!1){if(!m.key)return void this.forAllChangedKeys((Ae,Qe,ut)=>{this.notifyListeners(Ae,ut)});const A=m.key;if(w?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Ae=this.storage.getItem(A);if(m.newValue!==Ae)null!==m.newValue?this.storage.setItem(A,m.newValue):this.storage.removeItem(A);else if(this.localCache[A]===m.newValue&&!w)return}const O=()=>{const Ae=this.storage.getItem(A);!w&&this.localCache[A]===Ae||this.notifyListeners(A,Ae)},te=this.storage.getItem(A);!function Nt(){return(0,L.w1)()&&10===document.documentMode}()||te===m.newValue||m.newValue===m.oldValue?O():setTimeout(O,10)}notifyListeners(m,w){this.localCache[m]=w;const A=this.listeners[m];if(A)for(const O of Array.from(A))O(w&&JSON.parse(w))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,w,A)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:w,newValue:A}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,w){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(w)}_removeListener(m,w){this.listeners[m]&&(this.listeners[m].delete(w),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,w){var A=()=>super._set,O=this;return(0,l.Z)(function*(){yield A().call(O,m,w),O.localCache[m]=JSON.stringify(w)})()}_get(m){var w=()=>super._get,A=this;return(0,l.Z)(function*(){const O=yield w().call(A,m);return A.localCache[m]=JSON.stringify(O),O})()}_remove(m){var w=()=>super._remove,A=this;return(0,l.Z)(function*(){yield w().call(A,m),delete A.localCache[m]})()}}return v.type="LOCAL",v})(),Ia=(()=>{class v extends Bo{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,w){}_removeListener(m,w){}}return v.type="SESSION",v})();let Cl=(()=>{class v{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const w=this.receivers.find(O=>O.isListeningto(m));if(w)return w;const A=new v(m);return this.receivers.push(A),A}isListeningto(m){return this.eventTarget===m}handleEvent(m){var w=this;return(0,l.Z)(function*(){const A=m,{eventId:O,eventType:te,data:Ae}=A.data,Qe=w.handlersMap[te];if(!Qe?.size)return;A.ports[0].postMessage({status:"ack",eventId:O,eventType:te});const ut=Array.from(Qe).map(function(){var Dn=(0,l.Z)(function*(ui){return ui(A.origin,Ae)});return function(ui){return Dn.apply(this,arguments)}}()),zt=yield function ap(v){return Promise.all(v.map(function(){var p=(0,l.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(w){return{fulfilled:!1,reason:w}}});return function(m){return p.apply(this,arguments)}}()))}(ut);A.ports[0].postMessage({status:"done",eventId:O,eventType:te,response:zt})})()}_subscribe(m,w){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(w)}_unsubscribe(m,w){this.handlersMap[m]&&w&&this.handlersMap[m].delete(w),(!w||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return v.receivers=[],v})();function tn(v="",p=10){let m="";for(let w=0;w<p;w++)m+=Math.floor(10*Math.random());return v+m}class Ea{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,m,w=50){var A=this;return(0,l.Z)(function*(){const O=typeof MessageChannel<"u"?new MessageChannel:null;if(!O)throw new Error("connection_unavailable");let te,Ae;return new Promise((Qe,ut)=>{const zt=tn("",20);O.port1.start();const Dn=setTimeout(()=>{ut(new Error("unsupported_event"))},w);Ae={messageChannel:O,onMessage(ui){const Jo=ui;if(Jo.data.eventId===zt)switch(Jo.data.status){case"ack":clearTimeout(Dn),te=setTimeout(()=>{ut(new Error("timeout"))},3e3);break;case"done":clearTimeout(te),Qe(Jo.data.response);break;default:clearTimeout(Dn),clearTimeout(te),ut(new Error("invalid_response"))}}},A.handlers.add(Ae),O.port1.addEventListener("message",Ae.onMessage),A.target.postMessage({eventType:p,eventId:zt,data:m},[O.port2])}).finally(()=>{Ae&&A.removeMessageHandler(Ae)})})()}}function Ze(){return window}function Kn(){return typeof Ze().WorkerGlobalScope<"u"&&"function"==typeof Ze().importScripts}function ki(){return(ki=(0,l.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Al="firebaseLocalStorageDb",Da="firebaseLocalStorage",Ta="fbase_key";class jo{constructor(p){this.request=p}toPromise(){return new Promise((p,m)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function Ni(v,p){return v.transaction([Da],p?"readwrite":"readonly").objectStore(Da)}function es(){const v=indexedDB.open(Al,1);return new Promise((p,m)=>{v.addEventListener("error",()=>{m(v.error)}),v.addEventListener("upgradeneeded",()=>{const w=v.result;try{w.createObjectStore(Da,{keyPath:Ta})}catch(A){m(A)}}),v.addEventListener("success",(0,l.Z)(function*(){const w=v.result;w.objectStoreNames.contains(Da)?p(w):(w.close(),yield function Dt(){const v=indexedDB.deleteDatabase(Al);return new jo(v).toPromise()}(),p(yield es()))}))})}function Sl(v,p,m){return $o.apply(this,arguments)}function $o(){return($o=(0,l.Z)(function*(v,p,m){const w=Ni(v,!0).put({[Ta]:p,value:m});return new jo(w).toPromise()})).apply(this,arguments)}function vn(){return(vn=(0,l.Z)(function*(v,p){const m=Ni(v,!1).get(p),w=yield new jo(m).toPromise();return void 0===w?null:w.value})).apply(this,arguments)}function vu(v,p){const m=Ni(v,!0).delete(p);return new jo(m).toPromise()}const ts=(()=>{class v{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,l.Z)(function*(){return m.db||(m.db=yield es()),m.db})()}_withRetries(m){var w=this;return(0,l.Z)(function*(){let A=0;for(;;)try{const O=yield w._openDb();return yield m(O)}catch(O){if(A++>3)throw O;w.db&&(w.db.close(),w.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,l.Z)(function*(){return Kn()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,l.Z)(function*(){m.receiver=Cl._getInstance(function _u(){return Kn()?self:null}()),m.receiver._subscribe("keyChanged",function(){var w=(0,l.Z)(function*(A,O){return{keyProcessed:(yield m._poll()).includes(O.key)}});return function(A,O){return w.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var w=(0,l.Z)(function*(A,O){return["keyChanged"]});return function(A,O){return w.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,l.Z)(function*(){var w,A;if(m.activeServiceWorker=yield function mu(){return ki.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new Ea(m.activeServiceWorker);const O=yield m.sender._send("ping",{},800);!O||(null===(w=O[0])||void 0===w?void 0:w.fulfilled)&&(null===(A=O[0])||void 0===A?void 0:A.value.includes("keyChanged"))&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var w=this;return(0,l.Z)(function*(){if(w.sender&&w.activeServiceWorker&&function oi(){var v;return(null===(v=navigator?.serviceWorker)||void 0===v?void 0:v.controller)||null}()===w.activeServiceWorker)try{yield w.sender._send("keyChanged",{key:m},w.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,l.Z)(function*(){try{if(!indexedDB)return!1;const m=yield es();return yield Sl(m,wa,"1"),yield vu(m,wa),!0}catch{}return!1})()}_withPendingWrite(m){var w=this;return(0,l.Z)(function*(){w.pendingWrites++;try{yield m()}finally{w.pendingWrites--}})()}_set(m,w){var A=this;return(0,l.Z)(function*(){return A._withPendingWrite((0,l.Z)(function*(){return yield A._withRetries(O=>Sl(O,m,w)),A.localCache[m]=w,A.notifyServiceWorker(m)}))})()}_get(m){var w=this;return(0,l.Z)(function*(){const A=yield w._withRetries(O=>function Ml(v,p){return vn.apply(this,arguments)}(O,m));return w.localCache[m]=A,A})()}_remove(m){var w=this;return(0,l.Z)(function*(){return w._withPendingWrite((0,l.Z)(function*(){return yield w._withRetries(A=>vu(A,m)),delete w.localCache[m],w.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,l.Z)(function*(){const w=yield m._withRetries(te=>{const Ae=Ni(te,!1).getAll();return new jo(Ae).toPromise()});if(!w)return[];if(0!==m.pendingWrites)return[];const A=[],O=new Set;for(const{fbase_key:te,value:Ae}of w)O.add(te),JSON.stringify(m.localCache[te])!==JSON.stringify(Ae)&&(m.notifyListeners(te,Ae),A.push(te));for(const te of Object.keys(m.localCache))m.localCache[te]&&!O.has(te)&&(m.notifyListeners(te,null),A.push(te));return A})()}notifyListeners(m,w){this.localCache[m]=w;const A=this.listeners[m];if(A)for(const O of Array.from(A))O(w)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,l.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,w){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(w)}_removeListener(m,w){this.listeners[m]&&(this.listeners[m].delete(w),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return v.type="LOCAL",v})();function xc(v,p){return jt(v,"POST","/v2/accounts/mfaSignIn:start",Wt(v,p))}function fr(){return(fr=(0,l.Z)(function*(v){return(yield jt(v,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function io(v){return new Promise((p,m)=>{const w=document.createElement("script");w.setAttribute("src",v),w.onload=p,w.onerror=A=>{const O=Ne("internal-error");O.customData=A,m(O)},w.type="text/javascript",w.charset="UTF-8",function wc(){var v,p;return null!==(p=null===(v=document.getElementsByTagName("head"))||void 0===v?void 0:v[0])&&void 0!==p?p:document}().appendChild(w)})}function Pr(v){return`__${v}${Math.floor(1e6*Math.random())}`}const mt=1e12;class wu{constructor(p){this.auth=p,this.counter=mt,this._widgets=new Map}render(p,m){const w=this.counter;return this._widgets.set(w,new up(p,this.auth.name,m||{})),this.counter++,w}reset(p){var m;const w=p||mt;null===(m=this._widgets.get(w))||void 0===m||m.delete(),this._widgets.delete(w)}getResponse(p){var m;return(null===(m=this._widgets.get(p||mt))||void 0===m?void 0:m.getResponse())||""}execute(p){var m=this;return(0,l.Z)(function*(){var w;return null===(w=m._widgets.get(p||mt))||void 0===w||w.execute(),""})()}}class up{constructor(p,m,w){this.params=w,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const A="string"==typeof p?document.getElementById(p):p;re(A,"argument-error",{appName:m}),this.container=A,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Yn(v){const p=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let w=0;w<v;w++)p.push(m.charAt(Math.floor(Math.random()*m.length)));return p.join("")}(50);const{callback:p,"expired-callback":m}=this.params;if(p)try{p(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Ho=Pr("rcb"),Rl=new We(3e4,6e4);class Or{constructor(){var p;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(p=Ze().grecaptcha)||void 0===p||!p.render)}load(p,m=""){return re(function Ui(v){return v.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(v)}(m),p,"argument-error"),this.shouldResolveImmediately(m)?Promise.resolve(Ze().grecaptcha):new Promise((w,A)=>{const O=Ze().setTimeout(()=>{A(Ne(p,"network-request-failed"))},Rl.get());Ze()[Ho]=()=>{Ze().clearTimeout(O),delete Ze()[Ho];const Ae=Ze().grecaptcha;if(!Ae)return void A(Ne(p,"internal-error"));const Qe=Ae.render;Ae.render=(ut,zt)=>{const Dn=Qe(ut,zt);return this.counter++,Dn},this.hostLanguage=m,w(Ae)},io(`https://www.google.com/recaptcha/api.js??${(0,L.xO)({onload:Ho,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(O),A(Ne(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){var m;return!(null===(m=Ze().grecaptcha)||void 0===m||!m.render)&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class cp{load(p){return(0,l.Z)(function*(){return new wu(p)})()}clearedOneInstance(){}}const lp="recaptcha",yn={theme:"light",type:"image"};class Ss{constructor(p,m=Object.assign({},yn),w){this.parameters=m,this.type=lp,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Pn(w),this.isInvisible="invisible"===this.parameters.size,re(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const A="string"==typeof p?document.getElementById(p):p;re(A,this.auth,"argument-error"),this.container=A,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new cp:new Or,this.validateStartingState()}verify(){var p=this;return(0,l.Z)(function*(){p.assertNotDestroyed();const m=yield p.render(),w=p.getAssertedRecaptcha();return w.getResponse(m)||new Promise(O=>{const te=Ae=>{!Ae||(p.tokenChangeListeners.delete(te),O(Ae))};p.tokenChangeListeners.add(te),p.isInvisible&&w.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){re(!this.parameters.sitekey,this.auth,"argument-error"),re(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),re(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return m=>{if(this.tokenChangeListeners.forEach(w=>w(m)),"function"==typeof p)p(m);else if("string"==typeof p){const w=Ze()[p];"function"==typeof w&&w(m)}}}assertNotDestroyed(){re(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,l.Z)(function*(){if(yield p.init(),!p.widgetId){let m=p.container;if(!p.isInvisible){const w=document.createElement("div");m.appendChild(w),m=w}p.widgetId=p.getAssertedRecaptcha().render(m,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,l.Z)(function*(){re(Ve()&&!Kn(),p.auth,"internal-error"),yield function Qn(){let v=null;return new Promise(p=>{"complete"!==document.readyState?(v=()=>p(),window.addEventListener("load",v)):p()}).catch(p=>{throw v&&window.removeEventListener("load",v),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const m=yield function As(v){return fr.apply(this,arguments)}(p.auth);re(m,p.auth,"internal-error"),p.parameters.sitekey=m})()}getAssertedRecaptcha(){return re(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class ns{constructor(p,m){this.verificationId=p,this.onConfirmation=m}confirm(p){const m=Qi._fromVerification(this.verificationId,p);return this.onConfirmation(m)}}function dp(v,p,m){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,l.Z)(function*(v,p,m){const w=Pn(v),A=yield ao(w,p,(0,L.m9)(m));return new ns(A,O=>bt(w,O))})).apply(this,arguments)}function ai(v,p,m){return Ca.apply(this,arguments)}function Ca(){return(Ca=(0,l.Z)(function*(v,p,m){const w=(0,L.m9)(v);yield Js(!1,w,"phone");const A=yield ao(w.auth,p,(0,L.m9)(m));return new ns(A,O=>nh(w,O))})).apply(this,arguments)}function bu(v,p,m){return oo.apply(this,arguments)}function oo(){return(oo=(0,l.Z)(function*(v,p,m){const w=(0,L.m9)(v),A=yield ao(w.auth,p,(0,L.m9)(m));return new ns(A,O=>Il(w,O))})).apply(this,arguments)}function ao(v,p,m){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,l.Z)(function*(v,p,m){var w;const A=yield m.verify();try{let O;if(re("string"==typeof A,v,"argument-error"),re(m.type===lp,v,"argument-error"),O="string"==typeof p?{phoneNumber:p}:p,"session"in O){const te=O.session;if("phoneNumber"in O)return re("enroll"===te.type,v,"internal-error"),(yield hr(v,{idToken:te.credential,phoneEnrollmentInfo:{phoneNumber:O.phoneNumber,recaptchaToken:A}})).phoneSessionInfo.sessionInfo;{re("signin"===te.type,v,"internal-error");const Ae=(null===(w=O.multiFactorHint)||void 0===w?void 0:w.uid)||O.multiFactorUid;return re(Ae,v,"missing-multi-factor-info"),(yield xc(v,{mfaPendingCredential:te.credential,mfaEnrollmentId:Ae,phoneSignInInfo:{recaptchaToken:A}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:te}=yield np(v,{phoneNumber:O.phoneNumber,recaptchaToken:A});return te}}finally{m._reset()}})).apply(this,arguments)}function mh(v,p){return Zo.apply(this,arguments)}function Zo(){return(Zo=(0,l.Z)(function*(v,p){yield Ji((0,L.m9)(v),p)})).apply(this,arguments)}let hp=(()=>{class v{constructor(m){this.providerId=v.PROVIDER_ID,this.auth=Pn(m)}verifyPhoneNumber(m,w){return ao(this.auth,m,(0,L.m9)(w))}static credential(m,w){return Qi._fromVerification(m,w)}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:w,temporaryProof:A}=m;return w&&A?Qi._fromTokenResponse(w,A):null}}return v.PROVIDER_ID="phone",v.PHONE_SIGN_IN_METHOD="phone",v})();function rs(v,p){return p?ee(p):(re(v._popupRedirectResolver,v,"argument-error"),v._popupRedirectResolver)}class xn extends Gr{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return Gs(p,this._buildIdpRequest())}_linkToIdToken(p,m){return Gs(p,this._buildIdpRequest(m))}_getReauthenticationResolver(p){return Gs(p,this._buildIdpRequest())}_buildIdpRequest(p){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(m.idToken=p),m}}function qo(v){return Ts(v.auth,new xn(v),v.bypassAuthState)}function Ms(v){const{auth:p,user:m}=v;return re(m,p,"internal-error"),Ds(m,new xn(v),v.bypassAuthState)}function _h(v){return Aa.apply(this,arguments)}function Aa(){return(Aa=(0,l.Z)(function*(v){const{auth:p,user:m}=v;return re(m,p,"internal-error"),Ji(m,new xn(v),v.bypassAuthState)})).apply(this,arguments)}class Bn{constructor(p,m,w,A,O=!1){this.auth=p,this.resolver=w,this.user=A,this.bypassAuthState=O,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var p=this;return new Promise(function(){var m=(0,l.Z)(function*(w,A){p.pendingPromise={resolve:w,reject:A};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(O){p.reject(O)}});return function(w,A){return m.apply(this,arguments)}}())}onAuthEvent(p){var m=this;return(0,l.Z)(function*(){const{urlResponse:w,sessionId:A,postBody:O,tenantId:te,error:Ae,type:Qe}=p;if(Ae)return void m.reject(Ae);const ut={auth:m.auth,requestUri:w,sessionId:A,tenantId:te||void 0,postBody:O||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(Qe)(ut))}catch(zt){m.reject(zt)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return qo;case"linkViaPopup":case"linkViaRedirect":return _h;case"reauthViaPopup":case"reauthViaRedirect":return Ms;default:nt(this.auth,"internal-error")}}resolve(p){ye(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){ye(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const gi=new We(2e3,1e4);function Sa(v,p,m){return Ma.apply(this,arguments)}function Ma(){return(Ma=(0,l.Z)(function*(v,p,m){const w=Pn(v);Ie(v,p,ii);const A=rs(w,m);return new Pl(w,"signInViaPopup",p,A).executeNotNull()})).apply(this,arguments)}function Ic(v,p,m){return zo.apply(this,arguments)}function zo(){return(zo=(0,l.Z)(function*(v,p,m){const w=(0,L.m9)(v);Ie(w.auth,p,ii);const A=rs(w.auth,m);return new Pl(w.auth,"reauthViaPopup",p,A,w).executeNotNull()})).apply(this,arguments)}function Ec(v,p,m){return Ra.apply(this,arguments)}function Ra(){return(Ra=(0,l.Z)(function*(v,p,m){const w=(0,L.m9)(v);Ie(w.auth,p,ii);const A=rs(w.auth,m);return new Pl(w.auth,"linkViaPopup",p,A,w).executeNotNull()})).apply(this,arguments)}let Pl=(()=>{class v extends Bn{constructor(m,w,A,O,te){super(m,w,O,te),this.provider=A,this.authWindow=null,this.pollId=null,v.currentPopupAction&&v.currentPopupAction.cancel(),v.currentPopupAction=this}executeNotNull(){var m=this;return(0,l.Z)(function*(){const w=yield m.execute();return re(w,m.auth,"internal-error"),w})()}onExecution(){var m=this;return(0,l.Z)(function*(){ye(1===m.filter.length,"Popup operations only handle one event");const w=tn();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],w),m.authWindow.associatedEvent=w,m.resolver._originValidation(m.auth).catch(A=>{m.reject(A)}),m.resolver._isIframeWebStorageSupported(m.auth,A=>{A||m.reject(Ne(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(Ne(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,v.currentPopupAction=null}pollUserCancellation(){const m=()=>{var w,A;this.pollId=null!==(A=null===(w=this.authWindow)||void 0===w?void 0:w.window)&&void 0!==A&&A.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Ne(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(m,gi.get())};m()}}return v.currentPopupAction=null,v})();const Rs=new Map;class Vi extends Bn{constructor(p,m,w=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,w),this.eventId=null}execute(){var p=()=>super.execute,m=this;return(0,l.Z)(function*(){let w=Rs.get(m.auth._key());if(!w){try{const O=(yield function Oa(v,p){return is.apply(this,arguments)}(m.resolver,m.auth))?yield p().call(m):null;w=()=>Promise.resolve(O)}catch(A){w=()=>Promise.reject(A)}Rs.set(m.auth._key(),w)}return m.bypassAuthState||Rs.set(m.auth._key(),()=>Promise.resolve(null)),w()})()}onAuthEvent(p){var m=()=>super.onAuthEvent,w=this;return(0,l.Z)(function*(){if("signInViaRedirect"===p.type)return m().call(w,p);if("unknown"!==p.type){if(p.eventId){const A=yield w.auth._redirectUserForId(p.eventId);if(A)return w.user=A,m().call(w,p);w.resolve(null)}}else w.resolve(null)})()}onExecution(){return(0,l.Z)(function*(){})()}cleanUp(){}}function is(){return(is=(0,l.Z)(function*(v,p){const m=kn(p),w=Ol(v);if(!(yield w._isAvailable()))return!1;const A="true"===(yield w._get(m));return yield w._remove(m),A})).apply(this,arguments)}function qt(v,p){return kr.apply(this,arguments)}function kr(){return(kr=(0,l.Z)(function*(v,p){return Ol(v)._set(kn(p),"true")})).apply(this,arguments)}function ka(){Rs.clear()}function Jn(v,p){Rs.set(v._key(),p)}function Ol(v){return ee(v._redirectPersistence)}function kn(v){return cn("pendingRedirect",v.config.apiKey,v.name)}function Na(v,p,m){return function kl(v,p,m){return Ps.apply(this,arguments)}(v,p,m)}function Ps(){return(Ps=(0,l.Z)(function*(v,p,m){const w=Pn(v);Ie(v,p,ii);const A=rs(w,m);return yield qt(A,w),A._openRedirect(w,p,"signInViaRedirect")})).apply(this,arguments)}function ss(v,p,m){return function E(v,p,m){return D.apply(this,arguments)}(v,p,m)}function D(){return(D=(0,l.Z)(function*(v,p,m){const w=(0,L.m9)(v);Ie(w.auth,p,ii);const A=rs(w.auth,m);yield qt(A,w.auth);const O=yield Ct(w);return A._openRedirect(w.auth,p,"reauthViaRedirect",O)})).apply(this,arguments)}function S(v,p,m){return function F(v,p,m){return Y.apply(this,arguments)}(v,p,m)}function Y(){return(Y=(0,l.Z)(function*(v,p,m){const w=(0,L.m9)(v);Ie(w.auth,p,ii);const A=rs(w.auth,m);yield Js(!1,w,p.providerId),yield qt(A,w.auth);const O=yield Ct(w);return A._openRedirect(w.auth,p,"linkViaRedirect",O)})).apply(this,arguments)}function ce(v,p){return Se.apply(this,arguments)}function Se(){return(Se=(0,l.Z)(function*(v,p){return yield Pn(v)._initializationPromise,Ye(v,p,!1)})).apply(this,arguments)}function Ye(v,p){return gt.apply(this,arguments)}function gt(){return(gt=(0,l.Z)(function*(v,p,m=!1){const w=Pn(v),A=rs(w,p),te=yield new Vi(w,A,m).execute();return te&&!m&&(delete te.user._redirectEventId,yield w._persistUserIfCurrent(te.user),yield w._setRedirectUser(null,p)),te})).apply(this,arguments)}function Ct(v){return At.apply(this,arguments)}function At(){return(At=(0,l.Z)(function*(v){const p=tn(`${v.uid}:::`);return v._redirectEventId=p,yield v.auth._setRedirectUser(v),yield v.auth._persistUserIfCurrent(v),p})).apply(this,arguments)}class pr{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let m=!1;return this.consumers.forEach(w=>{this.isEventForConsumer(p,w)&&(m=!0,this.sendToConsumer(p,w),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function os(v){switch(v.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Bi(v);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=p,m=!0)),m}sendToConsumer(p,m){var w;if(p.error&&!Bi(p)){const A=(null===(w=p.error.code)||void 0===w?void 0:w.split("auth/")[1])||"internal-error";m.onError(Ne(this.auth,A))}else m.onAuthEvent(p)}isEventForConsumer(p,m){const w=null===m.eventId||!!p.eventId&&p.eventId===m.eventId;return m.filter.includes(p.type)&&w}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Nr(p))}saveEventToCache(p){this.cachedEventUids.add(Nr(p)),this.lastProcessedEventTime=Date.now()}}function Nr(v){return[v.type,v.eventId,v.sessionId,v.tenantId].filter(p=>p).join("-")}function Bi({type:v,error:p}){return"unknown"===v&&"auth/no-auth-event"===p?.code}function as(v){return Fa.apply(this,arguments)}function Fa(){return(Fa=(0,l.Z)(function*(v,p={}){return jt(v,"GET","/v1/projects",p)})).apply(this,arguments)}const Iu=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,mi=/^https?/;function uo(){return(uo=(0,l.Z)(function*(v){if(v.config.emulator)return;const{authorizedDomains:p}=yield as(v);for(const m of p)try{if(Nl(m))return}catch{}nt(v,"unauthorized-domain")})).apply(this,arguments)}function Nl(v){const p=Ue(),{protocol:m,hostname:w}=new URL(p);if(v.startsWith("chrome-extension://")){const te=new URL(v);return""===te.hostname&&""===w?"chrome-extension:"===m&&v.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===m&&te.hostname===w}if(!mi.test(m))return!1;if(Iu.test(v))return w===v;const A=v.replace(/\./g,"\\.");return new RegExp("^(.+\\."+A+"|"+A+")$","i").test(w)}const Rm=new We(3e4,6e4);function Dc(){const v=Ze().___jsl;if(v?.H)for(const p of Object.keys(v.H))if(v.H[p].r=v.H[p].r||[],v.H[p].L=v.H[p].L||[],v.H[p].r=[...v.H[p].L],v.CP)for(let m=0;m<v.CP.length;m++)v.CP[m]=null}let Go=null;function La(v){return Go=Go||function Eu(v){return new Promise((p,m)=>{var w,A,O;function te(){Dc(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{Dc(),m(Ne(v,"network-request-failed"))},timeout:Rm.get()})}if(null!==(A=null===(w=Ze().gapi)||void 0===w?void 0:w.iframes)&&void 0!==A&&A.Iframe)p(gapi.iframes.getContext());else{if(null===(O=Ze().gapi)||void 0===O||!O.load){const Ae=Pr("iframefcb");return Ze()[Ae]=()=>{gapi.load?te():m(Ne(v,"network-request-failed"))},io(`https://apis.google.com/js/api.js?onload=${Ae}`).catch(Qe=>m(Qe))}te()}}).catch(p=>{throw Go=null,p})}(v),Go}const Pm=new We(5e3,15e3),Wo={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},km=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function fp(v){const p=v.config;re(p.authDomain,v,"auth-domain-config-required");const m=p.emulator?fn(p,"emulator/auth/iframe"):`https://${v.config.authDomain}/__/auth/iframe`,w={apiKey:p.apiKey,appName:v.name,v:P.SDK_VERSION},A=km.get(v.config.apiHost);A&&(w.eid=A);const O=v._getFrameworks();return O.length&&(w.fw=O.join(",")),`${m}?${(0,L.xO)(w).slice(1)}`}function Cc(){return Cc=(0,l.Z)(function*(v){const p=yield La(v),m=Ze().gapi;return re(m,v,"internal-error"),p.open({where:document.body,url:fp(v),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Wo,dontclear:!0},w=>new Promise(function(){var A=(0,l.Z)(function*(O,te){yield w.restyle({setHideOnLeave:!1});const Ae=Ne(v,"network-request-failed"),Qe=Ze().setTimeout(()=>{te(Ae)},Pm.get());function ut(){Ze().clearTimeout(Qe),O(w)}w.ping(ut).then(ut,()=>{te(Ae)})});return function(O,te){return A.apply(this,arguments)}}()))}),Cc.apply(this,arguments)}const Ko={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Sc{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Du(v,p,m,w,A,O){re(v.config.authDomain,v,"auth-domain-config-required"),re(v.config.apiKey,v,"invalid-api-key");const te={apiKey:v.config.apiKey,appName:v.name,authType:m,redirectUrl:w,v:P.SDK_VERSION,eventId:A};if(p instanceof ii){p.setDefaultLanguage(v.languageCode),te.providerId=p.providerId||"",(0,L.xb)(p.getCustomParameters())||(te.customParameters=JSON.stringify(p.getCustomParameters()));for(const[Qe,ut]of Object.entries(O||{}))te[Qe]=ut}if(p instanceof Ws){const Qe=p.getScopes().filter(ut=>""!==ut);Qe.length>0&&(te.scopes=Qe.join(","))}v.tenantId&&(te.tid=v.tenantId);const Ae=te;for(const Qe of Object.keys(Ae))void 0===Ae[Qe]&&delete Ae[Qe];return`${function gp({config:v}){return v.emulator?fn(v,"emulator/auth/handler"):`https://${v.authDomain}/__/auth/handler`}(v)}?${(0,L.xO)(Ae).slice(1)}`}const xh="webStorageSupport",mp=class Fm{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ia,this._completeRedirectFn=Ye,this._overrideRedirectResult=Jn}_openPopup(p,m,w,A){var O=this;return(0,l.Z)(function*(){var te;ye(null===(te=O.eventManagers[p._key()])||void 0===te?void 0:te.manager,"_initialize() not called before _openPopup()");const Ae=Du(p,m,w,Ue(),A);return function vh(v,p,m,w=500,A=600){const O=Math.max((window.screen.availHeight-A)/2,0).toString(),te=Math.max((window.screen.availWidth-w)/2,0).toString();let Ae="";const Qe=Object.assign(Object.assign({},Ko),{width:w.toString(),height:A.toString(),top:O,left:te}),ut=(0,L.z$)().toLowerCase();m&&(Ae=we(ut)?"_blank":m),Z(ut)&&(p=p||"http://localhost",Qe.scrollbars="yes");const zt=Object.entries(Qe).reduce((ui,[Jo,Mc])=>`${ui}${Jo}=${Mc},`,"");if(function dn(v=(0,L.z$)()){var p;return $t(v)&&!(null===(p=window.navigator)||void 0===p||!p.standalone)}(ut)&&"_self"!==Ae)return function ks(v,p){const m=document.createElement("a");m.href=v,m.target=p;const w=document.createEvent("MouseEvent");w.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(w)}(p||"",Ae),new Sc(null);const Dn=window.open(p||"",Ae,zt);re(Dn,v,"popup-blocked");try{Dn.focus()}catch{}return new Sc(Dn)}(p,Ae,tn())})()}_openRedirect(p,m,w,A){var O=this;return(0,l.Z)(function*(){return yield O._originValidation(p),function Xi(v){Ze().location.href=v}(Du(p,m,w,Ue(),A)),new Promise(()=>{})})()}_initialize(p){const m=p._key();if(this.eventManagers[m]){const{manager:A,promise:O}=this.eventManagers[m];return A?Promise.resolve(A):(ye(O,"If manager is not set, promise should be"),O)}const w=this.initAndGetManager(p);return this.eventManagers[m]={promise:w},w.catch(()=>{delete this.eventManagers[m]}),w}initAndGetManager(p){var m=this;return(0,l.Z)(function*(){const w=yield function Tc(v){return Cc.apply(this,arguments)}(p),A=new pr(p);return w.register("authEvent",O=>(re(O?.authEvent,p,"invalid-auth-event"),{status:A.onEvent(O.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[p._key()]={manager:A},m.iframes[p._key()]=w,A})()}_isIframeWebStorageSupported(p,m){this.iframes[p._key()].send(xh,{type:xh},A=>{var O;const te=null===(O=A?.[0])||void 0===O?void 0:O[xh];void 0!==te&&m(!!te),nt(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const m=p._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function Os(v){return uo.apply(this,arguments)}(p)),this.originValidationPromises[m]}get _shouldInitProactively(){return on()||B()||$t()}};class Ua extends class Qo{constructor(p){this.factorId=p}_process(p,m,w){switch(m.type){case"enroll":return this._finalizeEnroll(p,m.credential,w);case"signin":return this._finalizeSignIn(p,m.credential);default:return ue("unexpected MultiFactorSessionType")}}}{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new Ua(p)}_finalizeEnroll(p,m,w){return function lh(v,p){return jt(v,"POST","/v2/accounts/mfaEnrollment:finalize",Wt(v,p))}(p,{idToken:m,displayName:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,m){return function Fi(v,p){return jt(v,"POST","/v2/accounts/mfaSignIn:finalize",Wt(v,p))}(p,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Lm=(()=>{class v{constructor(){}static assertion(m){return Ua._fromCredential(m)}}return v.FACTOR_ID="phone",v})();var Um="@firebase/auth";class pv{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var m=this;return(0,l.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const m=this.auth.onIdTokenChanged(w=>{var A;p((null===(A=w)||void 0===A?void 0:A.stsTokenManager.accessToken)||null)});this.internalListeners.set(p,m),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const m=this.internalListeners.get(p);!m||(this.internalListeners.delete(p),m(),this.updateProactiveRefresh())}assertAuthConfigured(){re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}!function mv(v){(0,P._registerComponent)(new me.wA("auth",(p,{options:m})=>{const w=p.getProvider("app").getImmediate(),A=p.getProvider("heartbeat"),{apiKey:O,authDomain:te}=w.options;return((Ae,Qe)=>{re(O&&!O.includes(":"),"invalid-api-key",{appName:Ae.name}),re(!te?.includes(":"),"argument-error",{appName:Ae.name});const ut={apiKey:O,authDomain:te,clientPlatform:v,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ki(v)},zt=new aa(Ae,Qe,ut);return function oe(v,p){const m=p?.persistence||[],w=(Array.isArray(m)?m:[m]).map(ee);p?.errorMap&&v._updateErrorMap(p.errorMap),v._initializeWithPersistence(w,p?.popupRedirectResolver)}(zt,m),zt})(w,A)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,m,w)=>{p.getProvider("auth-internal").initialize()})),(0,P._registerComponent)(new me.wA("auth-internal",p=>{const m=Pn(p.getProvider("auth").getImmediate());return new pv(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,P.registerVersion)(Um,"0.20.5",function gv(v){switch(v){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(v)),(0,P.registerVersion)(Um,"0.20.5","esm2017")}("Browser")},2090:(dt,Me,k)=>{k.d(Me,{$s:()=>Mr,BH:()=>$e,G6:()=>re,L:()=>de,LL:()=>Ue,Mn:()=>Ie,Sg:()=>ke,UG:()=>xe,US:()=>me,ZB:()=>H,ZR:()=>oe,b$:()=>nt,d:()=>Ne,eu:()=>ye,hl:()=>ue,jU:()=>ge,m9:()=>Pt,ne:()=>ht,pd:()=>Fn,r3:()=>Wt,ru:()=>tt,tV:()=>ve,uI:()=>it,vZ:()=>Ir,w1:()=>Re,xO:()=>ei,xb:()=>br,z$:()=>be,zI:()=>Q,zd:()=>ti});const se=function(K){const j=[];let U=0;for(let q=0;q<K.length;q++){let z=K.charCodeAt(q);z<128?j[U++]=z:z<2048?(j[U++]=z>>6|192,j[U++]=63&z|128):55296==(64512&z)&&q+1<K.length&&56320==(64512&K.charCodeAt(q+1))?(z=65536+((1023&z)<<10)+(1023&K.charCodeAt(++q)),j[U++]=z>>18|240,j[U++]=z>>12&63|128,j[U++]=z>>6&63|128,j[U++]=63&z|128):(j[U++]=z>>12|224,j[U++]=z>>6&63|128,j[U++]=63&z|128)}return j},me={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(K,j){if(!Array.isArray(K))throw Error("encodeByteArray takes an array as a parameter");this.init_();const U=j?this.byteToCharMapWebSafe_:this.byteToCharMap_,q=[];for(let z=0;z<K.length;z+=3){const De=K[z],qe=z+1<K.length,vt=qe?K[z+1]:0,un=z+2<K.length,cn=un?K[z+2]:0;let Z=(15&vt)<<2|cn>>6,B=63&cn;un||(B=64,qe||(Z=64)),q.push(U[De>>2],U[(3&De)<<4|vt>>4],U[Z],U[B])}return q.join("")},encodeString(K,j){return this.HAS_NATIVE_SUPPORT&&!j?btoa(K):this.encodeByteArray(se(K),j)},decodeString(K,j){return this.HAS_NATIVE_SUPPORT&&!j?atob(K):function(K){const j=[];let U=0,q=0;for(;U<K.length;){const z=K[U++];if(z<128)j[q++]=String.fromCharCode(z);else if(z>191&&z<224){const De=K[U++];j[q++]=String.fromCharCode((31&z)<<6|63&De)}else if(z>239&&z<365){const un=((7&z)<<18|(63&K[U++])<<12|(63&K[U++])<<6|63&K[U++])-65536;j[q++]=String.fromCharCode(55296+(un>>10)),j[q++]=String.fromCharCode(56320+(1023&un))}else{const De=K[U++],qe=K[U++];j[q++]=String.fromCharCode((15&z)<<12|(63&De)<<6|63&qe)}}return j.join("")}(this.decodeStringToByteArray(K,j))},decodeStringToByteArray(K,j){this.init_();const U=j?this.charToByteMapWebSafe_:this.charToByteMap_,q=[];for(let z=0;z<K.length;){const De=U[K.charAt(z++)],vt=z<K.length?U[K.charAt(z)]:0;++z;const cn=z<K.length?U[K.charAt(z)]:64;++z;const W=z<K.length?U[K.charAt(z)]:64;if(++z,null==De||null==vt||null==cn||null==W)throw Error();q.push(De<<2|vt>>4),64!==cn&&(q.push(vt<<4&240|cn>>2),64!==W&&q.push(cn<<6&192|W))}return q},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let K=0;K<this.ENCODED_VALS.length;K++)this.byteToCharMap_[K]=this.ENCODED_VALS.charAt(K),this.charToByteMap_[this.byteToCharMap_[K]]=K,this.byteToCharMapWebSafe_[K]=this.ENCODED_VALS_WEBSAFE.charAt(K),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[K]]=K,K>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(K)]=K,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(K)]=K)}}},de=function(K){return function(K){const j=se(K);return me.encodeByteArray(j,!0)}(K).replace(/\./g,"")},ve=function(K){try{return me.decodeString(K,!0)}catch(j){console.error("base64Decode failed: ",j)}return null};function H(K,j){if(!(j instanceof Object))return j;switch(j.constructor){case Date:return new Date(j.getTime());case Object:void 0===K&&(K={});break;case Array:K=[];break;default:return j}for(const U in j)!j.hasOwnProperty(U)||!X(U)||(K[U]=H(K[U],j[U]));return K}function X(K){return"__proto__"!==K}class $e{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((j,U)=>{this.resolve=j,this.reject=U})}wrapCallback(j){return(U,q)=>{U?this.reject(U):this.resolve(q),"function"==typeof j&&(this.promise.catch(()=>{}),1===j.length?j(U):j(U,q))}}}function ke(K,j){if(K.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const q=j||"demo-project",z=K.iat||0,De=K.sub||K.user_id;if(!De)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const qe=Object.assign({iss:`https://securetoken.google.com/${q}`,aud:q,iat:z,exp:z+3600,auth_time:z,sub:De,user_id:De,firebase:{sign_in_provider:"custom",identities:{}}},K);return[de(JSON.stringify({alg:"none",type:"JWT"})),de(JSON.stringify(qe)),""].join(".")}function be(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function it(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(be())}function xe(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function ge(){return"object"==typeof self&&self.self===self}function tt(){const K="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof K&&void 0!==K.id}function nt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ne(){return be().indexOf("Electron/")>=0}function Re(){const K=be();return K.indexOf("MSIE ")>=0||K.indexOf("Trident/")>=0}function Ie(){return be().indexOf("MSAppHost/")>=0}function re(){return!xe()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ue(){return"object"==typeof indexedDB}function ye(){return new Promise((K,j)=>{try{let U=!0;const q="validate-browser-context-for-indexeddb-analytics-module",z=self.indexedDB.open(q);z.onsuccess=()=>{z.result.close(),U||self.indexedDB.deleteDatabase(q),K(!0)},z.onupgradeneeded=()=>{U=!1},z.onerror=()=>{var De;j((null===(De=z.error)||void 0===De?void 0:De.message)||"")}}catch(U){j(U)}})}function Q(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class oe extends Error{constructor(j,U,q){super(U),this.code=j,this.customData=q,this.name="FirebaseError",Object.setPrototypeOf(this,oe.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ue.prototype.create)}}class Ue{constructor(j,U,q){this.service=j,this.serviceName=U,this.errors=q}create(j,...U){const q=U[0]||{},z=`${this.service}/${j}`,De=this.errors[j],qe=De?function Ve(K,j){return K.replace(ft,(U,q)=>{const z=j[q];return null!=z?String(z):`<${q}?>`})}(De,q):"Error";return new oe(z,`${this.serviceName}: ${qe} (${z}).`,q)}}const ft=/\{\$([^}]+)}/g;function Wt(K,j){return Object.prototype.hasOwnProperty.call(K,j)}function br(K){for(const j in K)if(Object.prototype.hasOwnProperty.call(K,j))return!1;return!0}function Ir(K,j){if(K===j)return!0;const U=Object.keys(K),q=Object.keys(j);for(const z of U){if(!q.includes(z))return!1;const De=K[z],qe=j[z];if(bn(De)&&bn(qe)){if(!Ir(De,qe))return!1}else if(De!==qe)return!1}for(const z of q)if(!U.includes(z))return!1;return!0}function bn(K){return null!==K&&"object"==typeof K}function ei(K){const j=[];for(const[U,q]of Object.entries(K))Array.isArray(q)?q.forEach(z=>{j.push(encodeURIComponent(U)+"="+encodeURIComponent(z))}):j.push(encodeURIComponent(U)+"="+encodeURIComponent(q));return j.length?"&"+j.join("&"):""}function ti(K){const j={};return K.replace(/^\?/,"").split("&").forEach(q=>{if(q){const[z,De]=q.split("=");j[decodeURIComponent(z)]=decodeURIComponent(De)}}),j}function Fn(K){const j=K.indexOf("?");if(!j)return"";const U=K.indexOf("#",j);return K.substring(j,U>0?U:void 0)}function ht(K,j){const U=new pn(K,j);return U.subscribe.bind(U)}class pn{constructor(j,U){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=U,this.task.then(()=>{j(this)}).catch(q=>{this.error(q)})}next(j){this.forEachObserver(U=>{U.next(j)})}error(j){this.forEachObserver(U=>{U.error(j)}),this.close(j)}complete(){this.forEachObserver(j=>{j.complete()}),this.close()}subscribe(j,U,q){let z;if(void 0===j&&void 0===U&&void 0===q)throw new Error("Missing Observer.");z=function sn(K,j){if("object"!=typeof K||null===K)return!1;for(const U of j)if(U in K&&"function"==typeof K[U])return!0;return!1}(j,["next","error","complete"])?j:{next:j,error:U,complete:q},void 0===z.next&&(z.next=er),void 0===z.error&&(z.error=er),void 0===z.complete&&(z.complete=er);const De=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?z.error(this.finalError):z.complete()}catch{}}),this.observers.push(z),De}unsubscribeOne(j){void 0===this.observers||void 0===this.observers[j]||(delete this.observers[j],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(j){if(!this.finalized)for(let U=0;U<this.observers.length;U++)this.sendOne(U,j)}sendOne(j,U){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[j])try{U(this.observers[j])}catch(q){typeof console<"u"&&console.error&&console.error(q)}})}close(j){this.finalized||(this.finalized=!0,void 0!==j&&(this.finalError=j),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function er(){}function Mr(K,j=1e3,U=2){const q=j*Math.pow(U,K),z=Math.round(.5*q*(Math.random()-.5)*2);return Math.min(144e5,q+z)}function Pt(K){return K&&K._delegate?K._delegate:K}},8745:(dt,Me,k)=>{var l=k(4650);let L=null;function P(){return L}const pe=new l.OlP("DocumentToken");let de=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return function ve(){return(0,l.LFG)(H)}()},providedIn:"platform"}),n})();const $=new l.OlP("Location Initialized");let H=(()=>{class n extends de{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return P().getBaseHref(this._doc)}onPopState(t){const r=P().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=P().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,o){X()?this._history.pushState(t,r,o):this.location.hash=o}replaceState(t,r,o){X()?this._history.replaceState(t,r,o):this.location.hash=o}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(pe))},n.\u0275prov=l.Yz7({token:n,factory:function(){return function $e(){return new H((0,l.LFG)(pe))}()},providedIn:"platform"}),n})();function X(){return!!window.history.pushState}function ke(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function be(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function it(n){return n&&"?"!==n[0]?"?"+n:n}let xe=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)(tt)},providedIn:"root"}),n})();const ge=new l.OlP("appBaseHref");let tt=(()=>{class n extends xe{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,l.f3M)(pe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return ke(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+it(this._platformLocation.search),o=this._platformLocation.hash;return o&&t?`${r}${o}`:r}pushState(t,r,o,u){const d=this.prepareExternalUrl(o+it(u));this._platformLocation.pushState(t,r,d)}replaceState(t,r,o,u){const d=this.prepareExternalUrl(o+it(u));this._platformLocation.replaceState(t,r,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(de),l.LFG(ge,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),nt=(()=>{class n extends xe{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=ke(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,o,u){let d=this.prepareExternalUrl(o+it(u));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.pushState(t,r,d)}replaceState(t,r,o,u){let d=this.prepareExternalUrl(o+it(u));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(de),l.LFG(ge,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Ne=(()=>{class n{constructor(t){this._subject=new l.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._baseHref=be(Ge(r)),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+it(r))}normalize(t){return n.stripTrailingSlash(function Ie(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,Ge(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",o=null){this._locationStrategy.pushState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+it(r)),o)}replaceState(t,r="",o=null){this._locationStrategy.replaceState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+it(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(o=>o(t,r))}subscribe(t,r,o){return this._subject.subscribe({next:t,error:r,complete:o})}}return n.normalizeQueryParams=it,n.joinWithSlash=ke,n.stripTrailingSlash=be,n.\u0275fac=function(t){return new(t||n)(l.LFG(xe))},n.\u0275prov=l.Yz7({token:n,factory:function(){return function Re(){return new Ne((0,l.LFG)(xe))}()},providedIn:"root"}),n})();function Ge(n){return n.replace(/\/index.html$/,"")}class bs{constructor(e,t,r,o){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Wr=(()=>{class n{constructor(t,r,o){this._viewContainer=t,this._template=r,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((o,u,d)=>{if(null==o.previousIndex)r.createEmbeddedView(this._template,new bs(o.item,this._ngForOf,-1,-1),null===d?void 0:d);else if(null==d)r.remove(null===u?void 0:u);else if(null!==u){const g=r.get(u);r.move(g,d),zn(g,o)}});for(let o=0,u=r.length;o<u;o++){const g=r.get(o).context;g.index=o,g.count=u,g.ngForOf=this._ngForOf}t.forEachIdentityChange(o=>{zn(r.get(o.currentIndex),o)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(l.ZZ4))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function zn(n,e){n.context.$implicit=e.item}let tr=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new di,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Is("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Is("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class di{constructor(){this.$implicit=null,this.ngIf=null}}function Is(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,l.AaK)(e)}'.`)}class tp{createSubscription(e,t){return e.subscribe({next:t,error:r=>{throw r}})}dispose(e){e.unsubscribe()}}class Yi{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}}const np=new Yi,vl=new tp;let ac=(()=>{class n{constructor(t){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if((0,l.QGY)(t))return np;if((0,l.F4k)(t))return vl;throw function ri(n,e){return new l.vHH(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.sBO,16))},n.\u0275pipe=l.Yjl({name:"async",type:n,pure:!1,standalone:!0}),n})(),op=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();function uc(n){return"server"===n}let ha=(()=>{class n{}return n.\u0275prov=(0,l.Yz7)({token:n,providedIn:"root",factory:()=>new Kr((0,l.LFG)(pe),window)}),n})();class Kr{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Qs(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let o=r.currentNode;for(;o;){const u=o.shadowRoot;if(u){const d=u.getElementById(e)||u.querySelector(`[name="${e}"]`);if(d)return d}o=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,o=t.top+this.window.pageYOffset,u=this.offset();this.window.scrollTo(r-u[0],o-u[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Es(this.window.history)||Es(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Es(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Si extends class Js extends class me{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function ae(n){L||(L=n)}(new Si)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Mi(){return Ds=Ds||document.querySelector("base"),Ds?Ds.getAttribute("href"):null}();return null==t?null:function Xs(n){Ts=Ts||document.createElement("a"),Ts.setAttribute("href",n);const e=Ts.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Ds=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function gl(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[o,u]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(o.trim()===e)return decodeURIComponent(u)}return null}(document.cookie,e)}}let Ts,Ds=null;const bt=new l.OlP("TRANSITION_ID"),nh=[{provide:l.ip1,useFactory:function Ln(n,e,t){return()=>{t.get(l.CZH).donePromise.then(()=>{const r=P(),o=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let u=0;u<o.length;u++)r.remove(o[u])})}},deps:[bt,pe,l.zs3],multi:!0}];let Il=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Cs=new l.OlP("EventManagerPlugins");let Co=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(o=>o.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,o){return this._findPluginFor(r).addEventListener(t,r,o)}addGlobalEventListener(t,r,o){return this._findPluginFor(r).addGlobalEventListener(t,r,o)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const o=this._plugins;for(let u=0;u<o.length;u++){const d=o[u];if(d.supports(t))return this._eventNameToPlugin.set(t,d),d}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Cs),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class Ao{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const o=P().getGlobalEventTarget(this._doc,e);if(!o)throw new Error(`Unsupported event target ${o} for event ${t}`);return this.addEventListener(o,t,r)}}let du=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(o=>{this._stylesSet.has(o)||(this._stylesSet.add(o),r.add(o))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Ce=(()=>{class n extends du{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,o){t.forEach(u=>{const d=this._doc.createElement("style");d.textContent=u,o.push(r.appendChild(d))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(Zt),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,o)=>{this._addStylesToHost(t,o,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(Zt))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(pe))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function Zt(n){P().remove(n)}const So={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Mo=/%COMP%/g;function pa(n,e,t){for(let r=0;r<e.length;r++){let o=e[r];Array.isArray(o)?pa(n,o,t):(o=o.replace(Mo,n),t.push(o))}return t}function Po(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Ri=(()=>{class n{constructor(t,r,o){this.eventManager=t,this.sharedStylesHost=r,this.appId=o,this.rendererByCompId=new Map,this.defaultRenderer=new dr(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case l.ifc.Emulated:{let o=this.rendererByCompId.get(r.id);return o||(o=new pi(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,o)),o.applyToHost(t),o}case 1:case l.ifc.ShadowDom:return new rh(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const o=pa(r.id,r.styles,[]);this.sharedStylesHost.addStyles(o),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Co),l.LFG(Ce),l.LFG(l.AFp))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class dr{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(So[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(no(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(no(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,o){if(o){t=o+":"+t;const u=So[o];u?e.setAttributeNS(u,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const o=So[r];o?e.removeAttributeNS(o,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,o){o&(l.JOm.DashCase|l.JOm.Important)?e.style.setProperty(t,r,o&l.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&l.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Po(r)):this.eventManager.addEventListener(e,t,Po(r))}}function no(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class pi extends dr{constructor(e,t,r,o){super(e),this.component=r;const u=pa(o+"-"+r.id,r.styles,[]);t.addStyles(u),this.contentAttr=function cc(n){return"_ngcontent-%COMP%".replace(Mo,n)}(o+"-"+r.id),this.hostAttr=function to(n){return"_nghost-%COMP%".replace(Mo,n)}(o+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class rh extends dr{constructor(e,t,r,o){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=pa(o.id,o.styles,[]);for(let d=0;d<u.length;d++){const g=document.createElement("style");g.textContent=u[d],this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let dc=(()=>{class n extends Ao{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,o){return t.addEventListener(r,o,!1),()=>this.removeEventListener(t,r,o)}removeEventListener(t,r,o){return t.removeEventListener(r,o)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(pe))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const hu=["alt","control","meta","shift"],ga={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ma={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Oo={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let fc=(()=>{class n extends Ao{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,o){const u=n.parseEventName(r),d=n.eventCallback(u.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>P().onAndCancel(t,u.domEventName,d))}static parseEventName(t){const r=t.toLowerCase().split("."),o=r.shift();if(0===r.length||"keydown"!==o&&"keyup"!==o)return null;const u=n._normalizeKey(r.pop());let d="";if(hu.forEach(y=>{const I=r.indexOf(y);I>-1&&(r.splice(I,1),d+=y+".")}),d+=u,0!=r.length||0===u.length)return null;const g={};return g.domEventName=o,g.fullKey=d,g}static getEventFullKey(t){let r="",o=function _a(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&ma.hasOwnProperty(e)&&(e=ma[e]))}return ga[e]||e}(t);return o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),hu.forEach(u=>{u!=o&&(0,Oo[u])(t)&&(r+=u+".")}),r+=o,r}static eventCallback(t,r,o){return u=>{n.getEventFullKey(u)===t&&o.runGuarded(()=>r(u))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(pe))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const ih=(0,l.eFA)(l._c5,"browser",[{provide:l.Lbi,useValue:"browser"},{provide:l.g9A,useValue:function No(){Si.makeCurrent()},multi:!0},{provide:pe,useFactory:function Fo(){return(0,l.RDi)(document),document},deps:[]}]),ya=new l.OlP(""),Wn=[{provide:l.rWj,useClass:class fa{addToWindow(e){l.dqk.getAngularTestability=(r,o=!0)=>{const u=e.findTestabilityInTree(r,o);if(null==u)throw new Error("Could not find testability for element.");return u},l.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),l.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),l.dqk.frameworkStabilizers||(l.dqk.frameworkStabilizers=[]),l.dqk.frameworkStabilizers.push(r=>{const o=l.dqk.getAllAngularTestabilities();let u=o.length,d=!1;const g=function(y){d=d||y,u--,0==u&&r(d)};o.forEach(function(y){y.whenStable(g)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?P().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:l.lri,useClass:l.dDg,deps:[l.R0b,l.eoX,l.rWj]},{provide:l.dDg,useClass:l.dDg,deps:[l.R0b,l.eoX,l.rWj]}],Pi=[{provide:l.zSh,useValue:"root"},{provide:l.qLn,useFactory:function Dl(){return new l.qLn},deps:[]},{provide:Cs,useClass:dc,multi:!0,deps:[pe,l.R0b,l.Lbi]},{provide:Cs,useClass:fc,multi:!0,deps:[pe]},{provide:Ri,useClass:Ri,deps:[Co,Ce,l.AFp]},{provide:l.FYo,useExisting:Ri},{provide:du,useExisting:Ce},{provide:Ce,useClass:Ce,deps:[pe]},{provide:Co,useClass:Co,deps:[Cs,l.R0b]},{provide:class yr{},useClass:Il,deps:[]},[]];let gn=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:l.AFp,useValue:t.appId},{provide:bt,useExisting:l.AFp},nh]}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ya,12))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[...Pi,...Wn],imports:[op,l.hGG]}),n})(),Tl=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(pe))},n.\u0275prov=l.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function pc(){return new Tl((0,l.LFG)(pe))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;var tn=k(8996),Ea=k(7669);function Ze(...n){const e=(0,Ea.yG)(n);return(0,tn.D)(n,e)}var Xi=k(7579);class Kn extends Xi.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const ki=(0,k(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var oi=k(9751);const{isArray:_u}=Array,{getPrototypeOf:Al,prototype:yu,keys:Da}=Object;var Ni=k(4671),Dt=k(4004);const{isArray:es}=Array;var vn=k(5403),vu=k(9672);function vc(...n){const e=(0,Ea.yG)(n),t=(0,Ea.jO)(n),{args:r,keys:o}=function Ta(n){if(1===n.length){const e=n[0];if(_u(e))return{args:e,keys:null};if(function jo(n){return n&&"object"==typeof n&&Al(n)===yu}(e)){const t=Da(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}(n);if(0===r.length)return(0,tn.D)([],e);const u=new oi.y(function xu(n,e,t=Ni.y){return r=>{gh(e,()=>{const{length:o}=n,u=new Array(o);let d=o,g=o;for(let y=0;y<o;y++)gh(e,()=>{const I=(0,tn.D)(n[y],e);let C=!1;I.subscribe((0,vn.x)(r,R=>{u[y]=R,C||(C=!0,g--),g||r.next(t(u.slice()))},()=>{--d||r.complete()}))},r)},r)}}(r,e,o?d=>function Ml(n,e){return n.reduce((t,r,o)=>(t[r]=e[o],t),{})}(o,d):Ni.y));return t?u.pipe(function $o(n){return(0,Dt.U)(e=>function Sl(n,e){return es(e)?n(...e):n(e)}(n,e))}(t)):u}function gh(n,e,t){n?(0,vu.f)(t,n,e):e()}var ts=k(8189);function Fi(...n){return function xc(){return(0,ts.J)(1)}()((0,tn.D)(n,(0,Ea.yG)(n)))}var As=k(8421);function fr(n){return new oi.y(e=>{(0,As.Xf)(n()).subscribe(e)})}var wc=k(9635),io=k(576);function Pr(n,e){const t=(0,io.m)(n)?n:()=>n,r=o=>o.error(t());return new oi.y(e?o=>e.schedule(r,0,o):r)}var so=k(515),bc=k(727),mt=k(4482);function wu(){return(0,mt.e)((n,e)=>{let t=null;n._refCount++;const r=(0,vn.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const o=n._connection,u=t;t=null,o&&(!u||o===u)&&o.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class up extends oi.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,mt.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new bc.w0;const t=this.getSubject();e.add(this.source.subscribe((0,vn.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=bc.w0.EMPTY)}return e}refCount(){return wu()(this)}}function Yn(n,e){return(0,mt.e)((t,r)=>{let o=null,u=0,d=!1;const g=()=>d&&!o&&r.complete();t.subscribe((0,vn.x)(r,y=>{o?.unsubscribe();let I=0;const C=u++;(0,As.Xf)(n(y,C)).subscribe(o=(0,vn.x)(r,R=>r.next(e?e(y,R,C,I++):R),()=>{o=null,g()}))},()=>{d=!0,g()}))})}function Ho(n){return n<=0?()=>so.E:(0,mt.e)((e,t)=>{let r=0;e.subscribe((0,vn.x)(t,o=>{++r<=n&&(t.next(o),n<=r&&t.complete())}))})}function Rl(...n){const e=(0,Ea.yG)(n);return(0,mt.e)((t,r)=>{(e?Fi(n,t,e):Fi(n,t)).subscribe(r)})}function Li(n,e){return(0,mt.e)((t,r)=>{let o=0;t.subscribe((0,vn.x)(r,u=>n.call(e,u,o++)&&r.next(u)))})}var Or=k(5577);function Ui(n){return(0,mt.e)((e,t)=>{let r=!1;e.subscribe((0,vn.x)(t,o=>{r=!0,t.next(o)},()=>{r||t.next(n),t.complete()}))})}function cp(n=lp){return(0,mt.e)((e,t)=>{let r=!1;e.subscribe((0,vn.x)(t,o=>{r=!0,t.next(o)},()=>r?t.complete():t.error(n())))})}function lp(){return new ki}function yn(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Li((o,u)=>n(o,u,r)):Ni.y,Ho(1),t?Ui(e):cp(()=>new ki))}function Ss(n,e){return(0,io.m)(e)?(0,Or.z)(n,e,1):(0,Or.z)(n,1)}var Qn=k(8505);function ns(n){return(0,mt.e)((e,t)=>{let u,r=null,o=!1;r=e.subscribe((0,vn.x)(t,void 0,void 0,d=>{u=(0,As.Xf)(n(d,ns(n)(e))),r?(r.unsubscribe(),r=null,u.subscribe(t)):o=!0})),o&&(r.unsubscribe(),r=null,u.subscribe(t))})}function dp(n,e,t,r,o){return(u,d)=>{let g=t,y=e,I=0;u.subscribe((0,vn.x)(d,C=>{const R=I++;y=g?n(y,C,R):(g=!0,C),r&&d.next(y)},o&&(()=>{g&&d.next(y),d.complete()})))}}function Vn(n,e){return(0,mt.e)(dp(n,e,arguments.length>=2,!0))}function ai(n){return n<=0?()=>so.E:(0,mt.e)((e,t)=>{let r=[];e.subscribe((0,vn.x)(t,o=>{r.push(o),n<r.length&&r.shift()},()=>{for(const o of r)t.next(o);t.complete()},void 0,()=>{r=null}))})}function Ca(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Li((o,u)=>n(o,u,r)):Ni.y,ai(1),t?Ui(e):cp(()=>new ki))}function ao(n){return(0,mt.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const Bt="primary";class mh{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Zo(n){return new mh(n)}function hp(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const o={};for(let u=0;u<r.length;u++){const d=r[u],g=n[u];if(d.startsWith(":"))o[d.substring(1)]=g;else if(d!==g.path)return null}return{consumed:n.slice(0,r.length),posParams:o}}function xn(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let o;for(let u=0;u<t.length;u++)if(o=t[u],!qo(n[o],e[o]))return!1;return!0}function qo(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((o,u)=>r[u]===o)}return n===e}function Ms(n){return Array.prototype.concat.apply([],n)}function _h(n){return n.length>0?n[n.length-1]:null}function Bn(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function gi(n){return(0,l.CqO)(n)?n:(0,l.QGY)(n)?(0,tn.D)(Promise.resolve(n)):Ze(n)}const Ic={exact:function Pl(n,e,t){if(!Jn(n.segments,e.segments)||!Oa(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!Pl(n.children[r],e.children[r],t))return!1;return!0},subset:Rs},zo={exact:function Ra(n,e){return xn(n,e)},subset:function Pa(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>qo(n[t],e[t]))},ignored:()=>!0};function Ec(n,e,t){return Ic[t.paths](n.root,e.root,t.matrixParams)&&zo[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function Rs(n,e,t){return Vi(n,e,e.segments,t)}function Vi(n,e,t,r){if(n.segments.length>t.length){const o=n.segments.slice(0,t.length);return!(!Jn(o,t)||e.hasChildren()||!Oa(o,t,r))}if(n.segments.length===t.length){if(!Jn(n.segments,t)||!Oa(n.segments,t,r))return!1;for(const o in e.children)if(!n.children[o]||!Rs(n.children[o],e.children[o],r))return!1;return!0}{const o=t.slice(0,n.segments.length),u=t.slice(n.segments.length);return!!(Jn(n.segments,o)&&Oa(n.segments,o,r)&&n.children[Bt])&&Vi(n.children[Bt],e,u,r)}}function Oa(n,e,t){return e.every((r,o)=>zo[t](n[o].parameters,r.parameters))}class is{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Zo(this.queryParams)),this._queryParamMap}toString(){return kl.serialize(this)}}class qt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Bn(t,(r,o)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ps(this)}}class kr{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Zo(this.parameters)),this._parameterMap}toString(){return Se(this)}}function Jn(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let kn=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return new Na},providedIn:"root"}),n})();class Na{parse(e){const t=new os(e);return new is(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${ss(e.root,!0)}`,r=function gt(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(o=>`${D(t)}=${D(o)}`).join("&"):`${D(t)}=${D(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function S(n){return encodeURI(n)}(e.fragment)}`:""}`}}const kl=new Na;function Ps(n){return n.segments.map(e=>Se(e)).join("/")}function ss(n,e){if(!n.hasChildren())return Ps(n);if(e){const t=n.children[Bt]?ss(n.children[Bt],!1):"",r=[];return Bn(n.children,(o,u)=>{u!==Bt&&r.push(`${u}:${ss(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function Ol(n,e){let t=[];return Bn(n.children,(r,o)=>{o===Bt&&(t=t.concat(e(r,o)))}),Bn(n.children,(r,o)=>{o!==Bt&&(t=t.concat(e(r,o)))}),t}(n,(r,o)=>o===Bt?[ss(n.children[Bt],!1)]:[`${o}:${ss(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Bt]?`${Ps(n)}/${t[0]}`:`${Ps(n)}/(${t.join("//")})`}}function E(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function D(n){return E(n).replace(/%3B/gi,";")}function F(n){return E(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Y(n){return decodeURIComponent(n)}function ce(n){return Y(n.replace(/\+/g,"%20"))}function Se(n){return`${F(n.path)}${function Ye(n){return Object.keys(n).map(e=>`;${F(e)}=${F(n[e])}`).join("")}(n.parameters)}`}const Ct=/^[^\/()?;=#]+/;function At(n){const e=n.match(Ct);return e?e[0]:""}const _t=/^[^=?&#]+/,Nr=/^[^&#]+/;class os{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new qt([],{}):new qt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Bt]=new qt(e,t)),r}parseSegment(){const e=At(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new l.vHH(4009,!1);return this.capture(e),new kr(Y(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=At(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=At(this.remaining);o&&(r=o,this.capture(r))}e[Y(t)]=Y(r)}parseQueryParam(e){const t=function pr(n){const e=n.match(_t);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const d=function Bi(n){const e=n.match(Nr);return e?e[0]:""}(this.remaining);d&&(r=d,this.capture(r))}const o=ce(t),u=ce(r);if(e.hasOwnProperty(o)){let d=e[o];Array.isArray(d)||(d=[d],e[o]=d),d.push(u)}else e[o]=u}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=At(this.remaining),o=this.remaining[r.length];if("/"!==o&&")"!==o&&";"!==o)throw new l.vHH(4010,!1);let u;r.indexOf(":")>-1?(u=r.slice(0,r.indexOf(":")),this.capture(u),this.capture(":")):e&&(u=Bt);const d=this.parseChildren();t[u]=1===Object.keys(d).length?d[Bt]:new qt([],d),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new l.vHH(4011,!1)}}function as(n){return n.segments.length>0?new qt([],{[Bt]:n}):n}function Fa(n){const e={};for(const r of Object.keys(n.children)){const u=Fa(n.children[r]);(u.segments.length>0||u.hasChildren())&&(e[r]=u)}return function Iu(n){if(1===n.numberOfChildren&&n.children[Bt]){const e=n.children[Bt];return new qt(n.segments.concat(e.segments),e.children)}return n}(new qt(n.segments,e))}function mi(n){return n instanceof is}function Dc(n,e,t,r,o){if(0===t.length)return La(e.root,e.root,e.root,r,o);const u=function Om(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new yh(!0,0,n);let e=0,t=!1;const r=n.reduce((o,u,d)=>{if("object"==typeof u&&null!=u){if(u.outlets){const g={};return Bn(u.outlets,(y,I)=>{g[I]="string"==typeof y?y.split("/"):y}),[...o,{outlets:g}]}if(u.segmentPath)return[...o,u.segmentPath]}return"string"!=typeof u?[...o,u]:0===d?(u.split("/").forEach((g,y)=>{0==y&&"."===g||(0==y&&""===g?t=!0:".."===g?e++:""!=g&&o.push(g))}),o):[...o,u]},[]);return new yh(t,e,r)}(t);return u.toRoot()?La(e.root,e.root,new qt([],{}),r,o):function d(y){const I=function fp(n,e,t,r){if(n.isAbsolute)return new Wo(e.root,!0,0);if(-1===r)return new Wo(t,t===e.root,0);return function Tc(n,e,t){let r=n,o=e,u=t;for(;u>o;){if(u-=o,r=r.parent,!r)throw new l.vHH(4005,!1);o=r.segments.length}return new Wo(r,!1,o-u)}(t,r+(Eu(n.commands[0])?0:1),n.numberOfDoubleDots)}(u,e,n.snapshot?._urlSegment,y),C=I.processChildren?Ac(I.segmentGroup,I.index,u.commands):Ko(I.segmentGroup,I.index,u.commands);return La(e.root,I.segmentGroup,C,r,o)}(n.snapshot?._lastPathIndex)}function Eu(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Go(n){return"object"==typeof n&&null!=n&&n.outlets}function La(n,e,t,r,o){let d,u={};r&&Bn(r,(y,I)=>{u[I]=Array.isArray(y)?y.map(C=>`${C}`):`${y}`}),d=n===e?t:Pm(n,e,t);const g=as(Fa(d));return new is(g,u,o)}function Pm(n,e,t){const r={};return Bn(n.children,(o,u)=>{r[u]=o===e?t:Pm(o,e,t)}),new qt(n.segments,r)}class yh{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Eu(r[0]))throw new l.vHH(4003,!1);const o=r.find(Go);if(o&&o!==_h(r))throw new l.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Wo{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function Ko(n,e,t){if(n||(n=new qt([],{})),0===n.segments.length&&n.hasChildren())return Ac(n,e,t);const r=function Nm(n,e,t){let r=0,o=e;const u={match:!1,pathIndex:0,commandIndex:0};for(;o<n.segments.length;){if(r>=t.length)return u;const d=n.segments[o],g=t[r];if(Go(g))break;const y=`${g}`,I=r<t.length-1?t[r+1]:null;if(o>0&&void 0===y)break;if(y&&I&&"object"==typeof I&&void 0===I.outlets){if(!vh(y,I,d))return u;r+=2}else{if(!vh(y,{},d))return u;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}(n,e,t),o=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const u=new qt(n.segments.slice(0,r.pathIndex),{});return u.children[Bt]=new qt(n.segments.slice(r.pathIndex),n.children),Ac(u,0,o)}return r.match&&0===o.length?new qt(n.segments,{}):r.match&&!n.hasChildren()?pp(n,e,t):r.match?Ac(n,0,o):pp(n,e,t)}function Ac(n,e,t){if(0===t.length)return new qt(n.segments,{});{const r=function Cc(n){return Go(n[0])?n[0].outlets:{[Bt]:n}}(t),o={};return Bn(r,(u,d)=>{"string"==typeof u&&(u=[u]),null!==u&&(o[d]=Ko(n.children[d],e,u))}),Bn(n.children,(u,d)=>{void 0===r[d]&&(o[d]=u)}),new qt(n.segments,o)}}function pp(n,e,t){const r=n.segments.slice(0,e);let o=0;for(;o<t.length;){const u=t[o];if(Go(u)){const y=Fl(u.outlets);return new qt(r,y)}if(0===o&&Eu(t[0])){r.push(new kr(n.segments[e].path,Sc(t[0]))),o++;continue}const d=Go(u)?u.outlets[Bt]:`${u}`,g=o<t.length-1?t[o+1]:null;d&&g&&Eu(g)?(r.push(new kr(d,Sc(g))),o+=2):(r.push(new kr(d,{})),o++)}return new qt(r,{})}function Fl(n){const e={};return Bn(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=pp(new qt([],{}),0,t))}),e}function Sc(n){const e={};return Bn(n,(t,r)=>e[r]=`${t}`),e}function vh(n,e,t){return n==t.path&&xn(e,t.parameters)}class ks{constructor(e,t){this.id=e,this.url=t}}class Ll extends ks{constructor(e,t,r="imperative",o=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Yo extends ks{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Du extends ks{constructor(e,t,r,o){super(e,t),this.reason=r,this.code=o,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class gp extends ks{constructor(e,t,r,o){super(e,t),this.error=r,this.target=o,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class xh extends ks{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Fm extends ks{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class mp extends ks{constructor(e,t,r,o,u){super(e,t),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=u,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Qo extends ks{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ua extends ks{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Lm{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Um{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Vm{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class pv{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gv{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mv{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _p{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class p{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=m(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=m(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=w(e,this._root);return t.length<2?[]:t[t.length-2].children.map(o=>o.value).filter(o=>o!==e)}pathFromRoot(e){return w(e,this._root).map(t=>t.value)}}function m(n,e){if(n===e.value)return e;for(const t of e.children){const r=m(n,t);if(r)return r}return null}function w(n,e){if(n===e.value)return[e];for(const t of e.children){const r=w(n,t);if(r.length)return r.unshift(e),r}return[]}class A{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function O(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class te extends p{constructor(e,t){super(e),this.snapshot=t,Mc(this,e)}toString(){return this.snapshot.toString()}}function Ae(n,e){const t=function Qe(n,e){const d=new ui([],{},{},"",{},Bt,e,null,n.root,-1,{});return new Jo("",new A(d,[]))}(n,e),r=new Kn([new kr("",{})]),o=new Kn({}),u=new Kn({}),d=new Kn({}),g=new Kn(""),y=new ut(r,o,d,g,u,Bt,e,t.root);return y.snapshot=t.root,new te(new A(y,[]),t)}class ut{constructor(e,t,r,o,u,d,g,y){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=u,this.outlet=d,this.component=g,this._futureSnapshot=y}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Dt.U)(e=>Zo(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Dt.U)(e=>Zo(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function zt(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const o=t[r],u=t[r-1];if(o.routeConfig&&""===o.routeConfig.path)r--;else{if(u.component)break;r--}}return function Dn(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class ui{constructor(e,t,r,o,u,d,g,y,I,C,R,V){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=u,this.outlet=d,this.component=g,this.routeConfig=y,this._urlSegment=I,this._lastPathIndex=C,this._correctedLastPathIndex=V??C,this._resolve=R}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Zo(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Zo(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Jo extends p{constructor(e,t){super(t),this.url=e,Mc(this,t)}toString(){return yp(this._root)}}function Mc(n,e){e.value._routerState=n,e.children.forEach(t=>Mc(n,t))}function yp(n){const e=n.children.length>0?` { ${n.children.map(yp).join(", ")} } `:"";return`${n.value}${e}`}function Va(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,xn(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),xn(e.params,t.params)||n.params.next(t.params),function rs(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!xn(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),xn(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Tu(n,e){const t=xn(n.params,e.params)&&function ka(n,e){return Jn(n,e)&&n.every((t,r)=>xn(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Tu(n.parent,e.parent))}function Cu(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const o=function Bm(n,e,t){return e.children.map(r=>{for(const o of t.children)if(n.shouldReuseRoute(r.value,o.value.snapshot))return Cu(n,r,o);return Cu(n,r)})}(n,e,t);return new A(r,o)}{if(n.shouldAttach(e.value)){const u=n.retrieve(e.value);if(null!==u){const d=u.route;return d.value._futureSnapshot=e.value,d.children=e.children.map(g=>Cu(n,g)),d}}const r=function wh(n){return new ut(new Kn(n.url),new Kn(n.params),new Kn(n.queryParams),new Kn(n.fragment),new Kn(n.data),n.outlet,n.component,n)}(e.value),o=e.children.map(u=>Cu(n,u));return new A(r,o)}}const Rc="ngNavigationCancelingError";function bh(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=mi(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,o=vp(!1,0,e);return o.url=t,o.navigationBehaviorOptions=r,o}function vp(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[Rc]=!0,r.cancellationCode=e,t&&(r.url=t),r}function Vl(n){return Ih(n)&&mi(n.url)}function Ih(n){return n&&n[Rc]}class xp{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Eh,this.attachRef=null}}let Eh=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const o=this.getOrCreateContext(t);o.outlet=r,this.contexts.set(t,o)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new xp,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Bl=!1;let jm=(()=>{class n{constructor(t,r,o,u,d){this.parentContexts=t,this.location=r,this.changeDetector=u,this.environmentInjector=d,this.activated=null,this._activatedRoute=null,this.activateEvents=new l.vpe,this.deactivateEvents=new l.vpe,this.attachEvents=new l.vpe,this.detachEvents=new l.vpe,this.name=o||Bt,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new l.vHH(4012,Bl);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new l.vHH(4012,Bl);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new l.vHH(4012,Bl);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new l.vHH(4013,Bl);this._activatedRoute=t;const o=this.location,d=t._futureSnapshot.component,g=this.parentContexts.getOrCreateContext(this.name).children,y=new vr(t,g,o.injector);if(r&&function wI(n){return!!n.resolveComponentFactory}(r)){const I=r.resolveComponentFactory(d);this.activated=o.createComponent(I,o.length,y)}else this.activated=o.createComponent(d,{index:o.length,injector:y,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Eh),l.Y36(l.s_b),l.$8M("name"),l.Y36(l.sBO),l.Y36(l.lqb))},n.\u0275dir=l.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class vr{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===ut?this.route:e===Eh?this.childContexts:this.parent.get(e,t)}}let _v=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&l._UZ(0,"router-outlet")},dependencies:[jm],encapsulation:2}),n})();function wp(n,e){return n.providers&&!n._injector&&(n._injector=(0,l.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Pc(n){const e=n.children&&n.children.map(Pc),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Bt&&(t.component=_v),t}function ji(n){return n.outlet||Bt}function Hm(n,e){const t=n.filter(r=>ji(r)===e);return t.push(...n.filter(r=>ji(r)!==e)),t}function Zm(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class DI{constructor(e,t,r,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=o}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Va(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const o=O(t);e.children.forEach(u=>{const d=u.value.outlet;this.deactivateRoutes(u,o[d],r),delete o[d]}),Bn(o,(u,d)=>{this.deactivateRouteAndItsChildren(u,r)})}deactivateRoutes(e,t,r){const o=e.value,u=t?t.value:null;if(o===u)if(o.component){const d=r.getContext(o.outlet);d&&this.deactivateChildRoutes(e,t,d.children)}else this.deactivateChildRoutes(e,t,r);else u&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,u=O(e);for(const d of Object.keys(u))this.deactivateRouteAndItsChildren(u[d],o);if(r&&r.outlet){const d=r.outlet.detach(),g=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:d,route:e,contexts:g})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,u=O(e);for(const d of Object.keys(u))this.deactivateRouteAndItsChildren(u[d],o);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const o=O(t);e.children.forEach(u=>{this.activateRoutes(u,o[u.value.outlet],r),this.forwardEvent(new mv(u.value.snapshot))}),e.children.length&&this.forwardEvent(new pv(e.value.snapshot))}activateRoutes(e,t,r){const o=e.value,u=t?t.value:null;if(Va(o),o===u)if(o.component){const d=r.getOrCreateContext(o.outlet);this.activateChildRoutes(e,t,d.children)}else this.activateChildRoutes(e,t,r);else if(o.component){const d=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const g=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),d.children.onOutletReAttached(g.contexts),d.attachRef=g.componentRef,d.route=g.route.value,d.outlet&&d.outlet.attach(g.componentRef,g.route.value),Va(g.route.value),this.activateChildRoutes(e,null,d.children)}else{const g=Zm(o.snapshot),y=g?.get(l._Vd)??null;d.attachRef=null,d.route=o,d.resolver=y,d.injector=g,d.outlet&&d.outlet.activateWith(o,d.injector),this.activateChildRoutes(e,null,d.children)}}else this.activateChildRoutes(e,null,r)}}class qm{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Dh{constructor(e,t){this.component=e,this.route=t}}function zm(n,e,t){const r=n._root;return Oc(r,e?e._root:null,t,[r.value])}function bp(n,e,t){return(Zm(e)??t).get(n)}function Oc(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const u=O(e);return n.children.forEach(d=>{(function vv(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const u=n.value,d=e?e.value:null,g=t?t.getContext(n.value.outlet):null;if(d&&u.routeConfig===d.routeConfig){const y=function xv(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Jn(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Jn(n.url,e.url)||!xn(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Tu(n,e)||!xn(n.queryParams,e.queryParams);default:return!Tu(n,e)}}(d,u,u.routeConfig.runGuardsAndResolvers);y?o.canActivateChecks.push(new qm(r)):(u.data=d.data,u._resolvedData=d._resolvedData),Oc(n,e,u.component?g?g.children:null:t,r,o),y&&g&&g.outlet&&g.outlet.isActivated&&o.canDeactivateChecks.push(new Dh(g.outlet.component,d))}else d&&co(e,g,o),o.canActivateChecks.push(new qm(r)),Oc(n,null,u.component?g?g.children:null:t,r,o)})(d,u[d.value.outlet],t,r.concat([d.value]),o),delete u[d.value.outlet]}),Bn(u,(d,g)=>co(d,t.getContext(g),o)),o}function co(n,e,t){const r=O(n),o=n.value;Bn(r,(u,d)=>{co(u,o.component?e?e.children.getContext(d):null:e,t)}),t.canDeactivateChecks.push(new Dh(o.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,o))}function Th(n){return"function"==typeof n}function Ym(n){return n instanceof ki||"EmptyError"===n?.name}const Dp=Symbol("INITIAL_VALUE");function Nc(){return Yn(n=>vc(n.map(e=>e.pipe(Ho(1),Rl(Dp)))).pipe((0,Dt.U)(e=>{for(const t of e)if(!0!==t){if(t===Dp)return Dp;if(!1===t||t instanceof is)return t}return!0}),Li(e=>e!==Dp),Ho(1)))}function Jm(n){return(0,wc.z)((0,Qn.b)(e=>{if(mi(e))throw bh(0,e)}),(0,Dt.U)(e=>!0===e))}const Xm={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function $l(n,e,t,r,o){const u=e_(n,e,t);return u.matched?function lC(n,e,t,r){const o=e.canMatch;return o&&0!==o.length?Ze(o.map(d=>{const g=n.get(d),y=function kc(n){return n&&Th(n.canMatch)}(g)?g.canMatch(e,t):g(e,t);return gi(y)})).pipe(Nc(),Jm()):Ze(!0)}(r=wp(e,r),e,t).pipe((0,Dt.U)(d=>!0===d?u:{...Xm})):Ze(u)}function e_(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...Xm}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const o=(e.matcher||hp)(t,n,e);if(!o)return{...Xm};const u={};Bn(o.posParams,(g,y)=>{u[y]=g.path});const d=o.consumed.length>0?{...u,...o.consumed[o.consumed.length-1].parameters}:u;return{matched:!0,consumedSegments:o.consumed,remainingSegments:t.slice(o.consumed.length),parameters:d,positionalParamSegments:o.posParams??{}}}function Ba(n,e,t,r,o="corrected"){if(t.length>0&&function dC(n,e,t){return t.some(r=>Tp(n,e,r)&&ji(r)!==Bt)}(n,t,r)){const d=new qt(e,function kI(n,e,t,r){const o={};o[Bt]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const u of t)if(""===u.path&&ji(u)!==Bt){const d=new qt([],{});d._sourceSegment=n,d._segmentIndexShift=e.length,o[ji(u)]=d}return o}(n,e,r,new qt(t,n.children)));return d._sourceSegment=n,d._segmentIndexShift=e.length,{segmentGroup:d,slicedSegments:[]}}if(0===t.length&&function bv(n,e,t){return t.some(r=>Tp(n,e,r))}(n,t,r)){const d=new qt(n.segments,function Ch(n,e,t,r,o,u){const d={};for(const g of r)if(Tp(n,t,g)&&!o[ji(g)]){const y=new qt([],{});y._sourceSegment=n,y._segmentIndexShift="legacy"===u?n.segments.length:e.length,d[ji(g)]=y}return{...o,...d}}(n,e,t,r,n.children,o));return d._sourceSegment=n,d._segmentIndexShift=e.length,{segmentGroup:d,slicedSegments:t}}const u=new qt(n.segments,n.children);return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:t}}function Tp(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function Iv(n,e,t,r){return!!(ji(n)===r||r!==Bt&&Tp(e,t,n))&&("**"===n.path||e_(e,n,t).matched)}function Ev(n,e,t){return 0===e.length&&!n.children[t]}const Ah=!1;class Sh{constructor(e){this.segmentGroup=e||null}}class Cp{constructor(e){this.urlTree=e}}function Mh(n){return Pr(new Sh(n))}function Dv(n){return Pr(new Cp(n))}class n_{constructor(e,t,r,o,u){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=o,this.config=u,this.allowRedirects=!0}apply(){const e=Ba(this.urlTree.root,[],[],this.config).segmentGroup,t=new qt(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,Bt).pipe((0,Dt.U)(u=>this.createUrlTree(Fa(u),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ns(u=>{if(u instanceof Cp)return this.allowRedirects=!1,this.match(u.urlTree);throw u instanceof Sh?this.noMatchError(u):u}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,Bt).pipe((0,Dt.U)(o=>this.createUrlTree(Fa(o),e.queryParams,e.fragment))).pipe(ns(o=>{throw o instanceof Sh?this.noMatchError(o):o}))}noMatchError(e){return new l.vHH(4002,Ah)}createUrlTree(e,t,r){const o=as(e);return new is(o,t,r)}expandSegmentGroup(e,t,r,o){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,Dt.U)(u=>new qt([],u))):this.expandSegment(e,r,t,r.segments,o,!0)}expandChildren(e,t,r){const o=[];for(const u of Object.keys(r.children))"primary"===u?o.unshift(u):o.push(u);return(0,tn.D)(o).pipe(Ss(u=>{const d=r.children[u],g=Hm(t,u);return this.expandSegmentGroup(e,g,d,u).pipe((0,Dt.U)(y=>({segment:y,outlet:u})))}),Vn((u,d)=>(u[d.outlet]=d.segment,u),{}),Ca())}expandSegment(e,t,r,o,u,d){return(0,tn.D)(r).pipe(Ss(g=>this.expandSegmentAgainstRoute(e,t,r,g,o,u,d).pipe(ns(I=>{if(I instanceof Sh)return Ze(null);throw I}))),yn(g=>!!g),ns((g,y)=>{if(Ym(g))return Ev(t,o,u)?Ze(new qt([],{})):Mh(t);throw g}))}expandSegmentAgainstRoute(e,t,r,o,u,d,g){return Iv(o,t,u,d)?void 0===o.redirectTo?this.matchSegmentAgainstRoute(e,t,o,u,d):g&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,o,u,d):Mh(t):Mh(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,o,u,d){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,o,d):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,u,d)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,o){const u=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?Dv(u):this.lineralizeSegments(r,u).pipe((0,Or.z)(d=>{const g=new qt(d,{});return this.expandSegment(e,g,t,d,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,u,d){const{matched:g,consumedSegments:y,remainingSegments:I,positionalParamSegments:C}=e_(t,o,u);if(!g)return Mh(t);const R=this.applyRedirectCommands(y,o.redirectTo,C);return o.redirectTo.startsWith("/")?Dv(R):this.lineralizeSegments(o,R).pipe((0,Or.z)(V=>this.expandSegment(e,t,r,V.concat(I),d,!1)))}matchSegmentAgainstRoute(e,t,r,o,u){return"**"===r.path?(e=wp(r,e),r.loadChildren?(r._loadedRoutes?Ze({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe((0,Dt.U)(g=>(r._loadedRoutes=g.routes,r._loadedInjector=g.injector,new qt(o,{})))):Ze(new qt(o,{}))):$l(t,r,o,e).pipe(Yn(({matched:d,consumedSegments:g,remainingSegments:y})=>d?this.getChildConfig(e=r._injector??e,r,o).pipe((0,Or.z)(C=>{const R=C.injector??e,V=C.routes,{segmentGroup:J,slicedSegments:ie}=Ba(t,g,y,V),Oe=new qt(J.segments,J.children);if(0===ie.length&&Oe.hasChildren())return this.expandChildren(R,V,Oe).pipe((0,Dt.U)(wt=>new qt(g,wt)));if(0===V.length&&0===ie.length)return Ze(new qt(g,{}));const Fe=ji(r)===u;return this.expandSegment(R,Oe,V,ie,Fe?Bt:u,!0).pipe((0,Dt.U)(Et=>new qt(g.concat(Et.segments),Et.children)))})):Mh(t)))}getChildConfig(e,t,r){return t.children?Ze({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?Ze({routes:t._loadedRoutes,injector:t._loadedInjector}):function OI(n,e,t,r){const o=e.canLoad;return void 0===o||0===o.length?Ze(!0):Ze(o.map(d=>{const g=n.get(d),y=function Ip(n){return n&&Th(n.canLoad)}(g)?g.canLoad(e,t):g(e,t);return gi(y)})).pipe(Nc(),Jm())}(e,t,r).pipe((0,Or.z)(o=>o?this.configLoader.loadChildren(e,t).pipe((0,Qn.b)(u=>{t._loadedRoutes=u.routes,t._loadedInjector=u.injector})):function hC(n){return Pr(vp(Ah,3))}())):Ze({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],o=t.root;for(;;){if(r=r.concat(o.segments),0===o.numberOfChildren)return Ze(r);if(o.numberOfChildren>1||!o.children[Bt])return Pr(new l.vHH(4e3,Ah));o=o.children[Bt]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,o){const u=this.createSegmentGroup(e,t.root,r,o);return new is(u,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Bn(e,(o,u)=>{if("string"==typeof o&&o.startsWith(":")){const g=o.substring(1);r[u]=t[g]}else r[u]=o}),r}createSegmentGroup(e,t,r,o){const u=this.createSegments(e,t.segments,r,o);let d={};return Bn(t.children,(g,y)=>{d[y]=this.createSegmentGroup(e,g,r,o)}),new qt(u,d)}createSegments(e,t,r,o){return t.map(u=>u.path.startsWith(":")?this.findPosParam(e,u,o):this.findOrReturn(u,r))}findPosParam(e,t,r){const o=r[t.path.substring(1)];if(!o)throw new l.vHH(4001,Ah);return o}findOrReturn(e,t){let r=0;for(const o of t){if(o.path===e.path)return t.splice(r),o;r++}return e}}class gC{}class NI{constructor(e,t,r,o,u,d,g,y){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=o,this.url=u,this.paramsInheritanceStrategy=d,this.relativeLinkResolution=g,this.urlSerializer=y}recognize(){const e=Ba(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Bt).pipe((0,Dt.U)(t=>{if(null===t)return null;const r=new ui([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Bt,this.rootComponentType,null,this.urlTree.root,-1,{}),o=new A(r,t),u=new Jo(this.url,o);return this.inheritParamsAndData(u._root),u}))}inheritParamsAndData(e){const t=e.value,r=zt(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(o=>this.inheritParamsAndData(o))}processSegmentGroup(e,t,r,o){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,o)}processChildren(e,t,r){return(0,tn.D)(Object.keys(r.children)).pipe(Ss(o=>{const u=r.children[o],d=Hm(t,o);return this.processSegmentGroup(e,d,u,o)}),Vn((o,u)=>o&&u?(o.push(...u),o):null),function bu(n,e=!1){return(0,mt.e)((t,r)=>{let o=0;t.subscribe((0,vn.x)(r,u=>{const d=n(u,o++);(d||e)&&r.next(u),!d&&r.complete()}))})}(o=>null!==o),Ui(null),Ca(),(0,Dt.U)(o=>{if(null===o)return null;const u=s_(o);return function Tv(n){n.sort((e,t)=>e.value.outlet===Bt?-1:t.value.outlet===Bt?1:e.value.outlet.localeCompare(t.value.outlet))}(u),u}))}processSegment(e,t,r,o,u){return(0,tn.D)(t).pipe(Ss(d=>this.processSegmentAgainstRoute(d._injector??e,d,r,o,u)),yn(d=>!!d),ns(d=>{if(Ym(d))return Ev(r,o,u)?Ze([]):Ze(null);throw d}))}processSegmentAgainstRoute(e,t,r,o,u){if(t.redirectTo||!Iv(t,r,o,u))return Ze(null);let d;if("**"===t.path){const g=o.length>0?_h(o).parameters:{},y=Sv(r)+o.length;d=Ze({snapshot:new ui(o,g,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Hl(t),ji(t),t.component??t._loadedComponent??null,t,Ap(r),y,Mv(t),y),consumedSegments:[],remainingSegments:[]})}else d=$l(r,t,o,e).pipe((0,Dt.U)(({matched:g,consumedSegments:y,remainingSegments:I,parameters:C})=>{if(!g)return null;const R=Sv(r)+y.length;return{snapshot:new ui(y,C,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Hl(t),ji(t),t.component??t._loadedComponent??null,t,Ap(r),R,Mv(t),R),consumedSegments:y,remainingSegments:I}}));return d.pipe(Yn(g=>{if(null===g)return Ze(null);const{snapshot:y,consumedSegments:I,remainingSegments:C}=g;e=t._injector??e;const R=t._loadedInjector??e,V=function i_(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:J,slicedSegments:ie}=Ba(r,I,C,V.filter(Fe=>void 0===Fe.redirectTo),this.relativeLinkResolution);if(0===ie.length&&J.hasChildren())return this.processChildren(R,V,J).pipe((0,Dt.U)(Fe=>null===Fe?null:[new A(y,Fe)]));if(0===V.length&&0===ie.length)return Ze([new A(y,[])]);const Oe=ji(t)===u;return this.processSegment(R,V,J,ie,Oe?Bt:u).pipe((0,Dt.U)(Fe=>null===Fe?null:[new A(y,Fe)]))}))}}function Cv(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function s_(n){const e=[],t=new Set;for(const r of n){if(!Cv(r)){e.push(r);continue}const o=e.find(u=>r.value.routeConfig===u.value.routeConfig);void 0!==o?(o.children.push(...r.children),t.add(o)):e.push(r)}for(const r of t){const o=s_(r.children);e.push(new A(r.value,o))}return e.filter(r=>!t.has(r))}function Ap(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Sv(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function Hl(n){return n.data||{}}function Mv(n){return n.resolve||{}}const o_=Symbol("RouteTitle");function Mp(n){return"string"==typeof n.title||null===n.title}function a_(n){return Yn(e=>{const t=n(e);return t?(0,tn.D)(t).pipe((0,Dt.U)(()=>e)):Ze(e)})}let Pv=(()=>{class n{buildTitle(t){let r,o=t.root;for(;void 0!==o;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(u=>u.outlet===Bt);return r}getResolvedTitleForRoute(t){return t.data[o_]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)(Ov)},providedIn:"root"}),n})(),Ov=(()=>{class n extends Pv{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Tl))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class $I{}class _i extends class HI{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const Rp=new l.OlP("",{providedIn:"root",factory:()=>({})}),Fr=new l.OlP("ROUTES");let Fc=(()=>{class n{constructor(t,r){this.injector=t,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return Ze(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=gi(t.loadComponent()).pipe((0,Qn.b)(u=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=u}),ao(()=>{this.componentLoaders.delete(t)})),o=new up(r,()=>new Xi.x).pipe(wu());return this.componentLoaders.set(t,o),o}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Ze({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const u=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,Dt.U)(g=>{this.onLoadEndListener&&this.onLoadEndListener(r);let y,I,C=!1;Array.isArray(g)?I=g:(y=g.create(t).injector,I=Ms(y.get(Fr,[],l.XFs.Self|l.XFs.Optional)));return{routes:I.map(Pc),injector:y}}),ao(()=>{this.childrenLoaders.delete(r)})),d=new up(u,()=>new Xi.x).pipe(wu());return this.childrenLoaders.set(r,d),d}loadModuleFactoryOrRoutes(t){return gi(t()).pipe((0,Or.z)(r=>r instanceof l.YKP||Array.isArray(r)?Ze(r):(0,tn.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.zs3),l.LFG(l.Sil))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class c_{}class ZI{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function kv(n){throw n}function qI(n,e,t){return e.parse("/")}const Nv={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},zI={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function Lv(){const n=(0,l.f3M)(kn),e=(0,l.f3M)(Eh),t=(0,l.f3M)(Ne),r=(0,l.f3M)(l.zs3),o=(0,l.f3M)(l.Sil),u=(0,l.f3M)(Fr,{optional:!0})??[],d=(0,l.f3M)(Rp,{optional:!0})??{},g=(0,l.f3M)(Ov),y=(0,l.f3M)(Pv,{optional:!0}),I=(0,l.f3M)(c_,{optional:!0}),C=(0,l.f3M)($I,{optional:!0}),R=new yi(null,n,e,t,r,o,Ms(u));return I&&(R.urlHandlingStrategy=I),C&&(R.routeReuseStrategy=C),R.titleStrategy=y??g,function Fv(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(d,R),R}let yi=(()=>{class n{constructor(t,r,o,u,d,g,y){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=o,this.location=u,this.config=y,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Xi.x,this.errorHandler=kv,this.malformedUriErrorHandler=qI,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>Ze(void 0),this.urlHandlingStrategy=new ZI,this.routeReuseStrategy=new _i,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=d.get(Fc),this.configLoader.onLoadEndListener=V=>this.triggerEvent(new Um(V)),this.configLoader.onLoadStartListener=V=>this.triggerEvent(new Lm(V)),this.ngModule=d.get(l.h0i),this.console=d.get(l.c2e);const R=d.get(l.R0b);this.isNgZoneEnabled=R instanceof l.R0b&&l.R0b.isInAngularZone(),this.resetConfig(y),this.currentUrlTree=function Ma(){return new is(new qt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Ae(this.currentUrlTree,this.rootComponentType),this.transitions=new Kn({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(Li(o=>0!==o.id),(0,Dt.U)(o=>({...o,extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Yn(o=>{let u=!1,d=!1;return Ze(o).pipe((0,Qn.b)(g=>{this.currentNavigation={id:g.id,initialUrl:g.rawUrl,extractedUrl:g.extractedUrl,trigger:g.source,extras:g.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Yn(g=>{const y=this.browserUrlTree.toString(),I=!this.navigated||g.extractedUrl.toString()!==y||y!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||I)&&this.urlHandlingStrategy.shouldProcessUrl(g.rawUrl))return Uv(g.source)&&(this.browserUrlTree=g.extractedUrl),Ze(g).pipe(Yn(R=>{const V=this.transitions.getValue();return r.next(new Ll(R.id,this.serializeUrl(R.extractedUrl),R.source,R.restoredState)),V!==this.transitions.getValue()?so.E:Promise.resolve(R)}),function pC(n,e,t,r){return Yn(o=>function fC(n,e,t,r,o){return new n_(n,e,t,r,o).apply()}(n,e,t,o.extractedUrl,r).pipe((0,Dt.U)(u=>({...o,urlAfterRedirects:u}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Qn.b)(R=>{this.currentNavigation={...this.currentNavigation,finalUrl:R.urlAfterRedirects},o.urlAfterRedirects=R.urlAfterRedirects}),function FI(n,e,t,r,o,u){return(0,Or.z)(d=>function _C(n,e,t,r,o,u,d="emptyOnly",g="legacy"){return new NI(n,e,t,r,o,d,g,u).recognize().pipe(Yn(y=>null===y?function mC(n){return new oi.y(e=>e.error(n))}(new gC):Ze(y)))}(n,e,t,d.urlAfterRedirects,r.serialize(d.urlAfterRedirects),r,o,u).pipe((0,Dt.U)(g=>({...d,targetSnapshot:g}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Qn.b)(R=>{if(o.targetSnapshot=R.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!R.extras.skipLocationChange){const J=this.urlHandlingStrategy.merge(R.urlAfterRedirects,R.rawUrl);this.setBrowserUrl(J,R)}this.browserUrlTree=R.urlAfterRedirects}const V=new xh(R.id,this.serializeUrl(R.extractedUrl),this.serializeUrl(R.urlAfterRedirects),R.targetSnapshot);r.next(V)}));if(I&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:V,extractedUrl:J,source:ie,restoredState:Oe,extras:Fe}=g,xt=new Ll(V,this.serializeUrl(J),ie,Oe);r.next(xt);const Et=Ae(J,this.rootComponentType).snapshot;return Ze(o={...g,targetSnapshot:Et,urlAfterRedirects:J,extras:{...Fe,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=g.rawUrl,g.resolve(null),so.E}),(0,Qn.b)(g=>{const y=new Fm(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(g.urlAfterRedirects),g.targetSnapshot);this.triggerEvent(y)}),(0,Dt.U)(g=>o={...g,guards:zm(g.targetSnapshot,g.currentSnapshot,this.rootContexts)}),function jl(n,e){return(0,Or.z)(t=>{const{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:u,canDeactivateChecks:d}}=t;return 0===d.length&&0===u.length?Ze({...t,guardsResult:!0}):function AI(n,e,t,r){return(0,tn.D)(n).pipe((0,Or.z)(o=>function wv(n,e,t,r,o){const u=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return u&&0!==u.length?Ze(u.map(g=>{const y=bp(g,e,o);return gi(function Ep(n){return n&&Th(n.canDeactivate)}(y)?y.canDeactivate(n,e,t,r):y(n,e,t,r)).pipe(yn())})).pipe(Nc()):Ze(!0)}(o.component,o.route,t,e,r)),yn(o=>!0!==o,!0))}(d,r,o,n).pipe((0,Or.z)(g=>g&&function Gm(n){return"boolean"==typeof n}(g)?function SI(n,e,t,r){return(0,tn.D)(e).pipe(Ss(o=>Fi(function RI(n,e){return null!==n&&e&&e(new Vm(n)),Ze(!0)}(o.route.parent,r),function MI(n,e){return null!==n&&e&&e(new gv(n)),Ze(!0)}(o.route,r),function PI(n,e,t){const r=e[e.length-1],u=e.slice(0,e.length-1).reverse().map(d=>function cC(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(d)).filter(d=>null!==d).map(d=>fr(()=>Ze(d.guards.map(y=>{const I=bp(y,d.node,t);return gi(function Wm(n){return n&&Th(n.canActivateChild)}(I)?I.canActivateChild(r,n):I(r,n)).pipe(yn())})).pipe(Nc())));return Ze(u).pipe(Nc())}(n,o.path,t),function Qm(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Ze(!0);const o=r.map(u=>fr(()=>{const d=bp(u,e,t);return gi(function TI(n){return n&&Th(n.canActivate)}(d)?d.canActivate(e,n):d(e,n)).pipe(yn())}));return Ze(o).pipe(Nc())}(n,o.route,t))),yn(o=>!0!==o,!0))}(r,u,n,e):Ze(g)),(0,Dt.U)(g=>({...t,guardsResult:g})))})}(this.ngModule.injector,g=>this.triggerEvent(g)),(0,Qn.b)(g=>{if(o.guardsResult=g.guardsResult,mi(g.guardsResult))throw bh(0,g.guardsResult);const y=new mp(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(g.urlAfterRedirects),g.targetSnapshot,!!g.guardsResult);this.triggerEvent(y)}),Li(g=>!!g.guardsResult||(this.restoreHistory(g),this.cancelNavigationTransition(g,"",3),!1)),a_(g=>{if(g.guards.canActivateChecks.length)return Ze(g).pipe((0,Qn.b)(y=>{const I=new Qo(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot);this.triggerEvent(I)}),Yn(y=>{let I=!1;return Ze(y).pipe(function Rv(n,e){return(0,Or.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:o}}=t;if(!o.length)return Ze(t);let u=0;return(0,tn.D)(o).pipe(Ss(d=>function LI(n,e,t,r){const o=n.routeConfig,u=n._resolve;return void 0!==o?.title&&!Mp(o)&&(u[o_]=o.title),function UI(n,e,t,r){const o=function VI(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===o.length)return Ze({});const u={};return(0,tn.D)(o).pipe((0,Or.z)(d=>function BI(n,e,t,r){const o=bp(n,e,r);return gi(o.resolve?o.resolve(e,t):o(e,t))}(n[d],e,t,r).pipe(yn(),(0,Qn.b)(g=>{u[d]=g}))),ai(1),function oo(n){return(0,Dt.U)(()=>n)}(u),ns(d=>Ym(d)?so.E:Pr(d)))}(u,n,e,r).pipe((0,Dt.U)(d=>(n._resolvedData=d,n.data=zt(n,t).resolve,o&&Mp(o)&&(n.data[o_]=o.title),null)))}(d.route,r,n,e)),(0,Qn.b)(()=>u++),ai(1),(0,Or.z)(d=>u===o.length?Ze(t):so.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Qn.b)({next:()=>I=!0,complete:()=>{I||(this.restoreHistory(y),this.cancelNavigationTransition(y,"",2))}}))}),(0,Qn.b)(y=>{const I=new Ua(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot);this.triggerEvent(I)}))}),a_(g=>{const y=I=>{const C=[];I.routeConfig?.loadComponent&&!I.routeConfig._loadedComponent&&C.push(this.configLoader.loadComponent(I.routeConfig).pipe((0,Qn.b)(R=>{I.component=R}),(0,Dt.U)(()=>{})));for(const R of I.children)C.push(...y(R));return C};return vc(y(g.targetSnapshot.root)).pipe(Ui(),Ho(1))}),a_(()=>this.afterPreactivation()),(0,Dt.U)(g=>{const y=function Ul(n,e,t){const r=Cu(n,e._root,t?t._root:void 0);return new te(r,e)}(this.routeReuseStrategy,g.targetSnapshot,g.currentRouterState);return o={...g,targetRouterState:y}}),(0,Qn.b)(g=>{this.currentUrlTree=g.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(g.urlAfterRedirects,g.rawUrl),this.routerState=g.targetRouterState,"deferred"===this.urlUpdateStrategy&&(g.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,g),this.browserUrlTree=g.urlAfterRedirects)}),((n,e,t)=>(0,Dt.U)(r=>(new DI(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,g=>this.triggerEvent(g)),(0,Qn.b)({next(){u=!0},complete(){u=!0}}),ao(()=>{u||d||this.cancelNavigationTransition(o,"",1),this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),ns(g=>{if(d=!0,Ih(g)){Vl(g)||(this.navigated=!0,this.restoreHistory(o,!0));const y=new Du(o.id,this.serializeUrl(o.extractedUrl),g.message,g.cancellationCode);if(r.next(y),Vl(g)){const I=this.urlHandlingStrategy.merge(g.url,this.rawUrlTree),C={skipLocationChange:o.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Uv(o.source)};this.scheduleNavigation(I,"imperative",null,C,{resolve:o.resolve,reject:o.reject,promise:o.promise})}else o.resolve(!1)}else{this.restoreHistory(o,!0);const y=new gp(o.id,this.serializeUrl(o.extractedUrl),g,o.targetSnapshot??void 0);r.next(y);try{o.resolve(this.errorHandler(g))}catch(I){o.reject(I)}}return so.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next({...this.transitions.value,...t})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{const o={replaceUrl:!0},u=t.state?.navigationId?t.state:null;if(u){const g={...u};delete g.navigationId,delete g.\u0275routerPageId,0!==Object.keys(g).length&&(o.state=g)}const d=this.parseUrl(t.url);this.scheduleNavigation(d,r,u,o)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){this.config=t.map(Pc),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:o,queryParams:u,fragment:d,queryParamsHandling:g,preserveFragment:y}=r,I=o||this.routerState.root,C=y?this.currentUrlTree.fragment:d;let R=null;switch(g){case"merge":R={...this.currentUrlTree.queryParams,...u};break;case"preserve":R=this.currentUrlTree.queryParams;break;default:R=u||null}return null!==R&&(R=this.removeEmptyProps(R)),Dc(I,this.currentUrlTree,t,R,C??null)}navigateByUrl(t,r={skipLocationChange:!1}){const o=mi(t)?t:this.parseUrl(t),u=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(u,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function GI(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new l.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(o){r=this.malformedUriErrorHandler(o,this.urlSerializer,t)}return r}isActive(t,r){let o;if(o=!0===r?{...Nv}:!1===r?{...zI}:r,mi(t))return Ec(this.currentUrlTree,t,o);const u=this.parseUrl(t);return Ec(this.currentUrlTree,u,o)}removeEmptyProps(t){return Object.keys(t).reduce((r,o)=>{const u=t[o];return null!=u&&(r[o]=u),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Yo(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,o,u,d){if(this.disposed)return Promise.resolve(!1);let g,y,I;d?(g=d.resolve,y=d.reject,I=d.promise):I=new Promise((V,J)=>{g=V,y=J});const C=++this.navigationId;let R;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(o=this.location.getState()),R=o&&o.\u0275routerPageId?o.\u0275routerPageId:u.replaceUrl||u.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):R=0,this.setTransition({id:C,targetPageId:R,source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:u,resolve:g,reject:y,promise:I,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),I.catch(V=>Promise.reject(V))}setBrowserUrl(t,r){const o=this.urlSerializer.serialize(t),u={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl?this.location.replaceState(o,"",u):this.location.go(o,"",u)}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===o?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===o&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(o)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r,o){const u=new Du(t.id,this.serializeUrl(t.extractedUrl),r,o);this.triggerEvent(u),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){l.$Z()},n.\u0275prov=l.Yz7({token:n,factory:function(){return Lv()},providedIn:"root"}),n})();function Uv(n){return"imperative"!==n}class Vv{}let WI=(()=>{class n{constructor(t,r,o,u,d){this.router=t,this.injector=o,this.preloadingStrategy=u,this.loader=d}setUpPreloading(){this.subscription=this.router.events.pipe(Li(t=>t instanceof Yo),Ss(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const o=[];for(const u of r){u.providers&&!u._injector&&(u._injector=(0,l.MMx)(u.providers,t,`Route: ${u.path}`));const d=u._injector??t,g=u._loadedInjector??d;u.loadChildren&&!u._loadedRoutes&&void 0===u.canLoad||u.loadComponent&&!u._loadedComponent?o.push(this.preloadConfig(d,u)):(u.children||u._loadedRoutes)&&o.push(this.processRoutes(g,u.children??u._loadedRoutes))}return(0,tn.D)(o).pipe((0,ts.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let o;o=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):Ze(null);const u=o.pipe((0,Or.z)(d=>null===d?Ze(void 0):(r._loadedRoutes=d.routes,r._loadedInjector=d.injector,this.processRoutes(d.injector??t,d.routes))));if(r.loadComponent&&!r._loadedComponent){const d=this.loader.loadComponent(r);return(0,tn.D)([u,d]).pipe((0,ts.J)())}return u})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(yi),l.LFG(l.Sil),l.LFG(l.lqb),l.LFG(Vv),l.LFG(Fc))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const h_=new l.OlP("");let vC=(()=>{class n{constructor(t,r,o={}){this.router=t,this.viewportScroller=r,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Ll?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Yo&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof _p&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new _p(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){l.$Z()},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const kp=new l.OlP("ROUTER_FORROOT_GUARD"),jv=new l.OlP(""),$v=[Ne,{provide:kn,useClass:Na},{provide:yi,useFactory:Lv},Eh,{provide:ut,useFactory:function KI(n){return n.routerState.root},deps:[yi]},Fc];function Rh(){return new l.PXZ("Router",yi)}let Hv=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[$v,[],YI(t),{provide:kp,useFactory:qv,deps:[[yi,new l.FiY,new l.tp0]]},{provide:Rp,useValue:r||{}},r?.useHash?{provide:xe,useClass:nt}:{provide:xe,useClass:tt},{provide:h_,useFactory:()=>{const n=(0,l.f3M)(yi),e=(0,l.f3M)(ha),t=(0,l.f3M)(Rp);return t.scrollOffset&&e.setOffset(t.scrollOffset),new vC(n,e,t)}},r?.preloadingStrategy?tE(r.preloadingStrategy):[],{provide:l.PXZ,multi:!0,useFactory:Rh},r?.initialNavigation?zv(r):[],[{provide:Np,useFactory:ql},{provide:l.tb,multi:!0,useExisting:Np}]]}}static forChild(t){return{ngModule:n,providers:[YI(t)]}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(kp,8))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();function qv(n){return"guarded"}function YI(n){return[{provide:Fr,multi:!0,useValue:n}]}function ql(){const n=(0,l.f3M)(l.zs3);return e=>{const t=n.get(l.z2F);if(e!==t.components[0])return;const r=n.get(yi),o=n.get(Fp);1===n.get(g_)&&r.initialNavigation(),n.get(jv,null,l.XFs.Optional)?.setUpPreloading(),n.get(h_,null,l.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),o.next(),o.complete()}}const Np=new l.OlP("");function zv(n){return["disabled"===n.initialNavigation?[{provide:l.ip1,multi:!0,useFactory:()=>{const n=(0,l.f3M)(yi);return()=>{n.setUpLocationChangeListener()}}},{provide:g_,useValue:2}]:[],"enabledBlocking"===n.initialNavigation?[{provide:g_,useValue:0},{provide:l.ip1,multi:!0,deps:[l.zs3],useFactory:n=>{const e=n.get($,Promise.resolve(null));let t=!1;return()=>e.then(()=>new Promise(o=>{const u=n.get(yi),d=n.get(Fp);(function r(o){n.get(yi).events.pipe(Li(d=>d instanceof Yo||d instanceof Du||d instanceof gp),(0,Dt.U)(d=>d instanceof Yo||d instanceof Du&&(0===d.code||1===d.code)&&null),Li(d=>null!==d),Ho(1)).subscribe(()=>{o()})})(()=>{o(!0),t=!0}),u.afterPreactivation=()=>(o(!0),t||d.closed?Ze(void 0):d),u.initialNavigation()}))}}]:[]]}const Fp=new l.OlP("",{factory:()=>new Xi.x}),g_=new l.OlP("",{providedIn:"root",factory:()=>1});function tE(n){return[WI,{provide:jv,useExisting:WI},{provide:Vv,useExisting:n}]}var m_=k(4986),Jt=k(5813);function Lp(){return(0,mt.e)((n,e)=>{let t,r=!1;n.subscribe((0,vn.x)(e,o=>{const u=t;t=o,r&&e.next([u,o]),r=!0}))})}function nE(n,e){return n===e}var ct,vi=k(2011),y_=(k(5881),k(3942)),_e=k(5861),$i=k(9681),Lc=k(4859),Au=k(1877),Ot=k(2090),Up=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},$a={},Vp=Vp||{},Lt=Up||self;function zl(){}function Bp(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Su(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var $p="closure_uid_"+(1e9*Math.random()>>>0),v_=0;function Gv(n,e,t){return n.call.apply(n.bind,arguments)}function x_(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,r),n.apply(e,o)}}return function(){return n.apply(e,arguments)}}function gr(n,e,t){return(gr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Gv:x_).apply(null,arguments)}function Hp(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Lr(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,o,u){for(var d=Array(arguments.length-2),g=2;g<arguments.length;g++)d[g-2]=arguments[g];return e.prototype[o].apply(r,d)}}function Mu(){this.s=this.s,this.o=this.o}var Wv={};Mu.prototype.s=!1,Mu.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function jp(n){return Object.prototype.hasOwnProperty.call(n,$p)&&n[$p]||(n[$p]=++v_)}(this);delete Wv[n]}},Mu.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Zp=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},w_=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const r=n.length,o="string"==typeof n?n.split(""):n;for(let u=0;u<r;u++)u in o&&e.call(t,o[u],u,n)};function b_(n){return Array.prototype.concat.apply([],arguments)}function I_(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function Ph(n){return/^[\s\xa0]*$/.test(n)}var wi,Kv=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function xi(n,e){return-1!=n.indexOf(e)}function us(n,e){return n<e?-1:n>e?1:0}e:{var E_=Lt.navigator;if(E_){var Yv=E_.userAgent;if(Yv){wi=Yv;break e}}wi=""}function D_(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function Qv(n){const e={};for(const t in n)e[t]=n[t];return e}var Jv="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function T_(n,e){let t,r;for(let o=1;o<arguments.length;o++){for(t in r=arguments[o],r)n[t]=r[t];for(let u=0;u<Jv.length;u++)t=Jv[u],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function C_(n){return C_[" "](n),n}C_[" "]=zl;var Oh,n,oE=xi(wi,"Opera"),Rt=xi(wi,"Trident")||xi(wi,"MSIE"),A_=xi(wi,"Edge"),qp=A_||Rt,S_=xi(wi,"Gecko")&&!(xi(wi.toLowerCase(),"webkit")&&!xi(wi,"Edge"))&&!(xi(wi,"Trident")||xi(wi,"MSIE"))&&!xi(wi,"Edge"),aE=xi(wi.toLowerCase(),"webkit")&&!xi(wi,"Edge");function Xv(){var n=Lt.document;return n?n.documentMode:void 0}e:{var M_="",zp=(n=wi,S_?/rv:([^\);]+)(\)|;)/.exec(n):A_?/Edge\/([\d\.]+)/.exec(n):Rt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):aE?/WebKit\/(\S+)/.exec(n):oE?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(zp&&(M_=zp?zp[1]:""),Rt){var R_=Xv();if(null!=R_&&R_>parseFloat(M_)){Oh=String(R_);break e}}Oh=M_}var uE={};var Uc=Lt.document&&Rt&&(Xv()||parseInt(Oh,10))||void 0,cE=function(){if(!Lt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Lt.addEventListener("test",zl,e),Lt.removeEventListener("test",zl,e)}catch{}return n}();function Ur(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function Vc(n,e){if(Ur.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(S_){e:{try{C_(e.nodeName);var o=!0;break e}catch{}o=!1}o||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:lE[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Vc.Z.h.call(this)}}Ur.prototype.h=function(){this.defaultPrevented=!0},Lr(Vc,Ur);var lE={2:"touch",3:"pen",4:"mouse"};Vc.prototype.h=function(){Vc.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Wp="closure_listenable_"+(1e6*Math.random()|0),IC=0;function EC(n,e,t,r,o){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ia=o,this.key=++IC,this.ca=this.fa=!1}function Kp(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function kh(n){this.src=n,this.g={},this.h=0}function ex(n,e){var t=e.type;if(t in n.g){var u,r=n.g[t],o=Zp(r,e);(u=0<=o)&&Array.prototype.splice.call(r,o,1),u&&(Kp(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function O_(n,e,t,r){for(var o=0;o<n.length;++o){var u=n[o];if(!u.ca&&u.listener==e&&u.capture==!!t&&u.ia==r)return o}return-1}kh.prototype.add=function(n,e,t,r,o){var u=n.toString();(n=this.g[u])||(n=this.g[u]=[],this.h++);var d=O_(n,e,r,o);return-1<d?(e=n[d],t||(e.fa=!1)):((e=new EC(e,this.src,u,!!r,o)).fa=t,n.push(e)),e};var Ru="closure_lm_"+(1e6*Math.random()|0),k_={};function N_(n,e,t,r,o){if(r&&r.once)return F_(n,e,t,r,o);if(Array.isArray(e)){for(var u=0;u<e.length;u++)N_(n,e[u],t,r,o);return null}return t=V_(t),n&&n[Wp]?n.N(e,t,Su(r)?!!r.capture:!!r,o):Nh(n,e,t,!1,r,o)}function Nh(n,e,t,r,o,u){if(!e)throw Error("Invalid event type");var d=Su(o)?!!o.capture:!!o,g=U_(n);if(g||(n[Ru]=g=new kh(n)),(t=g.add(e,t,r,d,u)).proxy)return t;if(r=function dE(){var e=hE;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)cE||(o=d),void 0===o&&(o=!1),n.addEventListener(e.toString(),r,o);else if(n.attachEvent)n.attachEvent(nx(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function F_(n,e,t,r,o){if(Array.isArray(e)){for(var u=0;u<e.length;u++)F_(n,e[u],t,r,o);return null}return t=V_(t),n&&n[Wp]?n.O(e,t,Su(r)?!!r.capture:!!r,o):Nh(n,e,t,!0,r,o)}function tx(n,e,t,r,o){if(Array.isArray(e))for(var u=0;u<e.length;u++)tx(n,e[u],t,r,o);else r=Su(r)?!!r.capture:!!r,t=V_(t),n&&n[Wp]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=O_(u=n.g[e],t,r,o))&&(Kp(u[t]),Array.prototype.splice.call(u,t,1),0==u.length&&(delete n.g[e],n.h--))):n&&(n=U_(n))&&(e=n.g[e.toString()],n=-1,e&&(n=O_(e,t,r,o)),(t=-1<n?e[n]:null)&&L_(t))}function L_(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[Wp])ex(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(nx(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=U_(e))?(ex(t,n),0==t.h&&(t.src=null,e[Ru]=null)):Kp(n)}}}function nx(n){return n in k_?k_[n]:k_[n]="on"+n}function hE(n,e){if(n.ca)n=!0;else{e=new Vc(e,this);var t=n.listener,r=n.ia||n.src;n.fa&&L_(n),n=t.call(r,e)}return n}function U_(n){return(n=n[Ru])instanceof kh?n:null}var Yp="__closure_events_fn_"+(1e9*Math.random()>>>0);function V_(n){return"function"==typeof n?n:(n[Yp]||(n[Yp]=function(e){return n.handleEvent(e)}),n[Yp])}function Dr(){Mu.call(this),this.i=new kh(this),this.P=this,this.I=null}function Vr(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new Ur(e,n);else if(e instanceof Ur)e.target=e.target||n;else{var o=e;T_(e=new Ur(r,n),o)}if(o=!0,t)for(var u=t.length-1;0<=u;u--){var d=e.g=t[u];o=Gl(d,r,!0,e)&&o}if(o=Gl(d=e.g=n,r,!0,e)&&o,o=Gl(d,r,!1,e)&&o,t)for(u=0;u<t.length;u++)o=Gl(d=e.g=t[u],r,!1,e)&&o}function Gl(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var o=!0,u=0;u<e.length;++u){var d=e[u];if(d&&!d.ca&&d.capture==t){var g=d.listener,y=d.ia||d.src;d.fa&&ex(n.i,d),o=!1!==g.call(y,r)&&o}}return o&&!r.defaultPrevented}Lr(Dr,Mu),Dr.prototype[Wp]=!0,Dr.prototype.removeEventListener=function(n,e,t,r){tx(this,n,e,t,r)},Dr.prototype.M=function(){if(Dr.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Kp(t[r]);delete n.g[e],n.h--}}this.I=null},Dr.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Dr.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var rx=Lt.JSON.stringify;function B_(){var n=sx;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var Kl,pE=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new Wl,n=>n.reset());class Wl{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function ix(n){Lt.setTimeout(()=>{throw n},0)}function Qp(n,e){Kl||function lo(){var n=Lt.Promise.resolve(void 0);Kl=function(){n.then(j_)}}(),Jp||(Kl(),Jp=!0),sx.add(n,e)}var Jp=!1,sx=new class fE{constructor(){this.h=this.g=null}add(e,t){const r=pE.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function j_(){for(var n;n=B_();){try{n.h.call(n.g)}catch(t){ix(t)}var e=pE;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Jp=!1}function Ns(n,e){Dr.call(this),this.h=n||1,this.g=e||Lt,this.j=gr(this.kb,this),this.l=Date.now()}function Fh(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function Xp(n,e,t){if("function"==typeof n)t&&(n=gr(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=gr(n.handleEvent,n)}return 2147483647<Number(e)?-1:Lt.setTimeout(n,e||0)}function eg(n){n.g=Xp(()=>{n.g=null,n.i&&(n.i=!1,eg(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Lr(Ns,Dr),(ct=Ns.prototype).da=!1,ct.S=null,ct.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Vr(this,"tick"),this.da&&(Fh(this),this.start()))}},ct.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ct.M=function(){Ns.Z.M.call(this),Fh(this),delete this.g};class DC extends Mu{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:eg(this)}M(){super.M(),this.g&&(Lt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Yl(n){Mu.call(this),this.h=n,this.g={}}Lr(Yl,Mu);var gE=[];function Lh(n,e,t,r){Array.isArray(t)||(t&&(gE[0]=t.toString()),t=gE);for(var o=0;o<t.length;o++){var u=N_(e,t[o],r||n.handleEvent,!1,n.h||n);if(!u)break;n.g[u.key]=u}}function Uh(n){D_(n.g,function(e,t){this.g.hasOwnProperty(t)&&L_(e)},n),n.g={}}function Ql(){this.g=!0}function Vh(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function _E(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var o=r[1];if(Array.isArray(o)&&!(1>o.length)){var u=o[0];if("noop"!=u&&"stop"!=u&&"close"!=u)for(var d=1;d<o.length;d++)o[d]=""}}}return rx(t)}catch{return e}}(n,t)+(r?" "+r:"")})}Yl.prototype.M=function(){Yl.Z.M.call(this),Uh(this)},Yl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ql.prototype.Aa=function(){this.g=!1},Ql.prototype.info=function(){};var Bc={},ox=null;function Bh(){return ox=ox||new Dr}function yE(n){Ur.call(this,Bc.Ma,n)}function jh(n){const e=Bh();Vr(e,new yE(e,n))}function vE(n,e){Ur.call(this,Bc.STAT_EVENT,n),this.stat=e}function ci(n){const e=Bh();Vr(e,new vE(e,n))}function Z_(n,e){Ur.call(this,Bc.Na,n),this.size=e}function $h(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Lt.setTimeout(function(){n()},e)}Bc.Ma="serverreachability",Lr(yE,Ur),Bc.STAT_EVENT="statevent",Lr(vE,Ur),Bc.Na="timingevent",Lr(Z_,Ur);var Jl={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},xE={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function ax(){}function bE(){}ax.prototype.h=null;var lx,tg={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function ux(){Ur.call(this,"d")}function cx(){Ur.call(this,"c")}function q_(){}function ng(n,e,t,r){this.l=n,this.j=e,this.m=t,this.X=r||1,this.V=new Yl(this),this.P=z_,this.W=new Ns(n=qp?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Ha}function Ha(){this.i=null,this.g="",this.h=!1}Lr(ux,Ur),Lr(cx,Ur),Lr(q_,ax),q_.prototype.g=function(){return new XMLHttpRequest},q_.prototype.i=function(){return{}},lx=new q_;var z_=45e3,G_={},Hh={};function Zh(n,e,t){n.K=1,n.v=ig(Xo(e)),n.s=t,n.U=!0,W_(n,null)}function W_(n,e){n.F=Date.now(),Xl(n),n.A=Xo(n.v);var t=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),gx(t.h,"t",r),n.C=0,t=n.l.H,n.h=new Ha,n.g=Ox(n.l,t?e:null,!n.s),0<n.O&&(n.L=new DC(gr(n.Ia,n,n.g),n.O)),Lh(n.V,n.g,"readystatechange",n.gb),e=n.H?Qv(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),jh(1),function $_(n,e,t,r,o,u){n.info(function(){if(n.g)if(u)for(var d="",g=u.split("&"),y=0;y<g.length;y++){var I=g[y].split("=");if(1<I.length){var C=I[0];I=I[1];var R=C.split("_");d=2<=R.length&&"type"==R[1]?d+(C+"=")+I+"&":d+(C+"=redacted&")}}else d=null;else d=u;return"XMLHTTP REQ ("+r+") [attempt "+o+"]: "+e+"\n"+t+"\n"+d})}(n.j,n.u,n.A,n.m,n.X,n.s)}function rg(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function dx(n,e,t){let o,r=!0;for(;!n.I&&n.C<t.length;){if(o=Pu(n,t),o==Hh){4==e&&(n.o=4,ci(14),r=!1),Vh(n.j,n.m,null,"[Incomplete Response]");break}if(o==G_){n.o=4,ci(15),Vh(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Vh(n.j,n.m,o,null),K_(n,o)}rg(n)&&o!=Hh&&o!=G_&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,ci(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),Sx(e),e.L=!0,ci(11))):(Vh(n.j,n.m,t,"[Invalid Chunked Response]"),Ou(n),qh(n))}function Pu(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?Hh:(t=Number(e.substring(t,r)),isNaN(t)?G_:(r+=1)+t>e.length?Hh:(e=e.substr(r,t),n.C=r+t,e))}function Xl(n){n.Y=Date.now()+n.P,hx(n,n.P)}function hx(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=$h(gr(n.eb,n),e)}function ed(n){n.B&&(Lt.clearTimeout(n.B),n.B=null)}function qh(n){0==n.l.G||n.I||Rx(n.l,n)}function Ou(n){ed(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,Fh(n.W),Uh(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function K_(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||ag(t.i,n)))if(t.I=n.N,!n.J&&ag(t.i,n)&&3==t.G){try{var r=t.Ca.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var o=r;if(0==o[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;pg(t),Nu(t)}r0(t),ci(18)}}else t.ta=o[1],0<t.ta-t.U&&37500>o[2]&&t.N&&0==t.A&&!t.v&&(t.v=$h(gr(t.ab,t),6e3));if(1>=xx(t.i)&&t.ka){try{t.ka()}catch{}t.ka=void 0}}else ad(t,11)}else if((n.J||t.g==n)&&pg(t),!Ph(e))for(o=t.Ca.g.parse(e),e=0;e<o.length;e++){let I=o[e];if(t.U=I[0],I=I[1],2==t.G)if("c"==I[0]){t.J=I[1],t.la=I[2];const C=I[3];null!=C&&(t.ma=C,t.h.info("VER="+t.ma));const R=I[4];null!=R&&(t.za=R,t.h.info("SVER="+t.za));const V=I[5];null!=V&&"number"==typeof V&&0<V&&(t.K=r=1.5*V,t.h.info("backChannelRequestTimeoutMs_="+r)),r=t;const J=n.g;if(J){const ie=J.g?J.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ie){var u=r.i;!u.g&&(xi(ie,"spdy")||xi(ie,"quic")||xi(ie,"h2"))&&(u.j=u.l,u.g=new Set,u.h&&(ug(u,u.h),u.h=null))}if(r.D){const Oe=J.g?J.g.getResponseHeader("X-HTTP-Session-Id"):null;Oe&&(r.sa=Oe,An(r.F,r.D,Oe))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var d=n;if((r=t).oa=o0(r,r.H?r.la:null,r.W),d.J){wx(r.i,d);var g=d,y=r.K;y&&g.setTimeout(y),g.B&&(ed(g),Xl(g)),r.g=d}else OE(r);0<t.l.length&&af(t)}else"stop"!=I[0]&&"close"!=I[0]||ad(t,7);else 3==t.G&&("stop"==I[0]||"close"==I[0]?"stop"==I[0]?ad(t,7):od(t):"noop"!=I[0]&&t.j&&t.j.wa(I),t.A=0)}jh(4)}catch{}}function td(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Bp(n)||"string"==typeof n)w_(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(Bp(n)||"string"==typeof n){t=[];for(var r=n.length,o=0;o<r;o++)t.push(o)}else for(o in t=[],r=0,n)t[r++]=o;r=function IE(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(Bp(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),o=r.length;for(var u=0;u<o;u++)e.call(void 0,r[u],t&&t[u],n)}}function ho(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var r=0;r<t;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof ho)for(t=n.T(),r=0;r<t.length;r++)this.set(t[r],n.get(t[r]));else for(r in n)this.set(r,n[r])}function zh(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var r=n.g[e];Fs(n.h,r)&&(n.g[t++]=r),e++}n.g.length=t}if(n.i!=n.g.length){var o={};for(t=e=0;e<n.g.length;)Fs(o,r=n.g[e])||(n.g[t++]=r,o[r]=1),e++;n.g.length=t}}function Fs(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(ct=ng.prototype).setTimeout=function(n){this.P=n},ct.gb=function(n){n=n.target;const e=this.L;e&&3==ea(n)?e.l():this.Ia(n)},ct.Ia=function(n){try{if(n==this.g)e:{const C=ea(this.g);var e=this.g.Da();const R=this.g.ba();if(!(3>C)&&(3!=C||qp||this.g&&(this.h.h||this.g.ga()||n0(this.g)))){this.I||4!=C||7==e||jh(8==e||0>=R?3:2),ed(this);var t=this.g.ba();this.N=t;t:if(rg(this)){var r=n0(this.g);n="";var o=r.length,u=4==ea(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Ou(this),qh(this);var d="";break t}this.h.i=new Lt.TextDecoder}for(e=0;e<o;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:u&&e==o-1});r.splice(0,o),this.h.g+=n,this.C=0,d=this.h.g}else d=this.g.ga();if(this.i=200==t,function H_(n,e,t,r,o,u,d){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+o+"]: "+e+"\n"+t+"\n"+u+" "+d})}(this.j,this.u,this.A,this.m,this.X,C,t),this.i){if(this.$&&!this.J){t:{if(this.g){var g,y=this.g;if((g=y.g?y.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ph(g)){var I=g;break t}}I=null}if(!(t=I)){this.i=!1,this.o=3,ci(12),Ou(this),qh(this);break e}Vh(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,K_(this,t)}this.U?(dx(this,C,d),qp&&this.i&&3==C&&(Lh(this.V,this.W,"tick",this.fb),this.W.start())):(Vh(this.j,this.m,d,null),K_(this,d)),4==C&&Ou(this),this.i&&!this.I&&(4==C?Rx(this.l,this):(this.i=!1,Xl(this)))}else 400==t&&0<d.indexOf("Unknown SID")?(this.o=3,ci(12)):(this.o=0,ci(13)),Ou(this),qh(this)}}}catch{}},ct.fb=function(){if(this.g){var n=ea(this.g),e=this.g.ga();this.C<e.length&&(ed(this),dx(this,n,e),this.i&&4!=n&&Xl(this))}},ct.cancel=function(){this.I=!0,Ou(this)},ct.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function mE(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(jh(3),ci(17)),Ou(this),this.o=2,qh(this)):hx(this,this.Y-n)},(ct=ho.prototype).R=function(){zh(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},ct.T=function(){return zh(this),this.g.concat()},ct.get=function(n,e){return Fs(this.h,n)?this.h[n]:e},ct.set=function(n,e){Fs(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},ct.forEach=function(n,e){for(var t=this.T(),r=0;r<t.length;r++){var o=t[r],u=this.get(o);n.call(e,u,o,this)}};var Gh=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function jc(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof jc){this.g=void 0!==e?e:n.g,Kh(this,n.j),this.s=n.s,nd(this,n.i),rd(this,n.m),this.l=n.l,e=n.h;var t=new sg;t.i=e.i,e.g&&(t.g=new ho(e.g),t.h=e.h),Y_(this,t),this.o=n.o}else n&&(t=String(n).match(Gh))?(this.g=!!e,Kh(this,t[1]||"",!0),this.s=id(t[2]||""),nd(this,t[3]||"",!0),rd(this,t[4]),this.l=id(t[5]||"",!0),Y_(this,t[6]||"",!0),this.o=id(t[7]||"")):(this.g=!!e,this.h=new sg(null,this.g))}function Xo(n){return new jc(n)}function Kh(n,e,t){n.j=t?id(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function nd(n,e,t){n.i=t?id(e,!0):e}function rd(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function Y_(n,e,t){e instanceof sg?(n.h=e,function CE(n,e){e&&!n.j&&(ku(n),n.i=null,n.g.forEach(function(t,r){var o=r.toLowerCase();r!=o&&(og(this,r),gx(this,o,t))},n)),n.j=e}(n.h,n.g)):(t||(e=Yh(e,px)),n.h=new sg(e,n.g))}function An(n,e,t){n.h.set(e,t)}function ig(n){return An(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function id(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Yh(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,fx),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function fx(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}jc.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Yh(e,Q_,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Yh(e,Q_,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(Yh(t,"/"==t.charAt(0)?cs:DE,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Yh(t,TE)),n.join("")};var Q_=/[#\/\?@]/g,DE=/[#\?:]/g,cs=/[#\?]/g,px=/[#\?@]/g,TE=/#/g;function sg(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function ku(n){n.g||(n.g=new ho,n.h=0,n.i&&function Wh(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),o=null;if(0<=r){var u=n[t].substring(0,r);o=n[t].substring(r+1)}else u=n[t];e(u,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function og(n,e){ku(n),e=sd(n,e),Fs(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,Fs((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&zh(n)))}function J_(n,e){return ku(n),e=sd(n,e),Fs(n.g.h,e)}function gx(n,e,t){og(n,e),0<t.length&&(n.i=null,n.g.set(sd(n,e),I_(t)),n.h+=t.length)}function sd(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function _x(n){this.l=n||yx,n=Lt.PerformanceNavigationTiming?0<(n=Lt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Lt.g&&Lt.g.Ea&&Lt.g.Ea()&&Lt.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(ct=sg.prototype).add=function(n,e){ku(this),this.i=null,n=sd(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},ct.forEach=function(n,e){ku(this),this.g.forEach(function(t,r){w_(t,function(o){n.call(e,o,r,this)},this)},this)},ct.T=function(){ku(this);for(var n=this.g.R(),e=this.g.T(),t=[],r=0;r<e.length;r++)for(var o=n[r],u=0;u<o.length;u++)t.push(e[r]);return t},ct.R=function(n){ku(this);var e=[];if("string"==typeof n)J_(this,n)&&(e=b_(e,this.g.get(sd(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=b_(e,n[t])}return e},ct.set=function(n,e){return ku(this),this.i=null,J_(this,n=sd(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},ct.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},ct.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var r=e[t],o=encodeURIComponent(String(r));r=this.R(r);for(var u=0;u<r.length;u++){var d=o;""!==r[u]&&(d+="="+encodeURIComponent(String(r[u]))),n.push(d)}}return this.i=n.join("&")};var yx=10;function vx(n){return!!n.h||!!n.g&&n.g.size>=n.j}function xx(n){return n.h?1:n.g?n.g.size:0}function ag(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function ug(n,e){n.g?n.g.add(e):n.h=e}function wx(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function fo(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return I_(n.i)}function Qh(){}function AE(){this.g=new Qh}function SE(n,e,t){const r=t||"";try{td(n,function(o,u){let d=o;Su(o)&&(d=rx(o)),e.push(r+u+"="+encodeURIComponent(d))})}catch(o){throw e.push(r+"type="+encodeURIComponent("_badmap")),o}}function Jh(n,e,t,r,o){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,o(r)}catch{}}function Xh(n){this.l=n.$b||null,this.j=n.ib||!1}function cg(n,e){Dr.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=X_,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}_x.prototype.cancel=function(){if(this.i=fo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},Qh.prototype.stringify=function(n){return Lt.JSON.stringify(n,void 0)},Qh.prototype.parse=function(n){return Lt.JSON.parse(n,void 0)},Lr(Xh,ax),Xh.prototype.g=function(){return new cg(this.l,this.j)},Xh.prototype.i=function(n){return function(){return n}}({}),Lr(cg,Dr);var X_=0;function lg(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function ef(n){n.readyState=4,n.l=null,n.j=null,n.A=null,tf(n)}function tf(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(ct=cg.prototype).open=function(n,e){if(this.readyState!=X_)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,tf(this)},ct.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Lt).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},ct.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ef(this)),this.readyState=X_},ct.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,tf(this)),this.g&&(this.readyState=3,tf(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof Lt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;lg(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},ct.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?ef(this):tf(this),3==this.readyState&&lg(this)}},ct.Ua=function(n){this.g&&(this.response=this.responseText=n,ef(this))},ct.Ta=function(n){this.g&&(this.response=n,ef(this))},ct.ha=function(){this.g&&ef(this)},ct.setRequestHeader=function(n,e){this.v.append(n,e)},ct.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},ct.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(cg.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var dg=Lt.JSON.parse;function rr(n){Dr.call(this),this.headers=new ho,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=bx,this.K=this.L=!1}Lr(rr,Dr);var bx="",Ix=/^https?$/i,e0=["POST","PUT"];function AC(n){return"content-type"==n.toLowerCase()}function ME(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,hg(n),fg(n)}function hg(n){n.D||(n.D=!0,Vr(n,"complete"),Vr(n,"error"))}function RE(n){if(n.h&&typeof Vp<"u"&&(!n.C[1]||4!=ea(n)||2!=n.ba()))if(n.v&&4==ea(n))Xp(n.Fa,0,n);else if(Vr(n,"readystatechange"),4==ea(n)){n.h=!1;try{const g=n.ba();e:switch(g){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===g){var o=String(n.H).match(Gh)[1]||null;if(!o&&Lt.self&&Lt.self.location){var u=Lt.self.location.protocol;o=u.substr(0,u.length-1)}r=!Ix.test(o?o.toLowerCase():"")}t=r}if(t)Vr(n,"complete"),Vr(n,"success");else{n.m=6;try{var d=2<ea(n)?n.g.statusText:""}catch{d=""}n.j=d+" ["+n.ba()+"]",hg(n)}}finally{fg(n)}}}function fg(n,e){if(n.g){t0(n);const t=n.g,r=n.C[0]?zl:null;n.g=null,n.C=null,e||Vr(n,"ready");try{t.onreadystatechange=r}catch{}}}function t0(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Lt.clearTimeout(n.A),n.A=null)}function ea(n){return n.g?n.g.readyState:0}function n0(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case bx:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function nf(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=function Dx(n){let e="";return D_(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):An(n,e,t))}function ls(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function rf(n){this.za=0,this.l=[],this.h=new Ql,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=ls("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=ls("baseRetryDelayMs",5e3,n),this.$a=ls("retryDelaySeedMs",1e4,n),this.Ya=ls("forwardChannelMaxRetries",2,n),this.ra=ls("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new _x(n&&n.concurrentRequestLimit),this.Ca=new AE,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function od(n){if(Tx(n),3==n.G){var e=n.V++,t=Xo(n.F);An(t,"SID",n.J),An(t,"RID",e),An(t,"TYPE","terminate"),Za(n,t),(e=new ng(n,n.h,e,void 0)).K=2,e.v=ig(Xo(t)),t=!1,Lt.navigator&&Lt.navigator.sendBeacon&&(t=Lt.navigator.sendBeacon(e.v.toString(),"")),!t&&Lt.Image&&((new Image).src=e.v,t=!0),t||(e.g=Ox(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Xl(e)}s0(n)}function Nu(n){n.g&&(Sx(n),n.g.cancel(),n.g=null)}function Tx(n){Nu(n),n.u&&(Lt.clearTimeout(n.u),n.u=null),pg(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Lt.clearTimeout(n.m),n.m=null)}function sf(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&af(n)}function af(n){vx(n.i)||n.m||(n.m=!0,Qp(n.Ha,n),n.C=0)}function Cx(n,e){var t;t=e?e.m:n.V++;const r=Xo(n.F);An(r,"SID",n.J),An(r,"RID",t),An(r,"AID",n.U),Za(n,r),n.o&&n.s&&nf(r,n.o,n.s),t=new ng(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=Ax(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),ug(n.i,t),Zh(t,r,e)}function Za(n,e){n.j&&td({},function(t,r){An(e,r,t)})}function Ax(n,e,t){t=Math.min(n.l.length,t);var r=n.j?gr(n.j.Oa,n.j,n):null;e:{var o=n.l;let u=-1;for(;;){const d=["count="+t];-1==u?0<t?(u=o[0].h,d.push("ofs="+u)):u=0:d.push("ofs="+u);let g=!0;for(let y=0;y<t;y++){let I=o[y].h;const C=o[y].g;if(I-=u,0>I)u=Math.max(0,o[y].h-100),g=!1;else try{SE(C,d,"req"+I+"_")}catch{r&&r(C)}}if(g){r=d.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,r}function OE(n){n.g||n.u||(n.Y=1,Qp(n.Ga,n),n.A=0)}function r0(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=$h(gr(n.Ga,n),Px(n,n.A)),n.A++,0))}function Sx(n){null!=n.B&&(Lt.clearTimeout(n.B),n.B=null)}function Mx(n){n.g=new ng(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=Xo(n.oa);An(e,"RID","rpc"),An(e,"SID",n.J),An(e,"CI",n.N?"0":"1"),An(e,"AID",n.U),Za(n,e),An(e,"TYPE","xmlhttp"),n.o&&n.s&&nf(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=ig(Xo(e)),t.s=null,t.U=!0,W_(t,n)}function pg(n){null!=n.v&&(Lt.clearTimeout(n.v),n.v=null)}function Rx(n,e){var t=null;if(n.g==e){pg(n),Sx(n),n.g=null;var r=2}else{if(!ag(n.i,e))return;t=e.D,wx(n.i,e),r=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var o=n.C;Vr(r=Bh(),new Z_(r,t,e,o)),af(n)}else OE(n);else if(3==(o=e.o)||0==o&&0<n.I||!(1==r&&function PE(n,e){return!(xx(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=$h(gr(n.Ha,n,e),Px(n,n.C)),n.C++,0)))}(n,e)||2==r&&r0(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),o){case 1:ad(n,5);break;case 4:ad(n,10);break;case 3:ad(n,6);break;default:ad(n,2)}}function Px(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function ad(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var r=gr(n.jb,n);t||(t=new jc("//www.google.com/images/cleardot.gif"),Lt.location&&"http"==Lt.location.protocol||Kh(t,"https"),ig(t)),function CC(n,e){const t=new Ql;if(Lt.Image){const r=new Image;r.onload=Hp(Jh,t,r,"TestLoadImage: loaded",!0,e),r.onerror=Hp(Jh,t,r,"TestLoadImage: error",!1,e),r.onabort=Hp(Jh,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=Hp(Jh,t,r,"TestLoadImage: timeout",!1,e),Lt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else ci(2);n.G=0,n.j&&n.j.va(e),s0(n),Tx(n)}function s0(n){n.G=0,n.I=-1,n.j&&((0!=fo(n.i).length||0!=n.l.length)&&(n.i.i.length=0,I_(n.l),n.l.length=0),n.j.ua())}function o0(n,e,t){let r=function TC(n){return n instanceof jc?Xo(n):new jc(n,void 0)}(t);if(""!=r.i)e&&nd(r,e+"."+r.i),rd(r,r.m);else{const o=Lt.location;r=function EE(n,e,t,r){var o=new jc(null,void 0);return n&&Kh(o,n),e&&nd(o,e),t&&rd(o,t),r&&(o.l=r),o}(o.protocol,e?e+"."+o.hostname:o.hostname,+o.port,t)}return n.aa&&D_(n.aa,function(o,u){An(r,u,o)}),t=n.sa,(e=n.D)&&t&&An(r,e,t),An(r,"VER",n.ma),Za(n,r),r}function Ox(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new rr(t&&n.Ba&&!n.qa?new Xh({ib:!0}):n.qa)).L=n.H,e}function gg(){}function mg(){if(Rt&&!(10<=Number(Uc)))throw Error("Environmental error: no available transport.")}function ds(n,e){Dr.call(this),this.g=new rf(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!Ph(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ph(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new ud(this)}function kx(n){ux.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function Nx(){cx.call(this),this.status=1}function ud(n){this.g=n}(ct=rr.prototype).ea=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():lx.g(),this.C=function wE(n){return n.h||(n.h=n.i())}(this.u?this.u:lx),this.g.onreadystatechange=gr(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(u){return void ME(this,u)}n=t||"";const o=new ho(this.headers);r&&td(r,function(u,d){o.set(d,u)}),r=function wC(n){e:{var e=AC;const t=n.length,r="string"==typeof n?n.split(""):n;for(let o=0;o<t;o++)if(o in r&&e.call(void 0,r[o],o,n)){e=o;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(o.T()),t=Lt.FormData&&n instanceof Lt.FormData,!(0<=Zp(e0,e))||r||t||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(u,d){this.g.setRequestHeader(d,u)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{t0(this),0<this.B&&((this.K=function Ex(n){return Rt&&function bC(){return function sE(n){var e=uE;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=Kv(String(Oh)).split("."),t=Kv("9").split("."),r=Math.max(e.length,t.length);for(let d=0;0==n&&d<r;d++){var o=e[d]||"",u=t[d]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],0==o[0].length&&0==u[0].length)break;n=us(0==o[1].length?0:parseInt(o[1],10),0==u[1].length?0:parseInt(u[1],10))||us(0==o[2].length,0==u[2].length)||us(o[2],u[2]),o=o[3],u=u[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=gr(this.pa,this)):this.A=Xp(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(u){ME(this,u)}},ct.pa=function(){typeof Vp<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Vr(this,"timeout"),this.abort(8))},ct.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Vr(this,"complete"),Vr(this,"abort"),fg(this))},ct.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),fg(this,!0)),rr.Z.M.call(this)},ct.Fa=function(){this.s||(this.F||this.v||this.l?RE(this):this.cb())},ct.cb=function(){RE(this)},ct.ba=function(){try{return 2<ea(this)?this.g.status:-1}catch{return-1}},ct.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}},ct.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),dg(e)}},ct.Da=function(){return this.m},ct.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(ct=rf.prototype).ma=8,ct.G=1,ct.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch{}},ct.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const o=new ng(this,this.h,n,void 0);let u=this.s;if(this.P&&(u?(u=Qv(u),T_(u,this.P)):u=this.P),null===this.o&&(o.H=u),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var r=this.l[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Ax(this,o,e),An(t=Xo(this.F),"RID",n),An(t,"CVER",22),this.D&&An(t,"X-HTTP-Session-Id",this.D),Za(this,t),this.o&&u&&nf(t,this.o,u),ug(this.i,o),this.Ra&&An(t,"TYPE","init"),this.ja?(An(t,"$req",e),An(t,"SID","null"),o.$=!0,Zh(o,t,null)):Zh(o,t,e),this.G=2}}else 3==this.G&&(n?Cx(this,n):0==this.l.length||vx(this.i)||Cx(this))},ct.Ga=function(){if(this.u=null,Mx(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=$h(gr(this.bb,this),n)}},ct.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,ci(10),Nu(this),Mx(this))},ct.ab=function(){null!=this.v&&(this.v=null,Nu(this),r0(this),ci(19))},ct.jb=function(n){n?(this.h.info("Successfully pinged google.com"),ci(2)):(this.h.info("Failed to ping google.com"),ci(1))},(ct=gg.prototype).xa=function(){},ct.wa=function(){},ct.va=function(){},ct.ua=function(){},ct.Oa=function(){},mg.prototype.g=function(n,e){return new ds(n,e)},Lr(ds,Dr),ds.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),Qp(gr(n.hb,n,e))),ci(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=o0(n,null,n.W),af(n)},ds.prototype.close=function(){od(this.g)},ds.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,sf(this.g,e)}else this.v?((e={}).__data__=rx(n),sf(this.g,e)):sf(this.g,n)},ds.prototype.M=function(){this.g.j=null,delete this.j,od(this.g),delete this.g,ds.Z.M.call(this)},Lr(kx,ux),Lr(Nx,cx),Lr(ud,gg),ud.prototype.xa=function(){Vr(this.g,"a")},ud.prototype.wa=function(n){Vr(this.g,new kx(n))},ud.prototype.va=function(n){Vr(this.g,new Nx(n))},ud.prototype.ua=function(){Vr(this.g,"b")},mg.prototype.createWebChannel=mg.prototype.g,ds.prototype.send=ds.prototype.u,ds.prototype.open=ds.prototype.m,ds.prototype.close=ds.prototype.close,Jl.NO_ERROR=0,Jl.TIMEOUT=8,Jl.HTTP_ERROR=6,xE.COMPLETE="complete",bE.EventType=tg,tg.OPEN="a",tg.CLOSE="b",tg.ERROR="c",tg.MESSAGE="d",Dr.prototype.listen=Dr.prototype.N,rr.prototype.listenOnce=rr.prototype.O,rr.prototype.getLastError=rr.prototype.La,rr.prototype.getLastErrorCode=rr.prototype.Da,rr.prototype.getStatus=rr.prototype.ba,rr.prototype.getResponseJson=rr.prototype.Qa,rr.prototype.getResponseText=rr.prototype.ga,rr.prototype.send=rr.prototype.ea;var kE=$a.createWebChannelTransport=function(){return new mg},_g=$a.getStatEventTarget=function(){return Bh()},qa=$a.ErrorCode=Jl,SC=$a.EventType=xE,uf=$a.Event=Bc,Fx=$a.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},NE=$a.FetchXmlHttpFactory=Xh,cd=$a.WebChannel=bE,FE=$a.XhrIo=rr;const po="@firebase/firestore";class ir{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ir.UNAUTHENTICATED=new ir(null),ir.GOOGLE_CREDENTIALS=new ir("google-credentials-uid"),ir.FIRST_PARTY=new ir("first-party-uid"),ir.MOCK_USER=new ir("mock-user");let mr="9.9.2";const Hi=new Au.Yd("@firebase/firestore");function ld(){return Hi.logLevel}function Be(n,...e){if(Hi.logLevel<=Au.in.DEBUG){const t=e.map(Fu);Hi.debug(`Firestore (${mr}): ${n}`,...t)}}function Sn(n,...e){if(Hi.logLevel<=Au.in.ERROR){const t=e.map(Fu);Hi.error(`Firestore (${mr}): ${n}`,...t)}}function Us(n,...e){if(Hi.logLevel<=Au.in.WARN){const t=e.map(Fu);Hi.warn(`Firestore (${mr}): ${n}`,...t)}}function Fu(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function ot(n="Unexpected state"){const e=`FIRESTORE (${mr}) INTERNAL ASSERTION FAILED: `+n;throw Sn(e),new Error(e)}function It(n,e){n||ot()}function Je(n,e){return n}const fe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Pe extends Ot.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Tr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class a0{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Lx{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ir.UNAUTHENTICATED))}shutdown(){}}class Ux{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Vx{constructor(e){this.t=e,this.currentUser=ir.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let o=this.i;const u=I=>this.i!==o?(o=this.i,t(I)):Promise.resolve();let d=new Tr;this.o=()=>{this.i++,this.currentUser=this.u(),d.resolve(),d=new Tr,e.enqueueRetryable(()=>u(this.currentUser))};const g=()=>{const I=d;e.enqueueRetryable((0,_e.Z)(function*(){yield I.promise,yield u(r.currentUser)}))},y=I=>{Be("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=I,this.auth.addAuthTokenListener(this.o),g()};this.t.onInit(I=>y(I)),setTimeout(()=>{if(!this.auth){const I=this.t.getImmediate({optional:!0});I?y(I):(Be("FirebaseAuthCredentialsProvider","Auth not yet detected"),d.resolve(),d=new Tr)}},0),g()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Be("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(It("string"==typeof r.accessToken),new a0(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return It(null===e||"string"==typeof e),new ir(e)}}class Bx{constructor(e,t,r){this.type="FirstParty",this.user=ir.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const o=e.auth.getAuthHeaderValueForFirstParty([]);o&&this.headers.set("Authorization",o),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class jx{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new Bx(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(ir.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class u0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class $x{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const r=u=>{null!=u.error&&Be("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const d=u.token!==this.p;return this.p=u.token,Be("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>r(u))};const o=u=>{Be("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.appCheck.addTokenListener(this.o)};this.g.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.g.getImmediate({optional:!0});u?o(u):Be("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(It("string"==typeof t.token),this.p=t.token,new u0(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function LE(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class Hx{static I(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const o=LE(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<t&&(r+=e.charAt(o[u]%e.length))}return r}}function Ut(n,e){return n<e?-1:n>e?1:0}function hd(n,e,t){return n.length===e.length&&n.every((r,o)=>t(r,e[o]))}function Zx(n){return n+"\0"}class Mn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Pe(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Pe(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Pe(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Pe(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Mn.fromMillis(Date.now())}static fromDate(e){return Mn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Mn(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ut(this.nanoseconds,e.nanoseconds):Ut(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class St{constructor(e){this.timestamp=e}static fromTimestamp(e){return new St(e)}static min(){return new St(new Mn(0,0))}static max(){return new St(new Mn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class cf{constructor(e,t,r){void 0===t?t=0:t>e.length&&ot(),void 0===r?r=e.length-t:r>e.length-t&&ot(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===cf.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof cf?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let o=0;o<r;o++){const u=e.get(o),d=t.get(o);if(u<d)return-1;if(u>d)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class nn extends cf{construct(e,t,r){return new nn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Pe(fe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(o=>o.length>0))}return new nn(t)}static emptyPath(){return new nn([])}}const yg=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class jn extends cf{construct(e,t,r){return new jn(e,t,r)}static isValidIdentifier(e){return yg.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),jn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new jn(["__name__"])}static fromServerFormat(e){const t=[];let r="",o=0;const u=()=>{if(0===r.length)throw new Pe(fe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let d=!1;for(;o<e.length;){const g=e[o];if("\\"===g){if(o+1===e.length)throw new Pe(fe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[o+1];if("\\"!==y&&"."!==y&&"`"!==y)throw new Pe(fe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=y,o+=2}else"`"===g?(d=!d,o++):"."!==g||d?(r+=g,o++):(u(),o++)}if(u(),d)throw new Pe(fe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new jn(t)}static emptyPath(){return new jn([])}}class Xe{constructor(e){this.path=e}static fromPath(e){return new Xe(nn.fromString(e))}static fromName(e){return new Xe(nn.fromString(e).popFirst(5))}static empty(){return new Xe(nn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===nn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return nn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Xe(new nn(e.slice()))}}class fd{constructor(e,t,r,o){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=o}}function lf(n){return n.fields.find(e=>2===e.kind)}function Lu(n){return n.fields.filter(e=>2!==e.kind)}fd.UNKNOWN_ID=-1;class pd{constructor(e,t){this.fieldPath=e,this.kind=t}}class gd{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new gd(0,hs.min())}}function vg(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,o=St.fromTimestamp(1e9===r?new Mn(t+1,0):new Mn(t,r));return new hs(o,Xe.empty(),e)}function c0(n){return new hs(n.readTime,n.key,-1)}class hs{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new hs(St.min(),Xe.empty(),-1)}static max(){return new hs(St.max(),Xe.empty(),-1)}}function xg(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Xe.comparator(n.documentKey,e.documentKey),0!==t?t:Ut(n.largestBatchId,e.largestBatchId))}const l0="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class d0{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Uu(n){return h0.apply(this,arguments)}function h0(){return h0=(0,_e.Z)(function*(n){if(n.code!==fe.FAILED_PRECONDITION||n.message!==l0)throw n;Be("LocalStore","Unexpectedly lost primary lease")}),h0.apply(this,arguments)}class le{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ot(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new le((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(t,u).next(r,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof le?t:le.resolve(t)}catch(t){return le.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):le.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):le.reject(t)}static resolve(e){return new le((t,r)=>{t(e)})}static reject(e){return new le((t,r)=>{r(e)})}static waitFor(e){return new le((t,r)=>{let o=0,u=0,d=!1;e.forEach(g=>{++o,g.next(()=>{++u,d&&u===o&&t()},y=>r(y))}),d=!0,u===o&&t()})}static or(e){let t=le.resolve(!1);for(const r of e)t=t.next(o=>o?le.resolve(o):r());return t}static forEach(e,t){const r=[];return e.forEach((o,u)=>{r.push(t.call(this,o,u))}),this.waitFor(r)}static mapArray(e,t){return new le((r,o)=>{const u=e.length,d=new Array(u);let g=0;for(let y=0;y<u;y++){const I=y;t(e[I]).next(C=>{d[I]=C,++g,g===u&&r(d)},C=>o(C))}})}static doWhile(e,t){return new le((r,o)=>{const u=()=>{!0===e()?t().next(()=>{u()},o):r()};u()})}}class wg{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.T=new Tr,this.transaction.oncomplete=()=>{this.T.resolve()},this.transaction.onabort=()=>{t.error?this.T.reject(new md(e,t.error)):this.T.resolve()},this.transaction.onerror=r=>{const o=bg(r.target.error);this.T.reject(new md(e,o))}}static open(e,t,r,o){try{return new wg(t,e.transaction(o,r))}catch(u){throw new md(t,u)}}get A(){return this.T.promise}abort(e){e&&this.T.reject(e),this.aborted||(Be("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}R(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new zx(t)}}class fs{constructor(e,t,r){this.name=e,this.version=t,this.P=r,12.2===fs.v((0,Ot.z$)())&&Sn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Be("SimpleDb","Removing database:",e),Vu(window.indexedDB.deleteDatabase(e)).toPromise()}static V(){if(!(0,Ot.hl)())return!1;if(fs.S())return!0;const e=(0,Ot.z$)(),t=fs.v(e),r=0<t&&t<10,o=fs.D(e),u=0<o&&o<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||u)}static S(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.C)}static N(e,t){return e.store(t)}static v(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static D(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}k(e){var t=this;return(0,_e.Z)(function*(){return t.db||(Be("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,o)=>{const u=indexedDB.open(t.name,t.version);u.onsuccess=d=>{r(d.target.result)},u.onblocked=()=>{o(new md(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},u.onerror=d=>{const g=d.target.error;o("VersionError"===g.name?new Pe(fe.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===g.name?new Pe(fe.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+g):new md(e,g))},u.onupgradeneeded=d=>{Be("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',d.oldVersion),t.P.M(d.target.result,u.transaction,d.oldVersion,t.version).next(()=>{Be("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.O&&(t.db.onversionchange=r=>t.O(r)),t.db})()}F(e){this.O=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,o){var u=this;return(0,_e.Z)(function*(){const d="readonly"===t;let g=0;for(;;){++g;try{u.db=yield u.k(e);const y=wg.open(u.db,e,d?"readonly":"readwrite",r),I=o(y).next(C=>(y.R(),C)).catch(C=>(y.abort(C),le.reject(C))).toPromise();return I.catch(()=>{}),yield y.A,I}catch(y){const I=y,C="FirebaseError"!==I.name&&g<3;if(Be("SimpleDb","Transaction failed with error:",I.message,"Retrying:",C),u.close(),!C)return Promise.reject(I)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class f0{constructor(e){this.$=e,this.B=!1,this.L=null}get isDone(){return this.B}get U(){return this.L}set cursor(e){this.$=e}done(){this.B=!0}q(e){this.L=e}delete(){return Vu(this.$.delete())}}class md extends Pe{constructor(e,t){super(fe.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function za(n){return"IndexedDbTransactionError"===n.name}class zx{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Be("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Be("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Vu(r)}add(e){return Be("SimpleDb","ADD",this.store.name,e,e),Vu(this.store.add(e))}get(e){return Vu(this.store.get(e)).next(t=>(void 0===t&&(t=null),Be("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Be("SimpleDb","DELETE",this.store.name,e),Vu(this.store.delete(e))}count(){return Be("SimpleDb","COUNT",this.store.name),Vu(this.store.count())}K(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const o=this.cursor(r),u=[];return this.G(o,(d,g)=>{u.push(g)}).next(()=>u)}{const o=this.store.getAll(r.range);return new le((u,d)=>{o.onerror=g=>{d(g.target.error)},o.onsuccess=g=>{u(g.target.result)}})}}j(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new le((o,u)=>{r.onerror=d=>{u(d.target.error)},r.onsuccess=d=>{o(d.target.result)}})}W(e,t){Be("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.H=!1;const o=this.cursor(r);return this.G(o,(u,d,g)=>g.delete())}J(e,t){let r;t?r=e:(r={},t=e);const o=this.cursor(r);return this.G(o,t)}Y(e){const t=this.cursor({});return new le((r,o)=>{t.onerror=u=>{const d=bg(u.target.error);o(d)},t.onsuccess=u=>{const d=u.target.result;d?e(d.primaryKey,d.value).next(g=>{g?d.continue():r()}):r()}})}G(e,t){const r=[];return new le((o,u)=>{e.onerror=d=>{u(d.target.error)},e.onsuccess=d=>{const g=d.target.result;if(!g)return void o();const y=new f0(g),I=t(g.primaryKey,g.value,y);if(I instanceof le){const C=I.catch(R=>(y.done(),le.reject(R)));r.push(C)}y.isDone?o():null===y.U?g.continue():g.continue(y.U)}}).next(()=>le.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.H?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Vu(n){return new le((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const o=bg(r.target.error);t(o)}})}let p0=!1;function bg(n){const e=fs.v((0,Ot.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Pe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return p0||(p0=!0,setTimeout(()=>{throw r},0)),r}}return n}class Gx{constructor(e,t){this.asyncQueue=e,this.X=t,this.task=null}start(){this.Z(15)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}Z(e){var t=this;Be("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,_e.Z)(function*(){t.task=null;try{Be("IndexBackiller",`Documents written: ${yield t.X.tt()}`)}catch(r){za(r)?Be("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield Uu(r)}yield t.Z(1)}))}}class Wx{constructor(e,t){this.localStore=e,this.persistence=t}tt(e=50){var t=this;return(0,_e.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.et(r,e))})()}et(e,t){const r=new Set;let o=t,u=!0;return le.doWhile(()=>!0===u&&o>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(d=>{if(null!==d&&!r.has(d))return Be("IndexBackiller",`Processing collection: ${d}`),this.nt(e,d,o).next(g=>{o-=g,r.add(d)});u=!1})).next(()=>t-o)}nt(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(o=>this.localStore.localDocuments.getNextDocuments(e,t,o,r).next(u=>{const d=u.changes;return this.localStore.indexManager.updateIndexEntries(e,d).next(()=>this.st(o,u)).next(g=>(Be("IndexBackiller",`Updating offset: ${g}`),this.localStore.indexManager.updateCollectionGroup(e,t,g))).next(()=>d.size)}))}st(e,t){let r=e;return t.changes.forEach((o,u)=>{const d=c0(u);xg(d,r)>0&&(r=d)}),new hs(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}class ps{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.it(r),this.rt=r=>t.writeSequenceNumber(r))}it(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.rt&&this.rt(e),e}}function Kx(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function $c(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function g0(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}ps.ot=-1;class sr{constructor(e,t){this.comparator=e,this.root=t||Br.EMPTY}insert(e,t){return new sr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Br.BLACK,null,null))}remove(e){return new sr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Br.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(0===o)return t+r.left.size;o<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new or(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new or(this.root,e,this.comparator,!1)}getReverseIterator(){return new or(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new or(this.root,e,this.comparator,!0)}}class or{constructor(e,t,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?r(e.key,t):1,t&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(0===u){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Br{constructor(e,t,r,o,u){this.key=e,this.value=t,this.color=r??Br.RED,this.left=o??Br.EMPTY,this.right=u??Br.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,o,u){return new Br(e??this.key,t??this.value,r??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let o=this;const u=r(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,t,r),null):0===u?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Br.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),0===t(e,o.key)){if(o.right.isEmpty())return Br.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Br.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Br.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ot();const e=this.left.check();if(e!==this.right.check())throw ot();return e+(this.isRed()?0:1)}}Br.EMPTY=null,Br.RED=!0,Br.BLACK=!1,Br.EMPTY=new class{constructor(){this.size=0}get key(){throw ot()}get value(){throw ot()}get color(){throw ot()}get left(){throw ot()}get right(){throw ot()}copy(n,e,t,r,o){return this}insert(n,e,t){return new Br(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class wn{constructor(e){this.comparator=e,this.data=new sr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Yx(this.data.getIterator())}getIteratorFrom(e){return new Yx(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof wn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=r.getNext().key;if(0!==this.comparator(o,u))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new wn(this.comparator);return t.data=e,t}}class Yx{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Hc(n){return n.hasNext()?n.getNext():void 0}class gs{constructor(e){this.fields=e,e.sort(jn.comparator)}static empty(){return new gs([])}unionWith(e){let t=new wn(jn.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new gs(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return hd(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class xr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new xr(t)}static fromUint8Array(e){const t=function(r){let o="";for(let u=0;u<r.length;++u)o+=String.fromCharCode(r[u]);return o}(e);return new xr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ut(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}xr.EMPTY_BYTE_STRING=new xr("");const _d=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Bu(n){if(It(!!n),"string"==typeof n){let e=0;const t=_d.exec(n);if(It(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ar(n.seconds),nanos:ar(n.nanos)}}function ar(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function ju(n){return"string"==typeof n?xr.fromBase64String(n):xr.fromUint8Array(n)}function m0(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function _0(n){const e=n.mapValue.fields.__previous_value__;return m0(e)?_0(e):e}function Ig(n){const e=Bu(n.mapValue.fields.__local_write_time__.timestampValue);return new Mn(e.seconds,e.nanos)}class Jx{constructor(e,t,r,o,u,d,g,y){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.useFetchStreams=y}}class ta{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new ta("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof ta&&e.projectId===this.projectId&&e.database===this.database}}function Zi(n){return null==n}function df(n){return 0===n&&1/n==-1/0}function Xx(n){return"number"==typeof n&&Number.isInteger(n)&&!df(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const Qr={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},qi={nullValue:"NULL_VALUE"};function Jr(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?m0(n)?4:pf(n)?9007199254740991:10:ot()}function go(n,e){if(n===e)return!0;const t=Jr(n);if(t!==Jr(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Ig(n).isEqual(Ig(e));case 3:return function(r,o){if("string"==typeof r.timestampValue&&"string"==typeof o.timestampValue&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const u=Bu(r.timestampValue),d=Bu(o.timestampValue);return u.seconds===d.seconds&&u.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return o=e,ju(n.bytesValue).isEqual(ju(o.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,o){return ar(r.geoPointValue.latitude)===ar(o.geoPointValue.latitude)&&ar(r.geoPointValue.longitude)===ar(o.geoPointValue.longitude)}(n,e);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return ar(r.integerValue)===ar(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const u=ar(r.doubleValue),d=ar(o.doubleValue);return u===d?df(u)===df(d):isNaN(u)&&isNaN(d)}return!1}(n,e);case 9:return hd(n.arrayValue.values||[],e.arrayValue.values||[],go);case 10:return function(r,o){const u=r.mapValue.fields||{},d=o.mapValue.fields||{};if(Kx(u)!==Kx(d))return!1;for(const g in u)if(u.hasOwnProperty(g)&&(void 0===d[g]||!go(u[g],d[g])))return!1;return!0}(n,e);default:return ot()}var o}function yd(n,e){return void 0!==(n.values||[]).find(t=>go(t,e))}function $u(n,e){if(n===e)return 0;const t=Jr(n),r=Jr(e);if(t!==r)return Ut(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ut(n.booleanValue,e.booleanValue);case 2:return function(o,u){const d=ar(o.integerValue||o.doubleValue),g=ar(u.integerValue||u.doubleValue);return d<g?-1:d>g?1:d===g?0:isNaN(d)?isNaN(g)?0:-1:1}(n,e);case 3:return ew(n.timestampValue,e.timestampValue);case 4:return ew(Ig(n),Ig(e));case 5:return Ut(n.stringValue,e.stringValue);case 6:return function(o,u){const d=ju(o),g=ju(u);return d.compareTo(g)}(n.bytesValue,e.bytesValue);case 7:return function(o,u){const d=o.split("/"),g=u.split("/");for(let y=0;y<d.length&&y<g.length;y++){const I=Ut(d[y],g[y]);if(0!==I)return I}return Ut(d.length,g.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,u){const d=Ut(ar(o.latitude),ar(u.latitude));return 0!==d?d:Ut(ar(o.longitude),ar(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(o,u){const d=o.values||[],g=u.values||[];for(let y=0;y<d.length&&y<g.length;++y){const I=$u(d[y],g[y]);if(I)return I}return Ut(d.length,g.length)}(n.arrayValue,e.arrayValue);case 10:return function(o,u){if(o===Qr.mapValue&&u===Qr.mapValue)return 0;if(o===Qr.mapValue)return 1;if(u===Qr.mapValue)return-1;const d=o.fields||{},g=Object.keys(d),y=u.fields||{},I=Object.keys(y);g.sort(),I.sort();for(let C=0;C<g.length&&C<I.length;++C){const R=Ut(g[C],I[C]);if(0!==R)return R;const V=$u(d[g[C]],y[I[C]]);if(0!==V)return V}return Ut(g.length,I.length)}(n.mapValue,e.mapValue);default:throw ot()}}function ew(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Ut(n,e);const t=Bu(n),r=Bu(e),o=Ut(t.seconds,r.seconds);return 0!==o?o:Ut(t.nanos,r.nanos)}function vd(n){return y0(n)}function y0(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const o=Bu(r);return`time(${o.seconds},${o.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?ju(n.bytesValue).toBase64():"referenceValue"in n?Xe.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let o="[",u=!0;for(const d of r.values||[])u?u=!1:o+=",",o+=y0(d);return o+"]"}(n.arrayValue):"mapValue"in n?function(r){const o=Object.keys(r.fields||{}).sort();let u="{",d=!0;for(const g of o)d?d=!1:u+=",",u+=`${g}:${y0(r.fields[g])}`;return u+"}"}(n.mapValue):ot();var e}function Ga(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Zc(n){return!!n&&"integerValue"in n}function hf(n){return!!n&&"arrayValue"in n}function v0(n){return!!n&&"nullValue"in n}function tw(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function ff(n){return!!n&&"mapValue"in n}function xd(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return $c(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=xd(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=xd(n.arrayValue.values[t]);return e}return Object.assign({},n)}function pf(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function VE(n){return"nullValue"in n?qi:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Ga(ta.empty(),Xe.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:ot()}function nw(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Ga(ta.empty(),Xe.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Qr:ot()}function x0(n,e){const t=$u(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function Eg(n,e){const t=$u(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class Cr{constructor(e){this.value=e}static empty(){return new Cr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!ff(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=xd(t)}setAll(e){let t=jn.emptyPath(),r={},o=[];e.forEach((d,g)=>{if(!t.isImmediateParentOf(g)){const y=this.getFieldsMap(t);this.applyChanges(y,r,o),r={},o=[],t=g.popLast()}d?r[g.lastSegment()]=xd(d):o.push(g.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,r,o)}delete(e){const t=this.field(e.popLast());ff(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return go(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=t.mapValue.fields[e.get(r)];ff(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,r){$c(t,(o,u)=>e[o]=u);for(const o of r)delete e[o]}clone(){return new Cr(xd(this.value))}}function w0(n){const e=[];return $c(n.fields,(t,r)=>{const o=new jn([t]);if(ff(r)){const u=w0(r.mapValue).fields;if(0===u.length)e.push(o);else for(const d of u)e.push(o.child(d))}else e.push(o)}),new gs(e)}class Tn{constructor(e,t,r,o,u,d){this.key=e,this.documentType=t,this.version=r,this.readTime=o,this.data=u,this.documentState=d}static newInvalidDocument(e){return new Tn(e,0,St.min(),St.min(),Cr.empty(),0)}static newFoundDocument(e,t,r){return new Tn(e,1,t,St.min(),r,0)}static newNoDocument(e,t){return new Tn(e,2,t,St.min(),Cr.empty(),0)}static newUnknownDocument(e,t){return new Tn(e,3,t,St.min(),Cr.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Cr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Cr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=St.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Tn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Tn(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class rw{constructor(e,t=null,r=[],o=[],u=null,d=null,g=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=d,this.endAt=g,this.ut=null}}function b0(n,e=null,t=[],r=[],o=null,u=null,d=null){return new rw(n,e,t,r,o,u,d)}function Hu(n){const e=Je(n);if(null===e.ut){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(o=r).field.canonicalString()+o.op.toString()+vd(o.value);var o}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(o=r).field.canonicalString()+o.dir;var o}).join(","),Zi(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>vd(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>vd(r)).join(",")),e.ut=t}return e.ut}function wd(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let o=0;o<n.orderBy.length;o++)if(!GE(n.orderBy[o],e.orderBy[o]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let o=0;o<n.filters.length;o++)if((t=n.filters[o]).op!==(r=e.filters[o]).op||!t.field.isEqual(r.field)||!go(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!cw(n.startAt,e.startAt)&&cw(n.endAt,e.endAt)}function gf(n){return Xe.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function Dg(n,e){return n.filters.filter(t=>t instanceof Xr&&t.field.isEqual(e))}function sw(n,e,t){let r=qi,o=!0;for(const u of Dg(n,e)){let d=qi,g=!0;switch(u.op){case"<":case"<=":d=VE(u.value);break;case"==":case"in":case">=":d=u.value;break;case">":d=u.value,g=!1;break;case"!=":case"not-in":d=qi}x0({value:r,inclusive:o},{value:d,inclusive:g})<0&&(r=d,o=g)}if(null!==t)for(let u=0;u<n.orderBy.length;++u)if(n.orderBy[u].field.isEqual(e)){const d=t.position[u];x0({value:r,inclusive:o},{value:d,inclusive:t.inclusive})<0&&(r=d,o=t.inclusive);break}return{value:r,inclusive:o}}function ow(n,e,t){let r=Qr,o=!0;for(const u of Dg(n,e)){let d=Qr,g=!0;switch(u.op){case">=":case">":d=nw(u.value),g=!1;break;case"==":case"in":case"<=":d=u.value;break;case"<":d=u.value,g=!1;break;case"!=":case"not-in":d=Qr}Eg({value:r,inclusive:o},{value:d,inclusive:g})>0&&(r=d,o=g)}if(null!==t)for(let u=0;u<n.orderBy.length;++u)if(n.orderBy[u].field.isEqual(e)){const d=t.position[u];Eg({value:r,inclusive:o},{value:d,inclusive:t.inclusive})>0&&(r=d,o=t.inclusive);break}return{value:r,inclusive:o}}class Xr extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.ct(e,t,r):new BE(e,t,r):"array-contains"===t?new HE(e,r):"in"===t?new ZE(e,r):"not-in"===t?new qE(e,r):"array-contains-any"===t?new zE(e,r):new Xr(e,t,r)}static ct(e,t,r){return"in"===t?new jE(e,r):new $E(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.at($u(t,this.value)):null!==t&&Jr(this.value)===Jr(t)&&this.at($u(t,this.value))}at(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ot()}}ht(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class BE extends Xr{constructor(e,t,r){super(e,t,r),this.key=Xe.fromName(r.referenceValue)}matches(e){const t=Xe.comparator(e.key,this.key);return this.at(t)}}class jE extends Xr{constructor(e,t){super(e,"in",t),this.keys=aw(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class $E extends Xr{constructor(e,t){super(e,"not-in",t),this.keys=aw(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function aw(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>Xe.fromName(r.referenceValue))}class HE extends Xr{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return hf(t)&&yd(t.arrayValue,this.value)}}class ZE extends Xr{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&yd(this.value.arrayValue,t)}}class qE extends Xr{constructor(e,t){super(e,"not-in",t)}matches(e){if(yd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!yd(this.value.arrayValue,t)}}class zE extends Xr{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!hf(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>yd(this.value.arrayValue,r))}}class Zu{constructor(e,t){this.position=e,this.inclusive=t}}class bd{constructor(e,t="asc"){this.field=e,this.dir=t}}function GE(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function uw(n,e,t){let r=0;for(let o=0;o<n.position.length;o++){const u=e[o],d=n.position[o];if(r=u.field.isKeyField()?Xe.comparator(Xe.fromName(d.referenceValue),t.key):$u(d,t.data.field(u.field)),"desc"===u.dir&&(r*=-1),0!==r)break}return r}function cw(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!go(n.position[t],e.position[t]))return!1;return!0}class Wa{constructor(e,t=null,r=[],o=[],u=null,d="F",g=null,y=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=d,this.startAt=g,this.endAt=y,this.lt=null,this.ft=null}}function I0(n,e,t,r,o,u,d,g){return new Wa(n,e,t,r,o,u,d,g)}function qc(n){return new Wa(n)}function E0(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function Tg(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Cg(n){for(const e of n.filters)if(e.ht())return e.field;return null}function Ag(n){return null!==n.collectionGroup}function zc(n){const e=Je(n);if(null===e.lt){e.lt=[];const t=Cg(e),r=Tg(e);if(null!==t&&null===r)t.isKeyField()||e.lt.push(new bd(t)),e.lt.push(new bd(jn.keyField(),"asc"));else{let o=!1;for(const u of e.explicitOrderBy)e.lt.push(u),u.field.isKeyField()&&(o=!0);if(!o){const u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.lt.push(new bd(jn.keyField(),u))}}}return e.lt}function bi(n){const e=Je(n);if(!e.ft)if("F"===e.limitType)e.ft=b0(e.path,e.collectionGroup,zc(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const u of zc(e))t.push(new bd(u.field,"desc"===u.dir?"asc":"desc"));const r=e.endAt?new Zu(e.endAt.position,e.endAt.inclusive):null,o=e.startAt?new Zu(e.startAt.position,e.startAt.inclusive):null;e.ft=b0(e.path,e.collectionGroup,t,e.filters,e.limit,r,o)}return e.ft}function mf(n,e,t){return new Wa(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Id(n,e){return wd(bi(n),bi(e))&&n.limitType===e.limitType}function D0(n){return`${Hu(bi(n))}|lt:${n.limitType}`}function Ka(n){return`Query(target=${function iw(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${vd(r.value)}`;var r}).join(", ")}]`),Zi(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>vd(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>vd(t)).join(",")),`Target(${e})`}(bi(n))}; limitType=${n.limitType})`}function T0(n,e){return e.isFoundDocument()&&function(t,r){const o=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(o):Xe.isDocumentKey(t.path)?t.path.isEqual(o):t.path.isImmediateParentOf(o)}(n,e)&&function(t,r){for(const o of t.explicitOrderBy)if(!o.field.isKeyField()&&null===r.data.field(o.field))return!1;return!0}(n,e)&&function(t,r){for(const o of t.filters)if(!o.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(o,u,d){const g=uw(o,u,d);return o.inclusive?g<=0:g<0}(t.startAt,zc(t),r)||t.endAt&&!function(o,u,d){const g=uw(o,u,d);return o.inclusive?g>=0:g>0}(t.endAt,zc(t),r)));var t,r}function lw(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Gc(n){return(e,t)=>{let r=!1;for(const o of zc(n)){const u=RC(o,e,t);if(0!==u)return u;r=r||o.field.isKeyField()}return 0}}function RC(n,e,t){const r=n.field.isKeyField()?Xe.comparator(e.key,t.key):function(o,u,d){const g=u.data.field(o),y=d.data.field(o);return null!==g&&null!==y?$u(g,y):ot()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return ot()}}function Sg(n,e){if(n.dt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:df(e)?"-0":e}}function WE(n){return{integerValue:""+n}}function C0(n,e){return Xx(e)?WE(e):Sg(n,e)}class _f{constructor(){this._=void 0}}function PC(n,e,t){return n instanceof Ed?function(r,o){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&(u.fields.__previous_value__=o),{mapValue:u}}(t,e):n instanceof Wc?Kc(n,e):n instanceof Yc?yf(n,e):function(r,o){const u=dw(r,o),d=Xn(u)+Xn(r._t);return Zc(u)&&Zc(r._t)?WE(d):Sg(r.wt,d)}(n,e)}function Tt(n,e,t){return n instanceof Wc?Kc(n,e):n instanceof Yc?yf(n,e):t}function dw(n,e){return n instanceof Ya?Zc(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class Ed extends _f{}class Wc extends _f{constructor(e){super(),this.elements=e}}function Kc(n,e){const t=KE(e);for(const r of n.elements)t.some(o=>go(o,r))||t.push(r);return{arrayValue:{values:t}}}class Yc extends _f{constructor(e){super(),this.elements=e}}function yf(n,e){let t=KE(e);for(const r of n.elements)t=t.filter(o=>!go(o,r));return{arrayValue:{values:t}}}class Ya extends _f{constructor(e,t){super(),this.wt=e,this._t=t}}function Xn(n){return ar(n.integerValue||n.doubleValue)}function KE(n){return hf(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Dd{constructor(e,t){this.field=e,this.transform=t}}class YE{constructor(e,t){this.version=e,this.transformResults=t}}class $n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new $n}static exists(e){return new $n(void 0,e)}static updateTime(e){return new $n(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function vf(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class xf{}function A0(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Qc(n.key,$n.none()):new Cd(n.key,n.data,$n.none());{const t=n.data,r=Cr.empty();let o=new wn(jn.comparator);for(let u of e.fields)if(!o.has(u)){let d=t.field(u);null===d&&u.length>1&&(u=u.popLast(),d=t.field(u)),null===d?r.delete(u):r.set(u,d),o=o.add(u)}return new Qa(n.key,r,new gs(o.toArray()),$n.none())}}function QE(n,e,t){n instanceof Cd?function(r,o,u){const d=r.value.clone(),g=bf(r.fieldTransforms,o,u.transformResults);d.setAll(g),o.convertToFoundDocument(u.version,d).setHasCommittedMutations()}(n,e,t):n instanceof Qa?function(r,o,u){if(!vf(r.precondition,o))return void o.convertToUnknownDocument(u.version);const d=bf(r.fieldTransforms,o,u.transformResults),g=o.data;g.setAll(fw(r)),g.setAll(d),o.convertToFoundDocument(u.version,g).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function wf(n,e,t,r){return n instanceof Cd?function(o,u,d,g){if(!vf(o.precondition,u))return d;const y=o.value.clone(),I=S0(o.fieldTransforms,g,u);return y.setAll(I),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),null}(n,e,t,r):n instanceof Qa?function(o,u,d,g){if(!vf(o.precondition,u))return d;const y=S0(o.fieldTransforms,g,u),I=u.data;return I.setAll(fw(o)),I.setAll(y),u.convertToFoundDocument(u.version,I).setHasLocalMutations(),null===d?null:d.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(C=>C.field))}(n,e,t,r):(d=t,vf(n.precondition,u=e)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):d);var u,d}function JE(n,e){let t=null;for(const r of n.fieldTransforms){const o=e.data.field(r.field),u=dw(r.transform,o||null);null!=u&&(null===t&&(t=Cr.empty()),t.set(r.field,u))}return t||null}function Td(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&hd(t,r,(o,u)=>function hw(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Wc&&r instanceof Wc||t instanceof Yc&&r instanceof Yc?hd(t.elements,r.elements,go):t instanceof Ya&&r instanceof Ya?go(t._t,r._t):t instanceof Ed&&r instanceof Ed);var t,r}(o,u))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class Cd extends xf{constructor(e,t,r,o=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Qa extends xf{constructor(e,t,r,o,u=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function fw(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function bf(n,e,t){const r=new Map;It(n.length===t.length);for(let o=0;o<t.length;o++){const u=n[o],d=u.transform,g=e.data.field(u.field);r.set(u.field,Tt(d,g,t[o]))}return r}function S0(n,e,t){const r=new Map;for(const o of n){const u=o.transform,d=t.data.field(o.field);r.set(o.field,PC(u,d,e))}return r}class Qc extends xf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Mg extends xf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class XE{constructor(e){this.count=e}}var Hn,Xt;function pw(n){switch(n){default:return ot();case fe.CANCELLED:case fe.UNKNOWN:case fe.DEADLINE_EXCEEDED:case fe.RESOURCE_EXHAUSTED:case fe.INTERNAL:case fe.UNAVAILABLE:case fe.UNAUTHENTICATED:return!1;case fe.INVALID_ARGUMENT:case fe.NOT_FOUND:case fe.ALREADY_EXISTS:case fe.PERMISSION_DENIED:case fe.FAILED_PRECONDITION:case fe.ABORTED:case fe.OUT_OF_RANGE:case fe.UNIMPLEMENTED:case fe.DATA_LOSS:return!0}}function gw(n){if(void 0===n)return Sn("GRPC error has no .code"),fe.UNKNOWN;switch(n){case Hn.OK:return fe.OK;case Hn.CANCELLED:return fe.CANCELLED;case Hn.UNKNOWN:return fe.UNKNOWN;case Hn.DEADLINE_EXCEEDED:return fe.DEADLINE_EXCEEDED;case Hn.RESOURCE_EXHAUSTED:return fe.RESOURCE_EXHAUSTED;case Hn.INTERNAL:return fe.INTERNAL;case Hn.UNAVAILABLE:return fe.UNAVAILABLE;case Hn.UNAUTHENTICATED:return fe.UNAUTHENTICATED;case Hn.INVALID_ARGUMENT:return fe.INVALID_ARGUMENT;case Hn.NOT_FOUND:return fe.NOT_FOUND;case Hn.ALREADY_EXISTS:return fe.ALREADY_EXISTS;case Hn.PERMISSION_DENIED:return fe.PERMISSION_DENIED;case Hn.FAILED_PRECONDITION:return fe.FAILED_PRECONDITION;case Hn.ABORTED:return fe.ABORTED;case Hn.OUT_OF_RANGE:return fe.OUT_OF_RANGE;case Hn.UNIMPLEMENTED:return fe.UNIMPLEMENTED;case Hn.DATA_LOSS:return fe.DATA_LOSS;default:return ot()}}(Xt=Hn||(Hn={}))[Xt.OK=0]="OK",Xt[Xt.CANCELLED=1]="CANCELLED",Xt[Xt.UNKNOWN=2]="UNKNOWN",Xt[Xt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Xt[Xt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Xt[Xt.NOT_FOUND=5]="NOT_FOUND",Xt[Xt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Xt[Xt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Xt[Xt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Xt[Xt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Xt[Xt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Xt[Xt.ABORTED=10]="ABORTED",Xt[Xt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Xt[Xt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Xt[Xt.INTERNAL=13]="INTERNAL",Xt[Xt.UNAVAILABLE=14]="UNAVAILABLE",Xt[Xt.DATA_LOSS=15]="DATA_LOSS";class qu{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[o,u]of r)if(this.equalsFn(o,e))return u}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),o=this.inner[r];if(void 0===o)return this.inner[r]=[[e,t]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return 1===r.length?delete this.inner[t]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){$c(this.inner,(t,r)=>{for(const[o,u]of r)e(o,u)})}isEmpty(){return g0(this.inner)}size(){return this.innerSize}}const mw=new sr(Xe.comparator);function Ii(){return mw}const M0=new sr(Xe.comparator);function If(...n){let e=M0;for(const t of n)e=e.insert(t.key,t);return e}function R0(n){let e=M0;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function na(){return Rg()}function _w(){return Rg()}function Rg(){return new qu(n=>n.toString(),(n,e)=>n.isEqual(e))}const OC=new sr(Xe.comparator),kC=new wn(Xe.comparator);function Yt(...n){let e=kC;for(const t of n)e=e.add(t);return e}const yw=new wn(Ut);function Jc(){return yw}class Ef{constructor(e,t,r,o,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,Df.createSynthesizedTargetChangeForCurrentChange(e,t)),new Ef(St.min(),r,Jc(),Ii(),Yt())}}class Df{constructor(e,t,r,o,u){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t){return new Df(xr.EMPTY_BYTE_STRING,t,Yt(),Yt(),Yt())}}class Tf{constructor(e,t,r,o){this.gt=e,this.removedTargetIds=t,this.key=r,this.yt=o}}class Ad{constructor(e,t){this.targetId=e,this.It=t}}class vw{constructor(e,t,r=xr.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=o}}class xw{constructor(){this.Tt=0,this.Et=bw(),this.At=xr.EMPTY_BYTE_STRING,this.Rt=!1,this.bt=!0}get current(){return this.Rt}get resumeToken(){return this.At}get Pt(){return 0!==this.Tt}get vt(){return this.bt}Vt(e){e.approximateByteSize()>0&&(this.bt=!0,this.At=e)}St(){let e=Yt(),t=Yt(),r=Yt();return this.Et.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:r=r.add(o);break;default:ot()}}),new Df(this.At,this.Rt,e,t,r)}Dt(){this.bt=!1,this.Et=bw()}Ct(e,t){this.bt=!0,this.Et=this.Et.insert(e,t)}xt(e){this.bt=!0,this.Et=this.Et.remove(e)}Nt(){this.Tt+=1}kt(){this.Tt-=1}Mt(){this.bt=!0,this.Rt=!0}}class eD{constructor(e){this.Ot=e,this.Ft=new Map,this.$t=Ii(),this.Bt=ww(),this.Lt=new wn(Ut)}Ut(e){for(const t of e.gt)e.yt&&e.yt.isFoundDocument()?this.qt(t,e.yt):this.Kt(t,e.key,e.yt);for(const t of e.removedTargetIds)this.Kt(t,e.key,e.yt)}Gt(e){this.forEachTarget(e,t=>{const r=this.Qt(t);switch(e.state){case 0:this.jt(t)&&r.Vt(e.resumeToken);break;case 1:r.kt(),r.Pt||r.Dt(),r.Vt(e.resumeToken);break;case 2:r.kt(),r.Pt||this.removeTarget(t);break;case 3:this.jt(t)&&(r.Mt(),r.Vt(e.resumeToken));break;case 4:this.jt(t)&&(this.Wt(t),r.Vt(e.resumeToken));break;default:ot()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ft.forEach((r,o)=>{this.jt(o)&&t(o)})}zt(e){const t=e.targetId,r=e.It.count,o=this.Ht(t);if(o){const u=o.target;if(gf(u))if(0===r){const d=new Xe(u.path);this.Kt(t,d,Tn.newNoDocument(d,St.min()))}else It(1===r);else this.Jt(t)!==r&&(this.Wt(t),this.Lt=this.Lt.add(t))}}Yt(e){const t=new Map;this.Ft.forEach((u,d)=>{const g=this.Ht(d);if(g){if(u.current&&gf(g.target)){const y=new Xe(g.target.path);null!==this.$t.get(y)||this.Xt(d,y)||this.Kt(d,y,Tn.newNoDocument(y,e))}u.vt&&(t.set(d,u.St()),u.Dt())}});let r=Yt();this.Bt.forEach((u,d)=>{let g=!0;d.forEachWhile(y=>{const I=this.Ht(y);return!I||2===I.purpose||(g=!1,!1)}),g&&(r=r.add(u))}),this.$t.forEach((u,d)=>d.setReadTime(e));const o=new Ef(e,t,this.Lt,this.$t,r);return this.$t=Ii(),this.Bt=ww(),this.Lt=new wn(Ut),o}qt(e,t){if(!this.jt(e))return;const r=this.Xt(e,t.key)?2:0;this.Qt(e).Ct(t.key,r),this.$t=this.$t.insert(t.key,t),this.Bt=this.Bt.insert(t.key,this.Zt(t.key).add(e))}Kt(e,t,r){if(!this.jt(e))return;const o=this.Qt(e);this.Xt(e,t)?o.Ct(t,1):o.xt(t),this.Bt=this.Bt.insert(t,this.Zt(t).delete(e)),r&&(this.$t=this.$t.insert(t,r))}removeTarget(e){this.Ft.delete(e)}Jt(e){const t=this.Qt(e).St();return this.Ot.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Nt(e){this.Qt(e).Nt()}Qt(e){let t=this.Ft.get(e);return t||(t=new xw,this.Ft.set(e,t)),t}Zt(e){let t=this.Bt.get(e);return t||(t=new wn(Ut),this.Bt=this.Bt.insert(e,t)),t}jt(e){const t=null!==this.Ht(e);return t||Be("WatchChangeAggregator","Detected inactive target",e),t}Ht(e){const t=this.Ft.get(e);return t&&t.Pt?null:this.Ot.te(e)}Wt(e){this.Ft.set(e,new xw),this.Ot.getRemoteKeysForTarget(e).forEach(t=>{this.Kt(e,t,null)})}Xt(e,t){return this.Ot.getRemoteKeysForTarget(e).has(t)}}function ww(){return new sr(Xe.comparator)}function bw(){return new sr(Xe.comparator)}const Iw={asc:"ASCENDING",desc:"DESCENDING"},tD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class nD{constructor(e,t){this.databaseId=e,this.dt=t}}function ra(n,e){return n.dt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Ew(n,e){return n.dt?e.toBase64():e.toUint8Array()}function Dw(n,e){return ra(n,e.toTimestamp())}function jr(n){return It(!!n),St.fromTimestamp(function(e){const t=Bu(e);return new Mn(t.seconds,t.nanos)}(n))}function Pg(n,e){return(t=n,new nn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function Tw(n){const e=nn.fromString(n);return It(Nw(e)),e}function Sd(n,e){return Pg(n.databaseId,e.path)}function ia(n,e){const t=Tw(e);if(t.get(1)!==n.databaseId.projectId)throw new Pe(fe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Pe(fe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Xe(P0(t))}function Cf(n,e){return Pg(n.databaseId,e)}function Cw(n){const e=Tw(n);return 4===e.length?nn.emptyPath():P0(e)}function Md(n){return new nn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function P0(n){return It(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function Aw(n,e,t){return{name:Sd(n,e),fields:t.value.mapValue.fields}}function Sw(n,e,t){const r=ia(n,e.name),o=jr(e.updateTime),u=new Cr({mapValue:{fields:e.fields}}),d=Tn.newFoundDocument(r,o,u);return t&&d.setHasCommittedMutations(),t?d.setHasCommittedMutations():d}function Af(n,e){let t;if(e instanceof Cd)t={update:Aw(n,e.key,e.value)};else if(e instanceof Qc)t={delete:Sd(n,e.key)};else if(e instanceof Qa)t={update:Aw(n,e.key,e.data),updateMask:kw(e.fieldMask)};else{if(!(e instanceof Mg))return ot();t={verify:Sd(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,u){const d=u.transform;if(d instanceof Ed)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Wc)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Yc)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Ya)return{fieldPath:u.field.canonicalString(),increment:d._t};throw ot()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(o=e.precondition).updateTime?{updateTime:Dw(n,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:ot()),t;var o}function Og(n,e){const t=e.currentDocument?void 0!==(o=e.currentDocument).updateTime?$n.updateTime(jr(o.updateTime)):void 0!==o.exists?$n.exists(o.exists):$n.none():$n.none(),r=e.updateTransforms?e.updateTransforms.map(o=>function(u,d){let g=null;"setToServerValue"in d?(It("REQUEST_TIME"===d.setToServerValue),g=new Ed):"appendMissingElements"in d?g=new Wc(d.appendMissingElements.values||[]):"removeAllFromArray"in d?g=new Yc(d.removeAllFromArray.values||[]):"increment"in d?g=new Ya(u,d.increment):ot();const y=jn.fromServerFormat(d.fieldPath);return new Dd(y,g)}(n,o)):[];var o;if(e.update){const o=ia(n,e.update.name),u=new Cr({mapValue:{fields:e.update.fields}});if(e.updateMask){const d=new gs((e.updateMask.fieldPaths||[]).map(I=>jn.fromServerFormat(I)));return new Qa(o,u,d,t,r)}return new Cd(o,u,t,r)}if(e.delete){const o=ia(n,e.delete);return new Qc(o,t)}if(e.verify){const o=ia(n,e.verify);return new Mg(o,t)}return ot()}function Mw(n,e){return{documents:[Cf(n,e.path)]}}function Rw(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=Cf(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Cf(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const o=function(y){if(0===y.length)return;const I=y.map(C=>function(R){if("=="===R.op){if(tw(R.value))return{unaryFilter:{field:Xc(R.field),op:"IS_NAN"}};if(v0(R.value))return{unaryFilter:{field:Xc(R.field),op:"IS_NULL"}}}else if("!="===R.op){if(tw(R.value))return{unaryFilter:{field:Xc(R.field),op:"IS_NOT_NAN"}};if(v0(R.value))return{unaryFilter:{field:Xc(R.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xc(R.field),op:aD(R.op),value:R.value}}}(C));return 1===I.length?I[0]:{compositeFilter:{op:"AND",filters:I}}}(e.filters);o&&(t.structuredQuery.where=o);const u=function(y){if(0!==y.length)return y.map(I=>{return{field:Xc((C=I).field),direction:oD(C.dir)};var C})}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const d=(I=e.limit,n.dt||Zi(I)?I:{value:I});var I,g,y;return null!==d&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt={before:(g=e.startAt).inclusive,values:g.position}),e.endAt&&(t.structuredQuery.endAt={before:!(y=e.endAt).inclusive,values:y.position}),t}function Pw(n){let e=Cw(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let o=null;if(r>0){It(1===r);const C=t.from[0];C.allDescendants?o=C.collectionId:e=e.child(C.collectionId)}let u=[];t.where&&(u=Ow(t.where));let d=[];t.orderBy&&(d=t.orderBy.map(C=>{return new bd(el((R=C).field),function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(R.direction));var R}));let g=null;t.limit&&(g=function(C){let R;return R="object"==typeof C?C.value:C,Zi(R)?null:R}(t.limit));let y=null;var C;t.startAt&&(y=new Zu((C=t.startAt).values||[],!!C.before));let I=null;return t.endAt&&(I=function(C){return new Zu(C.values||[],!C.before)}(t.endAt)),I0(e,o,d,u,g,"F",y,I)}function Ow(n){return n?void 0!==n.unaryFilter?[cD(n)]:void 0!==n.fieldFilter?[uD(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>Ow(e)).reduce((e,t)=>e.concat(t)):ot():[]}function oD(n){return Iw[n]}function aD(n){return tD[n]}function Xc(n){return{fieldPath:n.canonicalString()}}function el(n){return jn.fromServerFormat(n.fieldPath)}function uD(n){return Xr.create(el(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ot()}}(n.fieldFilter.op),n.fieldFilter.value)}function cD(n){switch(n.unaryFilter.op){case"IS_NAN":const e=el(n.unaryFilter.field);return Xr.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=el(n.unaryFilter.field);return Xr.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=el(n.unaryFilter.field);return Xr.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=el(n.unaryFilter.field);return Xr.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ot()}}function kw(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Nw(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Ei(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=kg(e)),e=lD(n.get(t),e);return kg(e)}function lD(n,e){let t=e;const r=n.length;for(let o=0;o<r;o++){const u=n.charAt(o);switch(u){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=u}}return t}function kg(n){return n+"\x01\x01"}function Vs(n){const e=n.length;if(It(e>=2),2===e)return It("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),nn.emptyPath();const t=e-2,r=[];let o="";for(let u=0;u<e;){const d=n.indexOf("\x01",u);switch((d<0||d>t)&&ot(),n.charAt(d+1)){case"\x01":const g=n.substring(u,d);let y;0===o.length?y=g:(o+=g,y=o,o=""),r.push(y);break;case"\x10":o+=n.substring(u,d),o+="\0";break;case"\x11":o+=n.substring(u,d+1);break;default:ot()}u=d+2}return new nn(r)}const k0=["userId","batchId"];function Rd(n,e){return[n,Ei(e)]}function Fw(n,e,t){return[n,Ei(e),t]}const dD={},N0=["prefixPath","collectionGroup","readTime","documentId"],hD=["prefixPath","collectionGroup","documentId"],fD=["collectionGroup","readTime","prefixPath","documentId"],Pd=["canonicalId","targetId"],Lw=["targetId","path"],pD=["path","targetId"],NC=["collectionId","parent"],Uw=["indexId","uid"],F0=["uid","sequenceNumber"],gD=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],L0=["indexId","uid","orderedDocumentKey"],mD=["userId","collectionPath","documentId"],_D=["userId","collectionPath","largestBatchId"],U0=["userId","collectionGroup","largestBatchId"],V0=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Vw=[...V0,"documentOverlays"],B0=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],j0=B0,yD=[...j0,"indexConfiguration","indexState","indexEntries"];class $0 extends d0{constructor(e,t){super(),this.ee=e,this.currentSequenceNumber=t}}function $r(n,e){const t=Je(n);return fs.N(t.ee,e)}class H0{constructor(e,t,r,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&QE(u,e,r[o])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=wf(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=wf(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=_w();return this.mutations.forEach(o=>{const u=e.get(o.key),d=u.overlayedDocument;let g=this.applyToLocalView(d,u.mutatedFields);g=t.has(o.key)?null:g;const y=A0(d,g);null!==y&&r.set(o.key,y),d.isValidDocument()||d.convertToNoDocument(St.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Yt())}isEqual(e){return this.batchId===e.batchId&&hd(this.mutations,e.mutations,(t,r)=>Td(t,r))&&hd(this.baseMutations,e.baseMutations,(t,r)=>Td(t,r))}}class Ng{constructor(e,t,r,o){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=o}static from(e,t,r){It(e.mutations.length===r.length);let o=OC;const u=e.mutations;for(let d=0;d<u.length;d++)o=o.insert(u[d].key,r[d].version);return new Ng(e,t,r,o)}}class Bw{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Ja{constructor(e,t,r,o,u=St.min(),d=St.min(),g=xr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g}withSequenceNumber(e){return new Ja(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Ja(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Ja(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class jw{constructor(e){this.ne=e}}function xD(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Z0(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:Sd(o=n.ne,(u=e).key),fields:u.data.value.mapValue.fields,updateTime:ra(o,u.version.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:tl(e.version)};else{if(!e.isUnknownDocument())return ot();r.unknownDocument={path:t.path.toArray(),version:tl(e.version)}}var o,u;return r}function Z0(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function tl(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function nl(n){const e=new Mn(n.seconds,n.nanoseconds);return St.fromTimestamp(e)}function rl(n,e){const t=(e.baseMutations||[]).map(u=>Og(n.ne,u));for(let u=0;u<e.mutations.length-1;++u){const d=e.mutations[u];u+1<e.mutations.length&&void 0!==e.mutations[u+1].transform&&(d.updateTransforms=e.mutations[u+1].transform.fieldTransforms,e.mutations.splice(u+1,1),++u)}const r=e.mutations.map(u=>Og(n.ne,u)),o=Mn.fromMillis(e.localWriteTimeMs);return new H0(e.batchId,o,t,r)}function Sf(n){const e=nl(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?nl(n.lastLimboFreeSnapshotVersion):St.min();let r;var o;return void 0!==n.query.documents?(It(1===(o=n.query).documents.length),r=bi(qc(Cw(o.documents[0])))):r=bi(Pw(n.query)),new Ja(r,n.targetId,0,n.lastListenSequenceNumber,e,t,xr.fromBase64String(n.resumeToken))}function $w(n,e){const t=tl(e.snapshotVersion),r=tl(e.lastLimboFreeSnapshotVersion);let o;o=gf(e.target)?Mw(n.ne,e.target):Rw(n.ne,e.target);const u=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Hu(e.target),readTime:t,resumeToken:u,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:o}}function q0(n){const e=Pw({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?mf(e,e.limit,"L"):e}function z0(n,e){return new Bw(e.largestBatchId,Og(n.ne,e.overlayMutation))}function Hw(n,e){const t=e.path.lastSegment();return[n,Ei(e.path.popLast()),t]}function Zw(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:tl(r.readTime),documentKey:Ei(r.documentKey.path),largestBatchId:r.largestBatchId}}class wD{getBundleMetadata(e,t){return qw(e).get(t).next(r=>{if(r)return{id:(o=r).bundleId,createTime:nl(o.createTime),version:o.version};var o})}saveBundleMetadata(e,t){return qw(e).put({bundleId:(r=t).id,createTime:tl(jr(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return zw(e).get(t).next(r=>{if(r)return{name:(o=r).name,query:q0(o.bundledQuery),readTime:nl(o.readTime)};var o})}saveNamedQuery(e,t){return zw(e).put({name:(r=t).name,readTime:tl(jr(r.readTime)),bundledQuery:r.bundledQuery});var r}}function qw(n){return $r(n,"bundles")}function zw(n){return $r(n,"namedQueries")}class zu{constructor(e,t){this.wt=e,this.userId=t}static se(e,t){return new zu(e,t.uid||"")}getOverlay(e,t){return Od(e).get(Hw(this.userId,t)).next(r=>r?z0(this.wt,r):null)}getOverlays(e,t){const r=na();return le.forEach(t,o=>this.getOverlay(e,o).next(u=>{null!==u&&r.set(o,u)})).next(()=>r)}saveOverlays(e,t,r){const o=[];return r.forEach((u,d)=>{const g=new Bw(t,d);o.push(this.ie(e,g))}),le.waitFor(o)}removeOverlaysForBatchId(e,t,r){const o=new Set;t.forEach(d=>o.add(Ei(d.getCollectionPath())));const u=[];return o.forEach(d=>{const g=IDBKeyRange.bound([this.userId,d,r],[this.userId,d,r+1],!1,!0);u.push(Od(e).W("collectionPathOverlayIndex",g))}),le.waitFor(u)}getOverlaysForCollection(e,t,r){const o=na(),u=Ei(t),d=IDBKeyRange.bound([this.userId,u,r],[this.userId,u,Number.POSITIVE_INFINITY],!0);return Od(e).K("collectionPathOverlayIndex",d).next(g=>{for(const y of g){const I=z0(this.wt,y);o.set(I.getKey(),I)}return o})}getOverlaysForCollectionGroup(e,t,r,o){const u=na();let d;const g=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Od(e).J({index:"collectionGroupOverlayIndex",range:g},(y,I,C)=>{const R=z0(this.wt,I);u.size()<o||R.largestBatchId===d?(u.set(R.getKey(),R),d=R.largestBatchId):C.done()}).next(()=>u)}ie(e,t){return Od(e).put(function(r,o,u){const[d,g,y]=Hw(o,u.mutation.key);return{userId:o,collectionPath:g,documentId:y,collectionGroup:u.mutation.key.getCollectionGroup(),largestBatchId:u.largestBatchId,overlayMutation:Af(r.ne,u.mutation)}}(this.wt,this.userId,t))}}function Od(n){return $r(n,"documentOverlays")}class Gu{constructor(){}re(e,t){this.oe(e,t),t.ue()}oe(e,t){if("nullValue"in e)this.ce(t,5);else if("booleanValue"in e)this.ce(t,10),t.ae(e.booleanValue?1:0);else if("integerValue"in e)this.ce(t,15),t.ae(ar(e.integerValue));else if("doubleValue"in e){const r=ar(e.doubleValue);isNaN(r)?this.ce(t,13):(this.ce(t,15),df(r)?t.ae(0):t.ae(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ce(t,20),"string"==typeof r?t.he(r):(t.he(`${r.seconds||""}`),t.ae(r.nanos||0))}else if("stringValue"in e)this.le(e.stringValue,t),this.fe(t);else if("bytesValue"in e)this.ce(t,30),t.de(ju(e.bytesValue)),this.fe(t);else if("referenceValue"in e)this._e(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ce(t,45),t.ae(r.latitude||0),t.ae(r.longitude||0)}else"mapValue"in e?pf(e)?this.ce(t,Number.MAX_SAFE_INTEGER):(this.we(e.mapValue,t),this.fe(t)):"arrayValue"in e?(this.me(e.arrayValue,t),this.fe(t)):ot()}le(e,t){this.ce(t,25),this.ge(e,t)}ge(e,t){t.he(e)}we(e,t){const r=e.fields||{};this.ce(t,55);for(const o of Object.keys(r))this.le(o,t),this.oe(r[o],t)}me(e,t){const r=e.values||[];this.ce(t,50);for(const o of r)this.oe(o,t)}_e(e,t){this.ce(t,37),Xe.fromName(e).path.forEach(r=>{this.ce(t,60),this.ge(r,t)})}ce(e,t){e.ae(t)}fe(e){e.ae(2)}}function Gw(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function G0(n){const e=64-function(t){let r=0;for(let o=0;o<8;++o){const u=Gw(255&t[o]);if(r+=u,8!==u)break}return r}(n);return Math.ceil(e/8)}Gu.ye=new Gu;class Ww{constructor(){this.buffer=new Uint8Array(1024),this.position=0}pe(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ie(r.value),r=t.next();this.Te()}Ee(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ae(r.value),r=t.next();this.Re()}be(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ie(r);else if(r<2048)this.Ie(960|r>>>6),this.Ie(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ie(480|r>>>12),this.Ie(128|63&r>>>6),this.Ie(128|63&r);else{const o=t.codePointAt(0);this.Ie(240|o>>>18),this.Ie(128|63&o>>>12),this.Ie(128|63&o>>>6),this.Ie(128|63&o)}}this.Te()}Pe(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ae(r);else if(r<2048)this.Ae(960|r>>>6),this.Ae(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ae(480|r>>>12),this.Ae(128|63&r>>>6),this.Ae(128|63&r);else{const o=t.codePointAt(0);this.Ae(240|o>>>18),this.Ae(128|63&o>>>12),this.Ae(128|63&o>>>6),this.Ae(128|63&o)}}this.Re()}ve(e){const t=this.Ve(e),r=G0(t);this.Se(1+r),this.buffer[this.position++]=255&r;for(let o=t.length-r;o<t.length;++o)this.buffer[this.position++]=255&t[o]}De(e){const t=this.Ve(e),r=G0(t);this.Se(1+r),this.buffer[this.position++]=~(255&r);for(let o=t.length-r;o<t.length;++o)this.buffer[this.position++]=~(255&t[o])}Ce(){this.xe(255),this.xe(255)}Ne(){this.ke(255),this.ke(255)}reset(){this.position=0}seed(e){this.Se(e.length),this.buffer.set(e,this.position),this.position+=e.length}Me(){return this.buffer.slice(0,this.position)}Ve(e){const t=function(o){const u=new DataView(new ArrayBuffer(8));return u.setFloat64(0,o,!1),new Uint8Array(u.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let o=1;o<t.length;++o)t[o]^=r?255:0;return t}Ie(e){const t=255&e;0===t?(this.xe(0),this.xe(255)):255===t?(this.xe(255),this.xe(0)):this.xe(t)}Ae(e){const t=255&e;0===t?(this.ke(0),this.ke(255)):255===t?(this.ke(255),this.ke(0)):this.ke(e)}Te(){this.xe(0),this.xe(1)}Re(){this.ke(0),this.ke(1)}xe(e){this.Se(1),this.buffer[this.position++]=e}ke(e){this.Se(1),this.buffer[this.position++]=~e}Se(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const o=new Uint8Array(r);o.set(this.buffer),this.buffer=o}}class Kw{constructor(e){this.Oe=e}de(e){this.Oe.pe(e)}he(e){this.Oe.be(e)}ae(e){this.Oe.ve(e)}ue(){this.Oe.Ce()}}class bD{constructor(e){this.Oe=e}de(e){this.Oe.Ee(e)}he(e){this.Oe.Pe(e)}ae(e){this.Oe.De(e)}ue(){this.Oe.Ne()}}class Fg{constructor(){this.Oe=new Ww,this.Fe=new Kw(this.Oe),this.$e=new bD(this.Oe)}seed(e){this.Oe.seed(e)}Be(e){return 0===e?this.Fe:this.$e}Me(){return this.Oe.Me()}reset(){this.Oe.reset()}}class Wu{constructor(e,t,r,o){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=o}Le(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Wu(this.indexId,this.documentKey,this.arrayValue,r)}}function il(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=Yw(n.arrayValue,e.arrayValue),0!==t?t:(t=Yw(n.directionalValue,e.directionalValue),0!==t?t:Xe.comparator(n.documentKey,e.documentKey)))}function Yw(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class ID{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ue=e.orderBy,this.qe=[];for(const t of e.filters){const r=t;r.ht()?this.Ke=r:this.qe.push(r)}}Ge(e){const t=lf(e);if(void 0!==t&&!this.Qe(t))return!1;const r=Lu(e);let o=0,u=0;for(;o<r.length&&this.Qe(r[o]);++o);if(o===r.length)return!0;if(void 0!==this.Ke){const d=r[o];if(!this.je(this.Ke,d)||!this.We(this.Ue[u++],d))return!1;++o}for(;o<r.length;++o){const d=r[o];if(u>=this.Ue.length||!this.We(this.Ue[u++],d))return!1}return!0}Qe(e){for(const t of this.qe)if(this.je(t,e))return!0;return!1}je(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}We(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class ED{constructor(){this.ze=new sl}addToCollectionParentIndex(e,t){return this.ze.add(t),le.resolve()}getCollectionParents(e,t){return le.resolve(this.ze.getEntries(t))}addFieldIndex(e,t){return le.resolve()}deleteFieldIndex(e,t){return le.resolve()}getDocumentsMatchingTarget(e,t){return le.resolve(null)}getIndexType(e,t){return le.resolve(0)}getFieldIndexes(e,t){return le.resolve([])}getNextCollectionGroupToUpdate(e){return le.resolve(null)}getMinOffset(e,t){return le.resolve(hs.min())}getMinOffsetFromCollectionGroup(e,t){return le.resolve(hs.min())}updateCollectionGroup(e,t,r){return le.resolve()}updateIndexEntries(e,t){return le.resolve()}}class sl{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t]||new wn(nn.comparator),u=!o.has(r);return this.index[t]=o.add(r),u}has(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t];return o&&o.has(r)}getEntries(e){return(this.index[e]||new wn(nn.comparator)).toArray()}}const Lg=new Uint8Array(0);class W0{constructor(e,t){this.user=e,this.databaseId=t,this.He=new sl,this.Je=new qu(r=>Hu(r),(r,o)=>wd(r,o)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.He.has(t)){const r=t.lastSegment(),o=t.popLast();e.addOnCommittedListener(()=>{this.He.add(t)});const u={collectionId:r,parent:Ei(o)};return mo(e).put(u)}return le.resolve()}getCollectionParents(e,t){const r=[],o=IDBKeyRange.bound([t,""],[Zx(t),""],!1,!0);return mo(e).K(o).next(u=>{for(const d of u){if(d.collectionId!==t)break;r.push(Vs(d.parent))}return r})}addFieldIndex(e,t){const r=kd(e),o={indexId:(d=t).indexId,collectionGroup:d.collectionGroup,fields:d.fields.map(g=>[g.fieldPath.canonicalString(),g.kind])};var d;delete o.indexId;const u=r.add(o);if(t.indexState){const d=Xa(e);return u.next(g=>{d.put(Zw(g,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return u.next()}deleteFieldIndex(e,t){const r=kd(e),o=Xa(e),u=Mf(e);return r.delete(t.indexId).next(()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>u.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=Mf(e);let o=!0;const u=new Map;return le.forEach(this.Ye(t),d=>this.Xe(e,d).next(g=>{o&&(o=!!g),u.set(d,g)})).next(()=>{if(o){let d=Yt();const g=[];return le.forEach(u,(y,I)=>{var C;Be("IndexedDbIndexManager",`Using index ${C=y,`id=${C.indexId}|cg=${C.collectionGroup}|f=${C.fields.map(wt=>`${wt.fieldPath}:${wt.kind}`).join(",")}`} to execute ${Hu(t)}`);const R=function(wt,lt){const Mt=lf(lt);if(void 0===Mt)return null;for(const Gt of Dg(wt,Mt.fieldPath))switch(Gt.op){case"array-contains-any":return Gt.value.arrayValue.values||[];case"array-contains":return[Gt.value]}return null}(I,y),V=function(wt,lt){const Mt=new Map;for(const Gt of Lu(lt))for(const _r of Dg(wt,Gt.fieldPath))switch(_r.op){case"==":case"in":Mt.set(Gt.fieldPath.canonicalString(),_r.value);break;case"not-in":case"!=":return Mt.set(Gt.fieldPath.canonicalString(),_r.value),Array.from(Mt.values())}return null}(I,y),J=function(wt,lt){const Mt=[];let Gt=!0;for(const _r of Lu(lt)){const su=0===_r.kind?sw(wt,_r.fieldPath,wt.startAt):ow(wt,_r.fieldPath,wt.startAt);Mt.push(su.value),Gt&&(Gt=su.inclusive)}return new Zu(Mt,Gt)}(I,y),ie=function(wt,lt){const Mt=[];let Gt=!0;for(const _r of Lu(lt)){const su=0===_r.kind?ow(wt,_r.fieldPath,wt.endAt):sw(wt,_r.fieldPath,wt.endAt);Mt.push(su.value),Gt&&(Gt=su.inclusive)}return new Zu(Mt,Gt)}(I,y),Oe=this.Ze(y,I,J),Fe=this.Ze(y,I,ie),xt=this.tn(y,I,V),Et=this.en(y.indexId,R,Oe,J.inclusive,Fe,ie.inclusive,xt);return le.forEach(Et,wt=>r.j(wt,t.limit).next(lt=>{lt.forEach(Mt=>{const Gt=Xe.fromSegments(Mt.documentKey);d.has(Gt)||(d=d.add(Gt),g.push(Gt))})}))}).next(()=>g)}return le.resolve(null)})}Ye(e){let t=this.Je.get(e);return t||(t=[e],this.Je.set(e,t),t)}en(e,t,r,o,u,d,g){const y=(null!=t?t.length:1)*Math.max(r.length,u.length),I=y/(null!=t?t.length:1),C=[];for(let R=0;R<y;++R){const V=t?this.nn(t[R/I]):Lg,J=this.sn(e,V,r[R%I],o),ie=this.rn(e,V,u[R%I],d),Oe=g.map(Fe=>this.sn(e,V,Fe,!0));C.push(...this.createRange(J,ie,Oe))}return C}sn(e,t,r,o){const u=new Wu(e,Xe.empty(),t,r);return o?u:u.Le()}rn(e,t,r,o){const u=new Wu(e,Xe.empty(),t,r);return o?u.Le():u}Xe(e,t){const r=new ID(t),o=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,o).next(u=>{let d=null;for(const g of u)r.Ge(g)&&(!d||g.fields.length>d.fields.length)&&(d=g);return d})}getIndexType(e,t){let r=2;return le.forEach(this.Ye(t),o=>this.Xe(e,o).next(u=>{u?0!==r&&u.fields.length<function(d){let g=new wn(jn.comparator),y=!1;for(const I of d.filters){const C=I;C.field.isKeyField()||("array-contains"===C.op||"array-contains-any"===C.op?y=!0:g=g.add(C.field))}for(const I of d.orderBy)I.field.isKeyField()||(g=g.add(I.field));return g.size+(y?1:0)}(o)&&(r=1):r=0})).next(()=>r)}on(e,t){const r=new Fg;for(const o of Lu(e)){const u=t.data.field(o.fieldPath);if(null==u)return null;const d=r.Be(o.kind);Gu.ye.re(u,d)}return r.Me()}nn(e){const t=new Fg;return Gu.ye.re(e,t.Be(0)),t.Me()}un(e,t){const r=new Fg;return Gu.ye.re(Ga(this.databaseId,t),r.Be(function(o){const u=Lu(o);return 0===u.length?0:u[u.length-1].kind}(e))),r.Me()}tn(e,t,r){if(null===r)return[];let o=[];o.push(new Fg);let u=0;for(const d of Lu(e)){const g=r[u++];for(const y of o)if(this.cn(t,d.fieldPath)&&hf(g))o=this.an(o,d,g);else{const I=y.Be(d.kind);Gu.ye.re(g,I)}}return this.hn(o)}Ze(e,t,r){return this.tn(e,t,r.position)}hn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Me();return t}an(e,t,r){const o=[...e],u=[];for(const d of r.arrayValue.values||[])for(const g of o){const y=new Fg;y.seed(g.Me()),Gu.ye.re(d,y.Be(t.kind)),u.push(y)}return u}cn(e,t){return!!e.filters.find(r=>r instanceof Xr&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=kd(e),o=Xa(e);return(t?r.K("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.K()).next(u=>{const d=[];return le.forEach(u,g=>o.get([g.indexId,this.uid]).next(y=>{d.push(function(I,C){const R=C?new gd(C.sequenceNumber,new hs(nl(C.readTime),new Xe(Vs(C.documentKey)),C.largestBatchId)):gd.empty(),V=I.fields.map(([J,ie])=>new pd(jn.fromServerFormat(J),ie));return new fd(I.indexId,I.collectionGroup,V,R)}(g,y))})).next(()=>d)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,o)=>{const u=r.indexState.sequenceNumber-o.indexState.sequenceNumber;return 0!==u?u:Ut(r.collectionGroup,o.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const o=kd(e),u=Xa(e);return this.ln(e).next(d=>o.K("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(g=>le.forEach(g,y=>u.put(Zw(y.indexId,this.user,d,r)))))}updateIndexEntries(e,t){const r=new Map;return le.forEach(t,(o,u)=>{const d=r.get(o.collectionGroup);return(d?le.resolve(d):this.getFieldIndexes(e,o.collectionGroup)).next(g=>(r.set(o.collectionGroup,g),le.forEach(g,y=>this.fn(e,o,y).next(I=>{const C=this.dn(u,y);return I.isEqual(C)?le.resolve():this._n(e,u,y,I,C)}))))})}wn(e,t,r,o){return Mf(e).put({indexId:o.indexId,uid:this.uid,arrayValue:o.arrayValue,directionalValue:o.directionalValue,orderedDocumentKey:this.un(r,t.key),documentKey:t.key.path.toArray()})}mn(e,t,r,o){return Mf(e).delete([o.indexId,this.uid,o.arrayValue,o.directionalValue,this.un(r,t.key),t.key.path.toArray()])}fn(e,t,r){const o=Mf(e);let u=new wn(il);return o.J({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.un(r,t)])},(d,g)=>{u=u.add(new Wu(r.indexId,t,g.arrayValue,g.directionalValue))}).next(()=>u)}dn(e,t){let r=new wn(il);const o=this.on(t,e);if(null==o)return r;const u=lf(t);if(null!=u){const d=e.data.field(u.fieldPath);if(hf(d))for(const g of d.arrayValue.values||[])r=r.add(new Wu(t.indexId,e.key,this.nn(g),o))}else r=r.add(new Wu(t.indexId,e.key,Lg,o));return r}_n(e,t,r,o,u){Be("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const d=[];return function(g,y,I,C,R){const V=g.getIterator(),J=y.getIterator();let ie=Hc(V),Oe=Hc(J);for(;ie||Oe;){let Fe=!1,xt=!1;if(ie&&Oe){const Et=I(ie,Oe);Et<0?xt=!0:Et>0&&(Fe=!0)}else null!=ie?xt=!0:Fe=!0;Fe?(C(Oe),Oe=Hc(J)):xt?(R(ie),ie=Hc(V)):(ie=Hc(V),Oe=Hc(J))}}(o,u,il,g=>{d.push(this.wn(e,t,r,g))},g=>{d.push(this.mn(e,t,r,g))}),le.waitFor(d)}ln(e){let t=1;return Xa(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,o,u)=>{u.done(),t=o.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((d,g)=>il(d,g)).filter((d,g,y)=>!g||0!==il(d,y[g-1]));const o=[];o.push(e);for(const d of r){const g=il(d,e),y=il(d,t);if(0===g)o[0]=e.Le();else if(g>0&&y<0)o.push(d),o.push(d.Le());else if(y>0)break}o.push(t);const u=[];for(let d=0;d<o.length;d+=2)u.push(IDBKeyRange.bound([o[d].indexId,this.uid,o[d].arrayValue,o[d].directionalValue,Lg,[]],[o[d+1].indexId,this.uid,o[d+1].arrayValue,o[d+1].directionalValue,Lg,[]]));return u}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(Qw)}getMinOffset(e,t){return le.mapArray(this.Ye(t),r=>this.Xe(e,r).next(o=>o||ot())).next(Qw)}}function mo(n){return $r(n,"collectionParents")}function Mf(n){return $r(n,"indexEntries")}function kd(n){return $r(n,"indexConfiguration")}function Xa(n){return $r(n,"indexState")}function Qw(n){It(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const o=n[r].indexState.offset;xg(o,e)<0&&(e=o),t<o.largestBatchId&&(t=o.largestBatchId)}return new hs(e.readTime,e.documentKey,t)}const Jw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class zi{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new zi(e,zi.DEFAULT_COLLECTION_PERCENTILE,zi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Rf(n,e,t){const r=n.store("mutations"),o=n.store("documentMutations"),u=[],d=IDBKeyRange.only(t.batchId);let g=0;const y=r.J({range:d},(C,R,V)=>(g++,V.delete()));u.push(y.next(()=>{It(1===g)}));const I=[];for(const C of t.mutations){const R=Fw(e,C.key.path,t.batchId);u.push(o.delete(R)),I.push(C.key)}return le.waitFor(u).next(()=>I)}function ol(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw ot();e=n.noDocument}return JSON.stringify(e).length}zi.DEFAULT_COLLECTION_PERCENTILE=10,zi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,zi.DEFAULT=new zi(41943040,zi.DEFAULT_COLLECTION_PERCENTILE,zi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),zi.DISABLED=new zi(-1,0,0);class Ug{constructor(e,t,r,o){this.userId=e,this.wt=t,this.indexManager=r,this.referenceDelegate=o,this.gn={}}static se(e,t,r,o){It(""!==e.uid);const u=e.isAuthenticated()?e.uid:"";return new Ug(u,t,r,o)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return eu(e).J({index:"userMutationsIndex",range:r},(o,u,d)=>{t=!1,d.done()}).next(()=>t)}addMutationBatch(e,t,r,o){const u=al(e),d=eu(e);return d.add({}).next(g=>{It("number"==typeof g);const y=new H0(g,t,r,o),I=function(V,J,ie){const Oe=ie.baseMutations.map(xt=>Af(V.ne,xt)),Fe=ie.mutations.map(xt=>Af(V.ne,xt));return{userId:J,batchId:ie.batchId,localWriteTimeMs:ie.localWriteTime.toMillis(),baseMutations:Oe,mutations:Fe}}(this.wt,this.userId,y),C=[];let R=new wn((V,J)=>Ut(V.canonicalString(),J.canonicalString()));for(const V of o){const J=Fw(this.userId,V.key.path,g);R=R.add(V.key.path.popLast()),C.push(d.put(I)),C.push(u.put(J,dD))}return R.forEach(V=>{C.push(this.indexManager.addToCollectionParentIndex(e,V))}),e.addOnCommittedListener(()=>{this.gn[g]=y.keys()}),le.waitFor(C).next(()=>y)})}lookupMutationBatch(e,t){return eu(e).get(t).next(r=>r?(It(r.userId===this.userId),rl(this.wt,r)):null)}yn(e,t){return this.gn[t]?le.resolve(this.gn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const o=r.keys();return this.gn[t]=o,o}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,o=IDBKeyRange.lowerBound([this.userId,r]);let u=null;return eu(e).J({index:"userMutationsIndex",range:o},(d,g,y)=>{g.userId===this.userId&&(It(g.batchId>=r),u=rl(this.wt,g)),y.done()}).next(()=>u)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return eu(e).J({index:"userMutationsIndex",range:t,reverse:!0},(o,u,d)=>{r=u.batchId,d.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return eu(e).K("userMutationsIndex",t).next(r=>r.map(o=>rl(this.wt,o)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=Rd(this.userId,t.path),o=IDBKeyRange.lowerBound(r),u=[];return al(e).J({range:o},(d,g,y)=>{const[I,C,R]=d,V=Vs(C);if(I===this.userId&&t.path.isEqual(V))return eu(e).get(R).next(J=>{if(!J)throw ot();It(J.userId===this.userId),u.push(rl(this.wt,J))});y.done()}).next(()=>u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new wn(Ut);const o=[];return t.forEach(u=>{const d=Rd(this.userId,u.path),g=IDBKeyRange.lowerBound(d),y=al(e).J({range:g},(I,C,R)=>{const[V,J,ie]=I,Oe=Vs(J);V===this.userId&&u.path.isEqual(Oe)?r=r.add(ie):R.done()});o.push(y)}),le.waitFor(o).next(()=>this.pn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1,u=Rd(this.userId,r),d=IDBKeyRange.lowerBound(u);let g=new wn(Ut);return al(e).J({range:d},(y,I,C)=>{const[R,V,J]=y,ie=Vs(V);R===this.userId&&r.isPrefixOf(ie)?ie.length===o&&(g=g.add(J)):C.done()}).next(()=>this.pn(e,g))}pn(e,t){const r=[],o=[];return t.forEach(u=>{o.push(eu(e).get(u).next(d=>{if(null===d)throw ot();It(d.userId===this.userId),r.push(rl(this.wt,d))}))}),le.waitFor(o).next(()=>r)}removeMutationBatch(e,t){return Rf(e.ee,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.In(t.batchId)}),le.forEach(r,o=>this.referenceDelegate.markPotentiallyOrphaned(e,o))))}In(e){delete this.gn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return le.resolve();const r=IDBKeyRange.lowerBound([this.userId]),o=[];return al(e).J({range:r},(u,d,g)=>{if(u[0]===this.userId){const y=Vs(u[1]);o.push(y)}else g.done()}).next(()=>{It(0===o.length)})})}containsKey(e,t){return Xw(e,this.userId,t)}Tn(e){return Vg(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Xw(n,e,t){const r=Rd(e,t.path),o=r[1],u=IDBKeyRange.lowerBound(r);let d=!1;return al(n).J({range:u,H:!0},(g,y,I)=>{const[C,R,V]=g;C===e&&R===o&&(d=!0),I.done()}).next(()=>d)}function eu(n){return $r(n,"mutations")}function al(n){return $r(n,"documentMutations")}function Vg(n){return $r(n,"mutationQueues")}class Ku{constructor(e){this.En=e}next(){return this.En+=2,this.En}static An(){return new Ku(0)}static Rn(){return new Ku(-1)}}class DD{constructor(e,t){this.referenceDelegate=e,this.wt=t}allocateTargetId(e){return this.bn(e).next(t=>{const r=new Ku(t.highestTargetId);return t.highestTargetId=r.next(),this.Pn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.bn(e).next(t=>St.fromTimestamp(new Mn(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.bn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.bn(e).next(o=>(o.highestListenSequenceNumber=t,r&&(o.lastRemoteSnapshotVersion=r.toTimestamp()),t>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=t),this.Pn(e,o)))}addTargetData(e,t){return this.vn(e,t).next(()=>this.bn(e).next(r=>(r.targetCount+=1,this.Vn(t,r),this.Pn(e,r))))}updateTargetData(e,t){return this.vn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Nd(e).delete(t.targetId)).next(()=>this.bn(e)).next(r=>(It(r.targetCount>0),r.targetCount-=1,this.Pn(e,r)))}removeTargets(e,t,r){let o=0;const u=[];return Nd(e).J((d,g)=>{const y=Sf(g);y.sequenceNumber<=t&&null===r.get(y.targetId)&&(o++,u.push(this.removeTargetData(e,y)))}).next(()=>le.waitFor(u)).next(()=>o)}forEachTarget(e,t){return Nd(e).J((r,o)=>{const u=Sf(o);t(u)})}bn(e){return TD(e).get("targetGlobalKey").next(t=>(It(null!==t),t))}Pn(e,t){return TD(e).put("targetGlobalKey",t)}vn(e,t){return Nd(e).put($w(this.wt,t))}Vn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.bn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=Hu(t),o=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let u=null;return Nd(e).J({range:o,index:"queryTargetsIndex"},(d,g,y)=>{const I=Sf(g);wd(t,I.target)&&(u=I,y.done())}).next(()=>u)}addMatchingKeys(e,t,r){const o=[],u=sa(e);return t.forEach(d=>{const g=Ei(d.path);o.push(u.put({targetId:r,path:g})),o.push(this.referenceDelegate.addReference(e,r,d))}),le.waitFor(o)}removeMatchingKeys(e,t,r){const o=sa(e);return le.forEach(t,u=>{const d=Ei(u.path);return le.waitFor([o.delete([r,d]),this.referenceDelegate.removeReference(e,r,u)])})}removeMatchingKeysForTargetId(e,t){const r=sa(e),o=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(o)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),o=sa(e);let u=Yt();return o.J({range:r,H:!0},(d,g,y)=>{const I=Vs(d[1]),C=new Xe(I);u=u.add(C)}).next(()=>u)}containsKey(e,t){const r=Ei(t.path),o=IDBKeyRange.bound([r],[Zx(r)],!1,!0);let u=0;return sa(e).J({index:"documentTargetsIndex",H:!0,range:o},([d,g],y,I)=>{0!==d&&(u++,I.done())}).next(()=>u>0)}te(e,t){return Nd(e).get(t).next(r=>r?Sf(r):null)}}function Nd(n){return $r(n,"targets")}function TD(n){return $r(n,"targetGlobal")}function sa(n){return $r(n,"targetDocuments")}function Bg([n,e],[t,r]){const o=Ut(n,t);return 0===o?Ut(e,r):o}class eb{constructor(e){this.Sn=e,this.buffer=new wn(Bg),this.Dn=0}Cn(){return++this.Dn}xn(e){const t=[e,this.Cn()];if(this.buffer.size<this.Sn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();Bg(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class K0{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Nn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.kn(6e4)}stop(){this.Nn&&(this.Nn.cancel(),this.Nn=null)}get started(){return null!==this.Nn}kn(e){var t=this;Be("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Nn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,_e.Z)(function*(){t.Nn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){za(r)?Be("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield Uu(r)}yield t.kn(3e5)}))}}class Y0{constructor(e,t){this.Mn=e,this.params=t}calculateTargetCount(e,t){return this.Mn.On(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return le.resolve(ps.ot);const r=new eb(t);return this.Mn.forEachTarget(e,o=>r.xn(o.sequenceNumber)).next(()=>this.Mn.Fn(e,o=>r.xn(o))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Mn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Mn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Be("LruGarbageCollector","Garbage collection skipped; disabled"),le.resolve(Jw)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Be("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Jw):this.$n(e,t))}getCacheSize(e){return this.Mn.getCacheSize(e)}$n(e,t){let r,o,u,d,g,y,I;const C=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(R=>(R>this.params.maximumSequenceNumbersToCollect?(Be("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${R}`),o=this.params.maximumSequenceNumbersToCollect):o=R,d=Date.now(),this.nthSequenceNumber(e,o))).next(R=>(r=R,g=Date.now(),this.removeTargets(e,r,t))).next(R=>(u=R,y=Date.now(),this.removeOrphanedDocuments(e,r))).next(R=>(I=Date.now(),ld()<=Au.in.DEBUG&&Be("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${d-C}ms\n\tDetermined least recently used ${o} in `+(g-d)+`ms\n\tRemoved ${u} targets in `+(y-g)+`ms\n\tRemoved ${R} documents in `+(I-y)+`ms\nTotal Duration: ${I-C}ms`),le.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:R})))}}class CD{constructor(e,t){this.db=e,this.garbageCollector=new Y0(this,t)}On(e){const t=this.Bn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(o=>r+o))}Bn(e){let t=0;return this.Fn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Fn(e,t){return this.Ln(e,(r,o)=>t(o))}addReference(e,t,r){return jg(e,r)}removeReference(e,t,r){return jg(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return jg(e,t)}Un(e,t){return function(r,o){let u=!1;return Vg(r).Y(d=>Xw(r,d,o).next(g=>(g&&(u=!0),le.resolve(!g)))).next(()=>u)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),o=[];let u=0;return this.Ln(e,(d,g)=>{if(g<=t){const y=this.Un(e,d).next(I=>{if(!I)return u++,r.getEntry(e,d).next(()=>(r.removeEntry(d,St.min()),sa(e).delete([0,Ei(d.path)])))});o.push(y)}}).next(()=>le.waitFor(o)).next(()=>r.apply(e)).next(()=>u)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return jg(e,t)}Ln(e,t){const r=sa(e);let o,u=ps.ot;return r.J({index:"documentTargetsIndex"},([d,g],{path:y,sequenceNumber:I})=>{0===d?(u!==ps.ot&&t(new Xe(Vs(o)),u),u=I,o=y):u=ps.ot}).next(()=>{u!==ps.ot&&t(new Xe(Vs(o)),u)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function jg(n,e){return sa(n).put((r=n.currentSequenceNumber,{targetId:0,path:Ei(e.path),sequenceNumber:r}));var r}class tb{constructor(){this.changes=new qu(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Tn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?le.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class AD{constructor(e){this.wt=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return ul(e).put(r)}removeEntry(e,t,r){return ul(e).delete(function(o,u){const d=o.path.toArray();return[d.slice(0,d.length-2),d[d.length-2],Z0(u),d[d.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.qn(e,r)))}getEntry(e,t){let r=Tn.newInvalidDocument(t);return ul(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Fd(t))},(o,u)=>{r=this.Kn(t,u)}).next(()=>r)}Gn(e,t){let r={size:0,document:Tn.newInvalidDocument(t)};return ul(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Fd(t))},(o,u)=>{r={document:this.Kn(t,u),size:ol(u)}}).next(()=>r)}getEntries(e,t){let r=Ii();return this.Qn(e,t,(o,u)=>{const d=this.Kn(o,u);r=r.insert(o,d)}).next(()=>r)}jn(e,t){let r=Ii(),o=new sr(Xe.comparator);return this.Qn(e,t,(u,d)=>{const g=this.Kn(u,d);r=r.insert(u,g),o=o.insert(u,ol(d))}).next(()=>({documents:r,Wn:o}))}Qn(e,t,r){if(t.isEmpty())return le.resolve();let o=new wn(nb);t.forEach(y=>o=o.add(y));const u=IDBKeyRange.bound(Fd(o.first()),Fd(o.last())),d=o.getIterator();let g=d.getNext();return ul(e).J({index:"documentKeyIndex",range:u},(y,I,C)=>{const R=Xe.fromSegments([...I.prefixPath,I.collectionGroup,I.documentId]);for(;g&&nb(g,R)<0;)r(g,null),g=d.getNext();g&&g.isEqual(R)&&(r(g,I),g=d.hasNext()?d.getNext():null),g?C.q(Fd(g)):C.done()}).next(()=>{for(;g;)r(g,null),g=d.hasNext()?d.getNext():null})}getAllFromCollection(e,t,r){const o=[t.popLast().toArray(),t.lastSegment(),Z0(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],u=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return ul(e).K(IDBKeyRange.bound(o,u,!0)).next(d=>{let g=Ii();for(const y of d){const I=this.Kn(Xe.fromSegments(y.prefixPath.concat(y.collectionGroup,y.documentId)),y);g=g.insert(I.key,I)}return g})}getAllFromCollectionGroup(e,t,r,o){let u=Ii();const d=ey(t,r),g=ey(t,hs.max());return ul(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(d,g,!0)},(y,I,C)=>{const R=this.Kn(Xe.fromSegments(I.prefixPath.concat(I.collectionGroup,I.documentId)),I);u=u.insert(R.key,R),u.size===o&&C.done()}).next(()=>u)}newChangeBuffer(e){return new J0(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return X0(e).get("remoteDocumentGlobalKey").next(t=>(It(!!t),t))}qn(e,t){return X0(e).put("remoteDocumentGlobalKey",t)}Kn(e,t){if(t){const r=function vD(n,e){let t;if(e.document)t=Sw(n.ne,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=Xe.fromSegments(e.noDocument.path),o=nl(e.noDocument.readTime);t=Tn.newNoDocument(r,o),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return ot();{const r=Xe.fromSegments(e.unknownDocument.path),o=nl(e.unknownDocument.version);t=Tn.newUnknownDocument(r,o)}}return e.readTime&&t.setReadTime(function(r){const o=new Mn(r[0],r[1]);return St.fromTimestamp(o)}(e.readTime)),t}(this.wt,t);if(!r.isNoDocument()||!r.version.isEqual(St.min()))return r}return Tn.newInvalidDocument(e)}}function Q0(n){return new AD(n)}class J0 extends tb{constructor(e,t){super(),this.zn=e,this.trackRemovals=t,this.Hn=new qu(r=>r.toString(),(r,o)=>r.isEqual(o))}applyChanges(e){const t=[];let r=0,o=new wn((u,d)=>Ut(u.canonicalString(),d.canonicalString()));return this.changes.forEach((u,d)=>{const g=this.Hn.get(u);if(t.push(this.zn.removeEntry(e,u,g.readTime)),d.isValidDocument()){const y=xD(this.zn.wt,d);o=o.add(u.path.popLast()),r+=ol(y)-g.size,t.push(this.zn.addEntry(e,u,y))}else if(r-=g.size,this.trackRemovals){const y=xD(this.zn.wt,d.convertToNoDocument(St.min()));t.push(this.zn.addEntry(e,u,y))}}),o.forEach(u=>{t.push(this.zn.indexManager.addToCollectionParentIndex(e,u))}),t.push(this.zn.updateMetadata(e,r)),le.waitFor(t)}getFromCache(e,t){return this.zn.Gn(e,t).next(r=>(this.Hn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.zn.jn(e,t).next(({documents:r,Wn:o})=>(o.forEach((u,d)=>{this.Hn.set(u,{size:d,readTime:r.get(u).readTime})}),r))}}function X0(n){return $r(n,"remoteDocumentGlobal")}function ul(n){return $r(n,"remoteDocumentsV14")}function Fd(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function ey(n,e){const t=e.documentKey.path.toArray();return[n,Z0(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function nb(n,e){const t=n.path.toArray(),r=e.path.toArray();let o=0;for(let u=0;u<t.length-2&&u<r.length-2;++u)if(o=Ut(t[u],r[u]),o)return o;return o=Ut(t.length,r.length),o||(o=Ut(t[t.length-2],r[r.length-2]),o||Ut(t[t.length-1],r[r.length-1]))}class rb{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class ty{constructor(e,t,r,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(r=o,this.getBaseDocument(e,t,r))).next(o=>(null!==r&&wf(r.mutation,o,gs.empty(),Mn.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Yt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Yt()){const o=na();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,r).next(u=>{let d=If();return u.forEach((g,y)=>{d=d.insert(g,y.overlayedDocument)}),d}))}getOverlayedDocuments(e,t){const r=na();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Yt()))}populateOverlays(e,t,r){const o=[];return r.forEach(u=>{t.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((d,g)=>{t.set(d,g)})})}computeViews(e,t,r,o){let u=Ii();const d=Rg(),g=Rg();return t.forEach((y,I)=>{const C=r.get(I.key);o.has(I.key)&&(void 0===C||C.mutation instanceof Qa)?u=u.insert(I.key,I):void 0!==C&&(d.set(I.key,C.mutation.getFieldMask()),wf(C.mutation,I,C.mutation.getFieldMask(),Mn.now()))}),this.recalculateAndSaveOverlays(e,u).next(y=>(y.forEach((I,C)=>d.set(I,C)),t.forEach((I,C)=>{var R;return g.set(I,new rb(C,null!==(R=d.get(I))&&void 0!==R?R:null))}),g))}recalculateAndSaveOverlays(e,t){const r=Rg();let o=new sr((d,g)=>d-g),u=Yt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(d=>{for(const g of d)g.keys().forEach(y=>{const I=t.get(y);if(null===I)return;let C=r.get(y)||gs.empty();C=g.applyToLocalView(I,C),r.set(y,C);const R=(o.get(g.batchId)||Yt()).add(y);o=o.insert(g.batchId,R)})}).next(()=>{const d=[],g=o.getReverseIterator();for(;g.hasNext();){const y=g.getNext(),I=y.key,C=y.value,R=_w();C.forEach(V=>{if(!u.has(V)){const J=A0(t.get(V),r.get(V));null!==J&&R.set(V,J),u=u.add(V)}}),d.push(this.documentOverlayCache.saveOverlays(e,I,R))}return le.waitFor(d)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return Xe.isDocumentKey((o=t).path)&&null===o.collectionGroup&&0===o.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):Ag(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var o}getNextDocuments(e,t,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,o).next(u=>{const d=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,o-u.size):le.resolve(na());let g=-1,y=u;return d.next(I=>le.forEach(I,(C,R)=>(g<R.largestBatchId&&(g=R.largestBatchId),u.get(C)?le.resolve():this.getBaseDocument(e,C,R).next(V=>{y=y.insert(C,V)}))).next(()=>this.populateOverlays(e,I,u)).next(()=>this.computeViews(e,y,I,Yt())).next(C=>({batchId:g,changes:R0(C)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Xe(t)).next(r=>{let o=If();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const o=t.collectionGroup;let u=If();return this.indexManager.getCollectionParents(e,o).next(d=>le.forEach(d,g=>{const y=(I=t,C=g.child(o),new Wa(C,null,I.explicitOrderBy.slice(),I.filters.slice(),I.limit,I.limitType,I.startAt,I.endAt));var I,C;return this.getDocumentsMatchingCollectionQuery(e,y,r).next(I=>{I.forEach((C,R)=>{u=u.insert(C,R)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r){let o;return this.remoteDocumentCache.getAllFromCollection(e,t.path,r).next(u=>(o=u,this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId))).next(u=>{u.forEach((g,y)=>{const I=y.getKey();null===o.get(I)&&(o=o.insert(I,Tn.newInvalidDocument(I)))});let d=If();return o.forEach((g,y)=>{const I=u.get(g);void 0!==I&&wf(I.mutation,y,gs.empty(),Mn.now()),T0(t,y)&&(d=d.insert(g,y))}),d})}getBaseDocument(e,t,r){return null===r||1===r.mutation.type?this.remoteDocumentCache.getEntry(e,t):le.resolve(Tn.newInvalidDocument(t))}}class SD{constructor(e){this.wt=e,this.Jn=new Map,this.Yn=new Map}getBundleMetadata(e,t){return le.resolve(this.Jn.get(t))}saveBundleMetadata(e,t){var r;return this.Jn.set(t.id,{id:(r=t).id,version:r.version,createTime:jr(r.createTime)}),le.resolve()}getNamedQuery(e,t){return le.resolve(this.Yn.get(t))}saveNamedQuery(e,t){return this.Yn.set(t.name,{name:(r=t).name,query:q0(r.bundledQuery),readTime:jr(r.readTime)}),le.resolve();var r}}class ib{constructor(){this.overlays=new sr(Xe.comparator),this.Xn=new Map}getOverlay(e,t){return le.resolve(this.overlays.get(t))}getOverlays(e,t){const r=na();return le.forEach(t,o=>this.getOverlay(e,o).next(u=>{null!==u&&r.set(o,u)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((o,u)=>{this.ie(e,t,u)}),le.resolve()}removeOverlaysForBatchId(e,t,r){const o=this.Xn.get(r);return void 0!==o&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Xn.delete(r)),le.resolve()}getOverlaysForCollection(e,t,r){const o=na(),u=t.length+1,d=new Xe(t.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const y=g.getNext().value,I=y.getKey();if(!t.isPrefixOf(I.path))break;I.path.length===u&&y.largestBatchId>r&&o.set(y.getKey(),y)}return le.resolve(o)}getOverlaysForCollectionGroup(e,t,r,o){let u=new sr((I,C)=>I-C);const d=this.overlays.getIterator();for(;d.hasNext();){const I=d.getNext().value;if(I.getKey().getCollectionGroup()===t&&I.largestBatchId>r){let C=u.get(I.largestBatchId);null===C&&(C=na(),u=u.insert(I.largestBatchId,C)),C.set(I.getKey(),I)}}const g=na(),y=u.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach((I,C)=>g.set(I,C)),!(g.size()>=o)););return le.resolve(g)}ie(e,t,r){const o=this.overlays.get(r.key);if(null!==o){const d=this.Xn.get(o.largestBatchId).delete(r.key);this.Xn.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new Bw(t,r));let u=this.Xn.get(t);void 0===u&&(u=Yt(),this.Xn.set(t,u)),this.Xn.set(t,u.add(r.key))}}class ny{constructor(){this.Zn=new wn(hn.ts),this.es=new wn(hn.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(e,t){const r=new hn(e,t);this.Zn=this.Zn.add(r),this.es=this.es.add(r)}ss(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.rs(new hn(e,t))}os(e,t){e.forEach(r=>this.removeReference(r,t))}us(e){const t=new Xe(new nn([])),r=new hn(t,e),o=new hn(t,e+1),u=[];return this.es.forEachInRange([r,o],d=>{this.rs(d),u.push(d.key)}),u}cs(){this.Zn.forEach(e=>this.rs(e))}rs(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}hs(e){const t=new Xe(new nn([])),r=new hn(t,e),o=new hn(t,e+1);let u=Yt();return this.es.forEachInRange([r,o],d=>{u=u.add(d.key)}),u}containsKey(e){const t=new hn(e,0),r=this.Zn.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class hn{constructor(e,t){this.key=e,this.ls=t}static ts(e,t){return Xe.comparator(e.key,t.key)||Ut(e.ls,t.ls)}static ns(e,t){return Ut(e.ls,t.ls)||Xe.comparator(e.key,t.key)}}class Ld{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.fs=1,this.ds=new wn(hn.ts)}checkEmpty(e){return le.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,o){const u=this.fs;this.fs++;const d=new H0(u,t,r,o);this.mutationQueue.push(d);for(const g of o)this.ds=this.ds.add(new hn(g.key,u)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return le.resolve(d)}lookupMutationBatch(e,t){return le.resolve(this._s(t))}getNextMutationBatchAfterBatchId(e,t){const o=this.ws(t+1),u=o<0?0:o;return le.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return le.resolve(0===this.mutationQueue.length?-1:this.fs-1)}getAllMutationBatches(e){return le.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new hn(t,0),o=new hn(t,Number.POSITIVE_INFINITY),u=[];return this.ds.forEachInRange([r,o],d=>{const g=this._s(d.ls);u.push(g)}),le.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new wn(Ut);return t.forEach(o=>{const u=new hn(o,0),d=new hn(o,Number.POSITIVE_INFINITY);this.ds.forEachInRange([u,d],g=>{r=r.add(g.ls)})}),le.resolve(this.gs(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1;let u=r;Xe.isDocumentKey(u)||(u=u.child(""));const d=new hn(new Xe(u),0);let g=new wn(Ut);return this.ds.forEachWhile(y=>{const I=y.key.path;return!!r.isPrefixOf(I)&&(I.length===o&&(g=g.add(y.ls)),!0)},d),le.resolve(this.gs(g))}gs(e){const t=[];return e.forEach(r=>{const o=this._s(r);null!==o&&t.push(o)}),t}removeMutationBatch(e,t){It(0===this.ys(t.batchId,"removed")),this.mutationQueue.shift();let r=this.ds;return le.forEach(t.mutations,o=>{const u=new hn(o.key,t.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.ds=r})}In(e){}containsKey(e,t){const r=new hn(t,0),o=this.ds.firstAfterOrEqual(r);return le.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return le.resolve()}ys(e,t){return this.ws(e)}ws(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}_s(e){const t=this.ws(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class MD{constructor(e){this.ps=e,this.docs=new sr(Xe.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,o=this.docs.get(r),u=o?o.size:0,d=this.ps(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:d}),this.size+=d-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return le.resolve(r?r.document.mutableCopy():Tn.newInvalidDocument(t))}getEntries(e,t){let r=Ii();return t.forEach(o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():Tn.newInvalidDocument(o))}),le.resolve(r)}getAllFromCollection(e,t,r){let o=Ii();const u=new Xe(t.child("")),d=this.docs.getIteratorFrom(u);for(;d.hasNext();){const{key:g,value:{document:y}}=d.getNext();if(!t.isPrefixOf(g.path))break;g.path.length>t.length+1||xg(c0(y),r)<=0||(o=o.insert(y.key,y.mutableCopy()))}return le.resolve(o)}getAllFromCollectionGroup(e,t,r,o){ot()}Is(e,t){return le.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new RD(this)}getSize(e){return le.resolve(this.size)}}class RD extends tb{constructor(e){super(),this.zn=e}applyChanges(e){const t=[];return this.changes.forEach((r,o)=>{o.isValidDocument()?t.push(this.zn.addEntry(e,o)):this.zn.removeEntry(r)}),le.waitFor(t)}getFromCache(e,t){return this.zn.getEntry(e,t)}getAllFromCache(e,t){return this.zn.getEntries(e,t)}}class FC{constructor(e){this.persistence=e,this.Ts=new qu(t=>Hu(t),wd),this.lastRemoteSnapshotVersion=St.min(),this.highestTargetId=0,this.Es=0,this.As=new ny,this.targetCount=0,this.Rs=Ku.An()}forEachTarget(e,t){return this.Ts.forEach((r,o)=>t(o)),le.resolve()}getLastRemoteSnapshotVersion(e){return le.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return le.resolve(this.Es)}allocateTargetId(e){return this.highestTargetId=this.Rs.next(),le.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Es&&(this.Es=t),le.resolve()}vn(e){this.Ts.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Rs=new Ku(t),this.highestTargetId=t),e.sequenceNumber>this.Es&&(this.Es=e.sequenceNumber)}addTargetData(e,t){return this.vn(t),this.targetCount+=1,le.resolve()}updateTargetData(e,t){return this.vn(t),le.resolve()}removeTargetData(e,t){return this.Ts.delete(t.target),this.As.us(t.targetId),this.targetCount-=1,le.resolve()}removeTargets(e,t,r){let o=0;const u=[];return this.Ts.forEach((d,g)=>{g.sequenceNumber<=t&&null===r.get(g.targetId)&&(this.Ts.delete(d),u.push(this.removeMatchingKeysForTargetId(e,g.targetId)),o++)}),le.waitFor(u).next(()=>o)}getTargetCount(e){return le.resolve(this.targetCount)}getTargetData(e,t){const r=this.Ts.get(t)||null;return le.resolve(r)}addMatchingKeys(e,t,r){return this.As.ss(t,r),le.resolve()}removeMatchingKeys(e,t,r){this.As.os(t,r);const o=this.persistence.referenceDelegate,u=[];return o&&t.forEach(d=>{u.push(o.markPotentiallyOrphaned(e,d))}),le.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.As.us(t),le.resolve()}getMatchingKeysForTargetId(e,t){const r=this.As.hs(t);return le.resolve(r)}containsKey(e,t){return le.resolve(this.As.containsKey(t))}}class PD{constructor(e,t){this.bs={},this.overlays={},this.Ps=new ps(0),this.vs=!1,this.vs=!0,this.referenceDelegate=e(this),this.Vs=new FC(this),this.indexManager=new ED,this.remoteDocumentCache=new MD(r=>this.referenceDelegate.Ss(r)),this.wt=new jw(t),this.Ds=new SD(this.wt)}start(){return Promise.resolve()}shutdown(){return this.vs=!1,Promise.resolve()}get started(){return this.vs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new ib,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.bs[e.toKey()];return r||(r=new Ld(t,this.referenceDelegate),this.bs[e.toKey()]=r),r}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ds}runTransaction(e,t,r){Be("MemoryPersistence","Starting transaction:",e);const o=new sb(this.Ps.next());return this.referenceDelegate.Cs(),r(o).next(u=>this.referenceDelegate.xs(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ns(e,t){return le.or(Object.values(this.bs).map(r=>()=>r.containsKey(e,t)))}}class sb extends d0{constructor(e){super(),this.currentSequenceNumber=e}}class Pf{constructor(e){this.persistence=e,this.ks=new ny,this.Ms=null}static Os(e){return new Pf(e)}get Fs(){if(this.Ms)return this.Ms;throw ot()}addReference(e,t,r){return this.ks.addReference(r,t),this.Fs.delete(r.toString()),le.resolve()}removeReference(e,t,r){return this.ks.removeReference(r,t),this.Fs.add(r.toString()),le.resolve()}markPotentiallyOrphaned(e,t){return this.Fs.add(t.toString()),le.resolve()}removeTarget(e,t){this.ks.us(t.targetId).forEach(o=>this.Fs.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(u=>this.Fs.add(u.toString()))}).next(()=>r.removeTargetData(e,t))}Cs(){this.Ms=new Set}xs(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return le.forEach(this.Fs,r=>{const o=Xe.fromPath(r);return this.$s(e,o).next(u=>{u||t.removeEntry(o,St.min())})}).next(()=>(this.Ms=null,t.apply(e)))}updateLimboDocument(e,t){return this.$s(e,t).next(r=>{r?this.Fs.delete(t.toString()):this.Fs.add(t.toString())})}Ss(e){return 0}$s(e,t){return le.or([()=>le.resolve(this.ks.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ns(e,t)])}}class Of{constructor(e){this.wt=e}M(e,t,r,o){const u=new wg("createOrUpgrade",t);var g;r<1&&o>=1&&(e.createObjectStore("owner"),(g=e).createObjectStore("mutationQueues",{keyPath:"userId"}),g.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",k0,{unique:!0}),g.createObjectStore("documentMutations"),ob(e),function(g){g.createObjectStore("remoteDocuments")}(e));let d=le.resolve();return r<3&&o>=3&&(0!==r&&(function(g){g.deleteObjectStore("targetDocuments"),g.deleteObjectStore("targets"),g.deleteObjectStore("targetGlobal")}(e),ob(e)),d=d.next(()=>function(g){const y=g.store("targetGlobal"),I={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:St.min().toTimestamp(),targetCount:0};return y.put("targetGlobalKey",I)}(u))),r<4&&o>=4&&(0!==r&&(d=d.next(()=>function(g,y){return y.store("mutations").K().next(I=>{g.deleteObjectStore("mutations"),g.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",k0,{unique:!0});const C=y.store("mutations"),R=I.map(V=>C.put(V));return le.waitFor(R)})}(e,u))),d=d.next(()=>{!function(g){g.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&o>=5&&(d=d.next(()=>this.Bs(u))),r<6&&o>=6&&(d=d.next(()=>(function(g){g.createObjectStore("remoteDocumentGlobal")}(e),this.Ls(u)))),r<7&&o>=7&&(d=d.next(()=>this.Us(u))),r<8&&o>=8&&(d=d.next(()=>this.qs(e,u))),r<9&&o>=9&&(d=d.next(()=>{!function(g){g.objectStoreNames.contains("remoteDocumentChanges")&&g.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&o>=10&&(d=d.next(()=>this.Ks(u))),r<11&&o>=11&&(d=d.next(()=>{(function(g){g.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(g){g.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&o>=12&&(d=d.next(()=>{!function(g){const y=g.createObjectStore("documentOverlays",{keyPath:mD});y.createIndex("collectionPathOverlayIndex",_D,{unique:!1}),y.createIndex("collectionGroupOverlayIndex",U0,{unique:!1})}(e)})),r<13&&o>=13&&(d=d.next(()=>function(g){const y=g.createObjectStore("remoteDocumentsV14",{keyPath:N0});y.createIndex("documentKeyIndex",hD),y.createIndex("collectionGroupIndex",fD)}(e)).next(()=>this.Gs(e,u)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&o>=14&&(d=d.next(()=>this.Qs(e,u))),r<15&&o>=15&&(d=d.next(()=>function(g){g.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),g.createObjectStore("indexState",{keyPath:Uw}).createIndex("sequenceNumberIndex",F0,{unique:!1}),g.createObjectStore("indexEntries",{keyPath:gD}).createIndex("documentKeyIndex",L0,{unique:!1})}(e))),d}Ls(e){let t=0;return e.store("remoteDocuments").J((r,o)=>{t+=ol(o)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Bs(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.K().next(o=>le.forEach(o,u=>{const d=IDBKeyRange.bound([u.userId,-1],[u.userId,u.lastAcknowledgedBatchId]);return r.K("userMutationsIndex",d).next(g=>le.forEach(g,y=>{It(y.userId===u.userId);const I=rl(this.wt,y);return Rf(e,u.userId,I).next(()=>{})}))}))}Us(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(o=>{const u=[];return r.J((d,g)=>{const y=new nn(d),I=[0,Ei(y)];u.push(t.get(I).next(C=>C?le.resolve():t.put({targetId:0,path:Ei(y),sequenceNumber:o.highestListenSequenceNumber})))}).next(()=>le.waitFor(u))})}qs(e,t){e.createObjectStore("collectionParents",{keyPath:NC});const r=t.store("collectionParents"),o=new sl,u=d=>{if(o.add(d)){const g=d.lastSegment(),y=d.popLast();return r.put({collectionId:g,parent:Ei(y)})}};return t.store("remoteDocuments").J({H:!0},(d,g)=>{const y=new nn(d);return u(y.popLast())}).next(()=>t.store("documentMutations").J({H:!0},([d,g,y],I)=>{const C=Vs(g);return u(C.popLast())}))}Ks(e){const t=e.store("targets");return t.J((r,o)=>{const u=Sf(o),d=$w(this.wt,u);return t.put(d)})}Gs(e,t){const r=t.store("remoteDocuments"),o=[];return r.J((u,d)=>{const g=t.store("remoteDocumentsV14"),y=(I=d,I.document?new Xe(nn.fromString(I.document.name).popFirst(5)):I.noDocument?Xe.fromSegments(I.noDocument.path):I.unknownDocument?Xe.fromSegments(I.unknownDocument.path):ot()).path.toArray();var I;const C={prefixPath:y.slice(0,y.length-2),collectionGroup:y[y.length-2],documentId:y[y.length-1],readTime:d.readTime||[0,0],unknownDocument:d.unknownDocument,noDocument:d.noDocument,document:d.document,hasCommittedMutations:!!d.hasCommittedMutations};o.push(g.put(C))}).next(()=>le.waitFor(o))}Qs(e,t){const r=t.store("mutations"),o=Q0(this.wt),u=new PD(Pf.Os,this.wt.ne);return r.K().next(d=>{const g=new Map;return d.forEach(y=>{var I;let C=null!==(I=g.get(y.userId))&&void 0!==I?I:Yt();rl(this.wt,y).keys().forEach(R=>C=C.add(R)),g.set(y.userId,C)}),le.forEach(g,(y,I)=>{const C=new ir(I),R=zu.se(this.wt,C),V=u.getIndexManager(C),J=Ug.se(C,this.wt,V,u.referenceDelegate);return new ty(o,J,R,V).recalculateAndSaveOverlaysForDocumentKeys(new $0(t,ps.ot),y).next()})})}}function ob(n){n.createObjectStore("targetDocuments",{keyPath:Lw}).createIndex("documentTargetsIndex",pD,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Pd,{unique:!0}),n.createObjectStore("targetGlobal")}const kf="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class ry{constructor(e,t,r,o,u,d,g,y,I,C,R=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.js=u,this.window=d,this.document=g,this.Ws=I,this.zs=C,this.Hs=R,this.Ps=null,this.vs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Js=null,this.inForeground=!1,this.Ys=null,this.Xs=null,this.Zs=Number.NEGATIVE_INFINITY,this.ti=V=>Promise.resolve(),!ry.V())throw new Pe(fe.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new CD(this,o),this.ei=t+"main",this.wt=new jw(y),this.ni=new fs(this.ei,this.Hs,new Of(this.wt)),this.Vs=new DD(this.referenceDelegate,this.wt),this.remoteDocumentCache=Q0(this.wt),this.Ds=new wD,this.window&&this.window.localStorage?this.si=this.window.localStorage:(this.si=null,!1===C&&Sn("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ii().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Pe(fe.FAILED_PRECONDITION,kf);return this.ri(),this.oi(),this.ui(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Vs.getHighestSequenceNumber(e))}).then(e=>{this.Ps=new ps(e,this.Ws)}).then(()=>{this.vs=!0}).catch(e=>(this.ni&&this.ni.close(),Promise.reject(e)))}ci(e){var t=this;return this.ti=function(){var r=(0,_e.Z)(function*(o){if(t.started)return e(o)});return function(o){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ni.F(function(){var t=(0,_e.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.js.enqueueAndForget((0,_e.Z)(function*(){t.started&&(yield t.ii())})))}ii(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>$g(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.ai(e).next(t=>{t||(this.isPrimary=!1,this.js.enqueueRetryable(()=>this.ti(!1)))})}).next(()=>this.hi(e)).next(t=>this.isPrimary&&!t?this.li(e).next(()=>!1):!!t&&this.fi(e).next(()=>!0))).catch(e=>{if(za(e))return Be("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Be("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.js.enqueueRetryable(()=>this.ti(e)),this.isPrimary=e})}ai(e){return Ud(e).get("owner").next(t=>le.resolve(this.di(t)))}_i(e){return $g(e).delete(this.clientId)}wi(){var e=this;return(0,_e.Z)(function*(){if(e.isPrimary&&!e.mi(e.Zs,18e5)){e.Zs=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const o=$r(r,"clientMetadata");return o.K().next(u=>{const d=e.gi(u,18e5),g=u.filter(y=>-1===d.indexOf(y));return le.forEach(g,y=>o.delete(y.clientId)).next(()=>g)})}).catch(()=>[]);if(e.si)for(const r of t)e.si.removeItem(e.yi(r.clientId))}})()}ui(){this.Xs=this.js.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ii().then(()=>this.wi()).then(()=>this.ui()))}di(e){return!!e&&e.ownerId===this.clientId}hi(e){return this.zs?le.resolve(!0):Ud(e).get("owner").next(t=>{if(null!==t&&this.mi(t.leaseTimestampMs,5e3)&&!this.pi(t.ownerId)){if(this.di(t)&&this.networkEnabled)return!0;if(!this.di(t)){if(!t.allowTabSynchronization)throw new Pe(fe.FAILED_PRECONDITION,kf);return!1}}return!(!this.networkEnabled||!this.inForeground)||$g(e).K().next(r=>void 0===this.gi(r,5e3).find(o=>{if(this.clientId!==o.clientId){const d=!this.inForeground&&o.inForeground,g=this.networkEnabled===o.networkEnabled;if(!this.networkEnabled&&o.networkEnabled||d&&g)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Be("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,_e.Z)(function*(){e.vs=!1,e.Ii(),e.Xs&&(e.Xs.cancel(),e.Xs=null),e.Ti(),e.Ei(),yield e.ni.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new $0(t,ps.ot);return e.li(r).next(()=>e._i(r))}),e.ni.close(),e.Ai()})()}gi(e,t){return e.filter(r=>this.mi(r.updateTimeMs,t)&&!this.pi(r.clientId))}Ri(){return this.runTransaction("getActiveClients","readonly",e=>$g(e).K().next(t=>this.gi(t,18e5).map(r=>r.clientId)))}get started(){return this.vs}getMutationQueue(e,t){return Ug.se(e,this.wt,t,this.referenceDelegate)}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new W0(e,this.wt.ne.databaseId)}getDocumentOverlayCache(e){return zu.se(this.wt,e)}getBundleCache(){return this.Ds}runTransaction(e,t,r){Be("IndexedDbPersistence","Starting transaction:",e);const o="readonly"===t?"readonly":"readwrite",u=15===(d=this.Hs)?yD:14===d?j0:13===d?B0:12===d?Vw:11===d?V0:void ot();var d;let g;return this.ni.runTransaction(e,o,u,y=>(g=new $0(y,this.Ps?this.Ps.next():ps.ot),"readwrite-primary"===t?this.ai(g).next(I=>!!I||this.hi(g)).next(I=>{if(!I)throw Sn(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.js.enqueueRetryable(()=>this.ti(!1)),new Pe(fe.FAILED_PRECONDITION,l0);return r(g)}).next(I=>this.fi(g).next(()=>I)):this.bi(g).next(()=>r(g)))).then(y=>(g.raiseOnCommittedEvent(),y))}bi(e){return Ud(e).get("owner").next(t=>{if(null!==t&&this.mi(t.leaseTimestampMs,5e3)&&!this.pi(t.ownerId)&&!this.di(t)&&!(this.zs||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Pe(fe.FAILED_PRECONDITION,kf)})}fi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Ud(e).put("owner",t)}static V(){return fs.V()}li(e){const t=Ud(e);return t.get("owner").next(r=>this.di(r)?(Be("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):le.resolve())}mi(e,t){const r=Date.now();return!(e<r-t||e>r&&(Sn(`Detected an update time that is in the future: ${e} > ${r}`),1))}ri(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ys=()=>{this.js.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ii()))},this.document.addEventListener("visibilitychange",this.Ys),this.inForeground="visible"===this.document.visibilityState)}Ti(){this.Ys&&(this.document.removeEventListener("visibilitychange",this.Ys),this.Ys=null)}oi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Js=()=>{this.Ii(),(0,Ot.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.js.enterRestrictedMode(!0),this.js.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Js))}Ei(){this.Js&&(this.window.removeEventListener("pagehide",this.Js),this.Js=null)}pi(e){var t;try{const r=null!==(null===(t=this.si)||void 0===t?void 0:t.getItem(this.yi(e)));return Be("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Sn("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ii(){if(this.si)try{this.si.setItem(this.yi(this.clientId),String(Date.now()))}catch(e){Sn("Failed to set zombie client id.",e)}}Ai(){if(this.si)try{this.si.removeItem(this.yi(this.clientId))}catch{}}yi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Ud(n){return $r(n,"owner")}function $g(n){return $r(n,"clientMetadata")}function iy(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class Yu{constructor(e,t,r,o){this.targetId=e,this.fromCache=t,this.Pi=r,this.vi=o}static Vi(e,t){let r=Yt(),o=Yt();for(const u of t.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Yu(e,t.fromCache,r,o)}}class ab{constructor(){this.Si=!1}initialize(e,t){this.Di=e,this.indexManager=t,this.Si=!0}getDocumentsMatchingQuery(e,t,r,o){return this.Ci(e,t).next(u=>u||this.xi(e,t,o,r)).next(u=>u||this.Ni(e,t))}Ci(e,t){if(E0(t))return le.resolve(null);let r=bi(t);return this.indexManager.getIndexType(e,r).next(o=>0===o?null:(null!==t.limit&&1===o&&(t=mf(t,null,"F"),r=bi(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(u=>{const d=Yt(...u);return this.Di.getDocuments(e,d).next(g=>this.indexManager.getMinOffset(e,r).next(y=>{const I=this.ki(t,g);return this.Mi(t,I,d,y.readTime)?this.Ci(e,mf(t,null,"F")):this.Oi(e,I,t,y)}))})))}xi(e,t,r,o){return E0(t)||o.isEqual(St.min())?this.Ni(e,t):this.Di.getDocuments(e,r).next(u=>{const d=this.ki(t,u);return this.Mi(t,d,r,o)?this.Ni(e,t):(ld()<=Au.in.DEBUG&&Be("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ka(t)),this.Oi(e,d,t,vg(o,-1)))})}ki(e,t){let r=new wn(Gc(e));return t.forEach((o,u)=>{T0(e,u)&&(r=r.add(u))}),r}Mi(e,t,r,o){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const u="F"===e.limitType?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ni(e,t){return ld()<=Au.in.DEBUG&&Be("QueryEngine","Using full collection scan to execute query:",Ka(t)),this.Di.getDocumentsMatchingQuery(e,t,hs.min())}Oi(e,t,r,o){return this.Di.getDocumentsMatchingQuery(e,r,o).next(u=>(t.forEach(d=>{u=u.insert(d.key,d)}),u))}}class sy{constructor(e,t,r,o){this.persistence=e,this.Fi=t,this.wt=o,this.$i=new sr(Ut),this.Bi=new qu(u=>Hu(u),wd),this.Li=new Map,this.Ui=e.getRemoteDocumentCache(),this.Vs=e.getTargetCache(),this.Ds=e.getBundleCache(),this.qi(r)}qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ty(this.Ui,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ui.setIndexManager(this.indexManager),this.Fi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.$i))}}function oy(n,e,t,r){return new sy(n,e,t,r)}function ay(n,e){return Vd.apply(this,arguments)}function Vd(){return Vd=(0,_e.Z)(function*(n,e){const t=Je(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let o;return t.mutationQueue.getAllMutationBatches(r).next(u=>(o=u,t.qi(e),t.mutationQueue.getAllMutationBatches(r))).next(u=>{const d=[],g=[];let y=Yt();for(const I of o){d.push(I.batchId);for(const C of I.mutations)y=y.add(C.key)}for(const I of u){g.push(I.batchId);for(const C of I.mutations)y=y.add(C.key)}return t.localDocuments.getDocuments(r,y).next(I=>({Ki:I,removedBatchIds:d,addedBatchIds:g}))})})}),Vd.apply(this,arguments)}function uy(n,e){const t=Je(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=e.batch.keys(),u=t.Ui.newChangeBuffer({trackRemovals:!0});return function(d,g,y,I){const C=y.batch,R=C.keys();let V=le.resolve();return R.forEach(J=>{V=V.next(()=>I.getEntry(g,J)).next(ie=>{const Oe=y.docVersions.get(J);It(null!==Oe),ie.version.compareTo(Oe)<0&&(C.applyToRemoteDocument(ie,y),ie.isValidDocument()&&(ie.setReadTime(y.commitVersion),I.addEntry(ie)))})}),V.next(()=>d.mutationQueue.removeMutationBatch(g,C))}(t,r,e,u).next(()=>u.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(d){let g=Yt();for(let y=0;y<d.mutationResults.length;++y)d.mutationResults[y].transformResults.length>0&&(g=g.add(d.batch.mutations[y].key));return g}(e))).next(()=>t.localDocuments.getDocuments(r,o))})}function OD(n){const e=Je(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Vs.getLastRemoteSnapshotVersion(t))}function ub(n,e){const t=Je(n),r=e.snapshotVersion;let o=t.$i;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const d=t.Ui.newChangeBuffer({trackRemovals:!0});o=t.$i;const g=[];e.targetChanges.forEach((C,R)=>{const V=o.get(R);if(!V)return;g.push(t.Vs.removeMatchingKeys(u,C.removedDocuments,R).next(()=>t.Vs.addMatchingKeys(u,C.addedDocuments,R)));let J=V.withSequenceNumber(u.currentSequenceNumber);var ie,Oe,Fe;e.targetMismatches.has(R)?J=J.withResumeToken(xr.EMPTY_BYTE_STRING,St.min()).withLastLimboFreeSnapshotVersion(St.min()):C.resumeToken.approximateByteSize()>0&&(J=J.withResumeToken(C.resumeToken,r)),o=o.insert(R,J),Oe=J,Fe=C,(0===(ie=V).resumeToken.approximateByteSize()||Oe.snapshotVersion.toMicroseconds()-ie.snapshotVersion.toMicroseconds()>=3e8||Fe.addedDocuments.size+Fe.modifiedDocuments.size+Fe.removedDocuments.size>0)&&g.push(t.Vs.updateTargetData(u,J))});let y=Ii(),I=Yt();if(e.documentUpdates.forEach(C=>{e.resolvedLimboDocuments.has(C)&&g.push(t.persistence.referenceDelegate.updateLimboDocument(u,C))}),g.push(cb(u,d,e.documentUpdates).next(C=>{y=C.Gi,I=C.Qi})),!r.isEqual(St.min())){const C=t.Vs.getLastRemoteSnapshotVersion(u).next(R=>t.Vs.setTargetsMetadata(u,u.currentSequenceNumber,r));g.push(C)}return le.waitFor(g).next(()=>d.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,y,I)).next(()=>y)}).then(u=>(t.$i=o,u))}function cb(n,e,t){let r=Yt(),o=Yt();return t.forEach(u=>r=r.add(u)),e.getEntries(n,r).next(u=>{let d=Ii();return t.forEach((g,y)=>{const I=u.get(g);y.isFoundDocument()!==I.isFoundDocument()&&(o=o.add(g)),y.isNoDocument()&&y.version.isEqual(St.min())?(e.removeEntry(g,y.readTime),d=d.insert(g,y)):!I.isValidDocument()||y.version.compareTo(I.version)>0||0===y.version.compareTo(I.version)&&I.hasPendingWrites?(e.addEntry(y),d=d.insert(g,y)):Be("LocalStore","Ignoring outdated watch update for ",g,". Current version:",I.version," Watch version:",y.version)}),{Gi:d,Qi:o}})}function lb(n,e){const t=Je(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function _o(n,e){const t=Je(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return t.Vs.getTargetData(r,e).next(u=>u?(o=u,le.resolve(o)):t.Vs.allocateTargetId(r).next(d=>(o=new Ja(e,d,0,r.currentSequenceNumber),t.Vs.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=t.$i.get(r.targetId);return(null===o||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.$i=t.$i.insert(r.targetId,r),t.Bi.set(e,r.targetId)),r})}function Bd(n,e,t){return Hg.apply(this,arguments)}function Hg(){return Hg=(0,_e.Z)(function*(n,e,t){const r=Je(n),o=r.$i.get(e),u=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",u,d=>r.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!za(d))throw d;Be("LocalStore",`Failed to update sequence numbers for target ${e}: ${d}`)}r.$i=r.$i.remove(e),r.Bi.delete(o.target)}),Hg.apply(this,arguments)}function jd(n,e,t){const r=Je(n);let o=St.min(),u=Yt();return r.persistence.runTransaction("Execute query","readonly",d=>function(g,y,I){const C=Je(g),R=C.Bi.get(I);return void 0!==R?le.resolve(C.$i.get(R)):C.Vs.getTargetData(y,I)}(r,d,bi(e)).next(g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,r.Vs.getMatchingKeysForTargetId(d,g.targetId).next(y=>{u=y})}).next(()=>r.Fi.getDocumentsMatchingQuery(d,e,t?o:St.min(),t?u:Yt())).next(g=>(ND(r,lw(e),g),{documents:g,ji:u})))}function kD(n,e){const t=Je(n),r=Je(t.Vs),o=t.$i.get(e);return o?Promise.resolve(o.target):t.persistence.runTransaction("Get target data","readonly",u=>r.te(u,e).next(d=>d?d.target:null))}function db(n,e){const t=Je(n),r=t.Li.get(e)||St.min();return t.persistence.runTransaction("Get new document changes","readonly",o=>t.Ui.getAllFromCollectionGroup(o,e,vg(r,-1),Number.MAX_SAFE_INTEGER)).then(o=>(ND(t,e,o),o))}function ND(n,e,t){let r=St.min();t.forEach((o,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)}),n.Li.set(e,r)}function cy(){return cy=(0,_e.Z)(function*(n,e,t,r){const o=Je(n);let u=Yt(),d=Ii();for(const I of t){const C=e.Wi(I.metadata.name);I.document&&(u=u.add(C));const R=e.zi(I);R.setReadTime(e.Hi(I.metadata.readTime)),d=d.insert(C,R)}const g=o.Ui.newChangeBuffer({trackRemovals:!0}),y=yield _o(o,(I=r,bi(qc(nn.fromString(`__bundle__/docs/${I}`)))));var I;return o.persistence.runTransaction("Apply bundle documents","readwrite",I=>cb(I,g,d).next(C=>(g.apply(I),C)).next(C=>o.Vs.removeMatchingKeysForTargetId(I,y.targetId).next(()=>o.Vs.addMatchingKeys(I,u,y.targetId)).next(()=>o.localDocuments.getLocalViewOfDocuments(I,C.Gi,C.Qi)).next(()=>C.Gi)))}),cy.apply(this,arguments)}function LD(n,e){return Zg.apply(this,arguments)}function Zg(){return Zg=(0,_e.Z)(function*(n,e,t=Yt()){const r=yield _o(n,bi(q0(e.bundledQuery))),o=Je(n);return o.persistence.runTransaction("Save named query","readwrite",u=>{const d=jr(e.readTime);if(r.snapshotVersion.compareTo(d)>=0)return o.Ds.saveNamedQuery(u,e);const g=r.withResumeToken(xr.EMPTY_BYTE_STRING,d);return o.$i=o.$i.insert(g.targetId,g),o.Vs.updateTargetData(u,g).next(()=>o.Vs.removeMatchingKeysForTargetId(u,r.targetId)).next(()=>o.Vs.addMatchingKeys(u,t,r.targetId)).next(()=>o.Ds.saveNamedQuery(u,e))})}),Zg.apply(this,arguments)}function ly(n,e){return`firestore_clients_${n}_${e}`}function hb(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function qg(n,e){return`firestore_targets_${n}_${e}`}class Nf{constructor(e,t,r,o){this.user=e,this.batchId=t,this.state=r,this.error=o}static Ji(e,t,r){const o=JSON.parse(r);let u,d="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return d&&o.error&&(d="string"==typeof o.error.message&&"string"==typeof o.error.code,d&&(u=new Pe(o.error.code,o.error.message))),d?new Nf(e,t,o.state,u):(Sn("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Ff{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Ji(e,t){const r=JSON.parse(t);let o,u="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return u&&r.error&&(u="string"==typeof r.error.message&&"string"==typeof r.error.code,u&&(o=new Pe(r.error.code,r.error.message))),u?new Ff(e,r.state,o):(Sn("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class zg{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ji(e,t){const r=JSON.parse(t);let o="object"==typeof r&&r.activeTargetIds instanceof Array,u=Jc();for(let d=0;o&&d<r.activeTargetIds.length;++d)o=Xx(r.activeTargetIds[d]),u=u.add(r.activeTargetIds[d]);return o?new zg(e,u):(Sn("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class Gg{constructor(e,t){this.clientId=e,this.onlineState=t}static Ji(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Gg(t.clientId,t.onlineState):(Sn("SharedClientState",`Failed to parse online state: ${e}`),null)}}class dy{constructor(){this.activeTargetIds=Jc()}Xi(e){this.activeTargetIds=this.activeTargetIds.add(e)}Zi(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Yi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Wg{constructor(e,t,r,o,u){this.window=e,this.js=t,this.persistenceKey=r,this.tr=o,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new sr(Ut),this.started=!1,this.ir=[];const d=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=u,this.rr=ly(this.persistenceKey,this.tr),this.ur=`firestore_sequence_number_${this.persistenceKey}`,this.sr=this.sr.insert(this.tr,new dy),this.cr=new RegExp(`^firestore_clients_${d}_([^_]*)$`),this.ar=new RegExp(`^firestore_mutations_${d}_(\\d+)(?:_(.*))?$`),this.hr=new RegExp(`^firestore_targets_${d}_(\\d+)$`),this.lr=`firestore_online_state_${this.persistenceKey}`,this.dr=function(g){return`firestore_bundle_loaded_v2_${g}`}(this.persistenceKey),this.window.addEventListener("storage",this.er)}static V(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,_e.Z)(function*(){const t=yield e.syncEngine.Ri();for(const o of t){if(o===e.tr)continue;const u=e.getItem(ly(e.persistenceKey,o));if(u){const d=zg.Ji(o,u);d&&(e.sr=e.sr.insert(d.clientId,d))}}e._r();const r=e.storage.getItem(e.lr);if(r){const o=e.wr(r);o&&e.mr(o)}for(const o of e.ir)e.nr(o);e.ir=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ur,JSON.stringify(e))}getAllActiveQueryTargets(){return this.gr(this.sr)}isActiveQueryTarget(e){let t=!1;return this.sr.forEach((r,o)=>{o.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.yr(e,"pending")}updateMutationState(e,t,r){this.yr(e,t,r),this.pr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(qg(this.persistenceKey,e));if(r){const o=Ff.Ji(e,r);o&&(t=o.state)}}return this.Ir.Xi(e),this._r(),t}removeLocalQueryTarget(e){this.Ir.Zi(e),this._r()}isLocalQueryTarget(e){return this.Ir.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(qg(this.persistenceKey,e))}updateQueryState(e,t,r){this.Tr(e,t,r)}handleUserChange(e,t,r){t.forEach(o=>{this.pr(o)}),this.currentUser=e,r.forEach(o=>{this.addPendingMutation(o)})}setOnlineState(e){this.Er(e)}notifyBundleLoaded(e){this.Ar(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Be("SharedClientState","READ",e,t),t}setItem(e,t){Be("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Be("SharedClientState","REMOVE",e),this.storage.removeItem(e)}nr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Be("SharedClientState","EVENT",r.key,r.newValue),r.key===this.rr)return void Sn("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.js.enqueueRetryable((0,_e.Z)(function*(){if(t.started){if(null!==r.key)if(t.cr.test(r.key)){if(null==r.newValue){const o=t.Rr(r.key);return t.br(o,null)}{const o=t.Pr(r.key,r.newValue);if(o)return t.br(o.clientId,o)}}else if(t.ar.test(r.key)){if(null!==r.newValue){const o=t.vr(r.key,r.newValue);if(o)return t.Vr(o)}}else if(t.hr.test(r.key)){if(null!==r.newValue){const o=t.Sr(r.key,r.newValue);if(o)return t.Dr(o)}}else if(r.key===t.lr){if(null!==r.newValue){const o=t.wr(r.newValue);if(o)return t.mr(o)}}else if(r.key===t.ur){const o=function(u){let d=ps.ot;if(null!=u)try{const g=JSON.parse(u);It("number"==typeof g),d=g}catch(g){Sn("SharedClientState","Failed to read sequence number from WebStorage",g)}return d}(r.newValue);o!==ps.ot&&t.sequenceNumberHandler(o)}else if(r.key===t.dr){const o=t.Cr(r.newValue);yield Promise.all(o.map(u=>t.syncEngine.Nr(u)))}}else t.ir.push(r)}))}}get Ir(){return this.sr.get(this.tr)}_r(){this.setItem(this.rr,this.Ir.Yi())}yr(e,t,r){const o=new Nf(this.currentUser,e,t,r),u=hb(this.persistenceKey,this.currentUser,e);this.setItem(u,o.Yi())}pr(e){const t=hb(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Er(e){this.storage.setItem(this.lr,JSON.stringify({clientId:this.tr,onlineState:e}))}Tr(e,t,r){const o=qg(this.persistenceKey,e),u=new Ff(e,t,r);this.setItem(o,u.Yi())}Ar(e){const t=JSON.stringify(Array.from(e));this.setItem(this.dr,t)}Rr(e){const t=this.cr.exec(e);return t?t[1]:null}Pr(e,t){const r=this.Rr(e);return zg.Ji(r,t)}vr(e,t){const r=this.ar.exec(e),o=Number(r[1]);return Nf.Ji(new ir(void 0!==r[2]?r[2]:null),o,t)}Sr(e,t){const r=this.hr.exec(e),o=Number(r[1]);return Ff.Ji(o,t)}wr(e){return Gg.Ji(e)}Cr(e){return JSON.parse(e)}Vr(e){var t=this;return(0,_e.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.kr(e.batchId,e.state,e.error);Be("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Dr(e){return this.syncEngine.Mr(e.targetId,e.state,e.error)}br(e,t){const r=t?this.sr.insert(e,t):this.sr.remove(e),o=this.gr(this.sr),u=this.gr(r),d=[],g=[];return u.forEach(y=>{o.has(y)||d.push(y)}),o.forEach(y=>{u.has(y)||g.push(y)}),this.syncEngine.Or(d,g).then(()=>{this.sr=r})}mr(e){this.sr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}gr(e){let t=Jc();return e.forEach((r,o)=>{t=t.unionWith(o.activeTargetIds)}),t}}class hy{constructor(){this.Fr=new dy,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}updateQueryState(e,t,r){this.$r[e]=t}removeLocalQueryTarget(e){this.Fr.Zi(e)}isLocalQueryTarget(e){return this.Fr.activeTargetIds.has(e)}clearQueryState(e){delete this.$r[e]}getAllActiveQueryTargets(){return this.Fr.activeTargetIds}isActiveQueryTarget(e){return this.Fr.activeTargetIds.has(e)}start(){return this.Fr=new dy,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class fb{Br(e){}shutdown(){}}class fy{constructor(){this.Lr=()=>this.Ur(),this.qr=()=>this.Kr(),this.Gr=[],this.Qr()}Br(e){this.Gr.push(e)}shutdown(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}Qr(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}Ur(){Be("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Gr)e(0)}Kr(){Be("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Gr)e(1)}static V(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const UD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class VD{constructor(e){this.jr=e.jr,this.Wr=e.Wr}zr(e){this.Hr=e}Jr(e){this.Yr=e}onMessage(e){this.Xr=e}close(){this.Wr()}send(e){this.jr(e)}Zr(){this.Hr()}eo(e){this.Yr(e)}no(e){this.Xr(e)}}class LC extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.so=(e.ssl?"https":"http")+"://"+e.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}ro(e,t,r,o,u){const d=this.oo(e,t);Be("RestConnection","Sending: ",d,r);const g={};return this.uo(g,o,u),this.co(e,d,g,r).then(y=>(Be("RestConnection","Received: ",y),y),y=>{throw Us("RestConnection",`${e} failed with error: `,y,"url: ",d,"request:",r),y})}ao(e,t,r,o,u,d){return this.ro(e,t,r,o,u)}uo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+mr,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,u)=>e[u]=o),r&&r.headers.forEach((o,u)=>e[u]=o)}oo(e,t){return`${this.so}/v1/${t}:${UD[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}co(e,t,r,o){return new Promise((u,d)=>{const g=new FE;g.listenOnce(SC.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case qa.NO_ERROR:const I=g.getResponseJson();Be("Connection","XHR received:",JSON.stringify(I)),u(I);break;case qa.TIMEOUT:Be("Connection",'RPC "'+e+'" timed out'),d(new Pe(fe.DEADLINE_EXCEEDED,"Request time out"));break;case qa.HTTP_ERROR:const C=g.getStatus();if(Be("Connection",'RPC "'+e+'" failed with status:',C,"response text:",g.getResponseText()),C>0){const R=g.getResponseJson().error;if(R&&R.status&&R.message){const V=function(J){const ie=J.toLowerCase().replace(/_/g,"-");return Object.values(fe).indexOf(ie)>=0?ie:fe.UNKNOWN}(R.status);d(new Pe(V,R.message))}else d(new Pe(fe.UNKNOWN,"Server responded with status "+g.getStatus()))}else d(new Pe(fe.UNAVAILABLE,"Connection failed."));break;default:ot()}}finally{Be("Connection",'RPC "'+e+'" completed.')}});const y=JSON.stringify(o);g.send(t,"POST",y,r,15)})}ho(e,t,r){const o=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=kE(),d=_g(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(g.xmlHttpFactory=new NE({})),this.uo(g.initMessageHeaders,t,r),(0,Ot.uI)()||(0,Ot.b$)()||(0,Ot.d)()||(0,Ot.w1)()||(0,Ot.Mn)()||(0,Ot.ru)()||(g.httpHeadersOverwriteParam="$httpHeaders");const y=o.join("");Be("Connection","Creating WebChannel: "+y,g);const I=u.createWebChannel(y,g);let C=!1,R=!1;const V=new VD({jr:ie=>{R?Be("Connection","Not sending because WebChannel is closed:",ie):(C||(Be("Connection","Opening WebChannel transport."),I.open(),C=!0),Be("Connection","WebChannel sending:",ie),I.send(ie))},Wr:()=>I.close()}),J=(ie,Oe,Fe)=>{ie.listen(Oe,xt=>{try{Fe(xt)}catch(Et){setTimeout(()=>{throw Et},0)}})};return J(I,cd.EventType.OPEN,()=>{R||Be("Connection","WebChannel transport opened.")}),J(I,cd.EventType.CLOSE,()=>{R||(R=!0,Be("Connection","WebChannel transport closed"),V.eo())}),J(I,cd.EventType.ERROR,ie=>{R||(R=!0,Us("Connection","WebChannel transport errored:",ie),V.eo(new Pe(fe.UNAVAILABLE,"The operation could not be completed")))}),J(I,cd.EventType.MESSAGE,ie=>{var Oe;if(!R){const Fe=ie.data[0];It(!!Fe);const xt=Fe,Et=xt.error||(null===(Oe=xt[0])||void 0===Oe?void 0:Oe.error);if(Et){Be("Connection","WebChannel received error:",Et);const wt=Et.status;let lt=function(Gt){const _r=Hn[Gt];if(void 0!==_r)return gw(_r)}(wt),Mt=Et.message;void 0===lt&&(lt=fe.INTERNAL,Mt="Unknown error status: "+wt+" with message "+Et.message),R=!0,V.eo(new Pe(lt,Mt)),I.close()}else Be("Connection","WebChannel received:",Fe),V.no(Fe)}}),J(d,uf.STAT_EVENT,ie=>{ie.stat===Fx.PROXY?Be("Connection","Detected buffering proxy"):ie.stat===Fx.NOPROXY&&Be("Connection","Detected no buffering proxy")}),setTimeout(()=>{V.Zr()},0),V}}function py(){return typeof window<"u"?window:null}function gy(){return typeof document<"u"?document:null}function Kg(n){return new nD(n,!0)}class pb{constructor(e,t,r=1e3,o=1.5,u=6e4){this.js=e,this.timerId=t,this.lo=r,this.fo=o,this._o=u,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}reset(){this.wo=0}po(){this.wo=this._o}Io(e){this.cancel();const t=Math.floor(this.wo+this.To()),r=Math.max(0,Date.now()-this.yo),o=Math.max(0,t-r);o>0&&Be("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.wo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.mo=this.js.enqueueAfterDelay(this.timerId,o,()=>(this.yo=Date.now(),e())),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}Eo(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}cancel(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}To(){return(Math.random()-.5)*this.wo}}class BD{constructor(e,t,r,o,u,d,g,y){this.js=e,this.Ao=r,this.Ro=o,this.bo=u,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=y,this.state=0,this.Po=0,this.vo=null,this.Vo=null,this.stream=null,this.So=new pb(e,t)}Do(){return 1===this.state||5===this.state||this.Co()}Co(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.xo()}stop(){var e=this;return(0,_e.Z)(function*(){e.Do()&&(yield e.close(0))})()}No(){this.state=0,this.So.reset()}ko(){this.Co()&&null===this.vo&&(this.vo=this.js.enqueueAfterDelay(this.Ao,6e4,()=>this.Mo()))}Oo(e){this.Fo(),this.stream.send(e)}Mo(){var e=this;return(0,_e.Z)(function*(){if(e.Co())return e.close(0)})()}Fo(){this.vo&&(this.vo.cancel(),this.vo=null)}$o(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}close(e,t){var r=this;return(0,_e.Z)(function*(){r.Fo(),r.$o(),r.So.cancel(),r.Po++,4!==e?r.So.reset():t&&t.code===fe.RESOURCE_EXHAUSTED?(Sn(t.toString()),Sn("Using maximum backoff delay to prevent overloading the backend."),r.So.po()):t&&t.code===fe.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Bo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Jr(t)})()}Bo(){}auth(){this.state=1;const e=this.Lo(this.Po),t=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.Po===t&&this.Uo(r,o)},r=>{e(()=>{const o=new Pe(fe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.qo(o)})})}Uo(e,t){const r=this.Lo(this.Po);this.stream=this.Ko(e,t),this.stream.zr(()=>{r(()=>(this.state=2,this.Vo=this.js.enqueueAfterDelay(this.Ro,1e4,()=>(this.Co()&&(this.state=3),Promise.resolve())),this.listener.zr()))}),this.stream.Jr(o=>{r(()=>this.qo(o))}),this.stream.onMessage(o=>{r(()=>this.onMessage(o))})}xo(){var e=this;this.state=5,this.So.Io((0,_e.Z)(function*(){e.state=0,e.start()}))}qo(e){return Be("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Lo(e){return t=>{this.js.enqueueAndForget(()=>this.Po===e?t():(Be("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class UC extends BD{constructor(e,t,r,o,u,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,o,d),this.wt=u}Ko(e,t){return this.bo.ho("Listen",e,t)}onMessage(e){this.So.reset();const t=function O0(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(y=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===y?1:"REMOVE"===y?2:"CURRENT"===y?3:"RESET"===y?4:ot(),o=e.targetChange.targetIds||[],u=function(y,I){return y.dt?(It(void 0===I||"string"==typeof I),xr.fromBase64String(I||"")):(It(void 0===I||I instanceof Uint8Array),xr.fromUint8Array(I||new Uint8Array))}(n,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&function(y){const I=void 0===y.code?fe.UNKNOWN:gw(y.code);return new Pe(I,y.message||"")}(d);t=new vw(r,o,u,g||null)}else if("documentChange"in e){const r=e.documentChange,o=ia(n,r.document.name),u=jr(r.document.updateTime),d=new Cr({mapValue:{fields:r.document.fields}}),g=Tn.newFoundDocument(o,u,d);t=new Tf(r.targetIds||[],r.removedTargetIds||[],g.key,g)}else if("documentDelete"in e){const r=e.documentDelete,o=ia(n,r.document),u=r.readTime?jr(r.readTime):St.min(),d=Tn.newNoDocument(o,u);t=new Tf([],r.removedTargetIds||[],d.key,d)}else if("documentRemove"in e){const r=e.documentRemove,o=ia(n,r.document);t=new Tf([],r.removedTargetIds||[],o,null)}else{if(!("filter"in e))return ot();{const r=e.filter,u=new XE(r.count||0);t=new Ad(r.targetId,u)}}var y;return t}(this.wt,e),r=function(o){if(!("targetChange"in o))return St.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?St.min():u.readTime?jr(u.readTime):St.min()}(e);return this.listener.Go(t,r)}Qo(e){const t={};t.database=Md(this.wt),t.addTarget=function(o,u){let d;const g=u.target;return d=gf(g)?{documents:Mw(o,g)}:{query:Rw(o,g)},d.targetId=u.targetId,u.resumeToken.approximateByteSize()>0?d.resumeToken=Ew(o,u.resumeToken):u.snapshotVersion.compareTo(St.min())>0&&(d.readTime=ra(o,u.snapshotVersion.toTimestamp())),d}(this.wt,e);const r=function sD(n,e){const t=function(r,o){switch(o){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ot()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Oo(t)}jo(e){const t={};t.database=Md(this.wt),t.removeTarget=e,this.Oo(t)}}class VC extends BD{constructor(e,t,r,o,u,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,o,d),this.wt=u,this.Wo=!1}get zo(){return this.Wo}start(){this.Wo=!1,this.lastStreamToken=void 0,super.start()}Bo(){this.Wo&&this.Ho([])}Ko(e,t){return this.bo.ho("Write",e,t)}onMessage(e){if(It(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Wo){this.So.reset();const t=function iD(n,e){return n&&n.length>0?(It(void 0!==e),n.map(t=>function(r,o){let u=jr(r.updateTime?r.updateTime:o);return u.isEqual(St.min())&&(u=jr(o)),new YE(u,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=jr(e.commitTime);return this.listener.Jo(r,t)}return It(!e.writeResults||0===e.writeResults.length),this.Wo=!0,this.listener.Yo()}Xo(){const e={};e.database=Md(this.wt),this.Oo(e)}Ho(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>Af(this.wt,r))};this.Oo(t)}}class BC extends class{}{constructor(e,t,r,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.bo=r,this.wt=o,this.Zo=!1}tu(){if(this.Zo)throw new Pe(fe.FAILED_PRECONDITION,"The client has already been terminated.")}ro(e,t,r){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.bo.ro(e,t,r,o,u)).catch(o=>{throw"FirebaseError"===o.name?(o.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Pe(fe.UNKNOWN,o.toString())})}ao(e,t,r,o){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,d])=>this.bo.ao(e,t,r,u,d,o)).catch(u=>{throw"FirebaseError"===u.name?(u.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Pe(fe.UNKNOWN,u.toString())})}terminate(){this.Zo=!0}}class jC{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}iu(){0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.nu=null,this.ou("Backend didn't respond within 10 seconds."),this.ru("Offline"),Promise.resolve())))}uu(e){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.cu(),this.ou(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ru("Offline")))}set(e){this.cu(),this.eu=0,"Online"===e&&(this.su=!1),this.ru(e)}ru(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ou(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.su?(Sn(t),this.su=!1):Be("OnlineStateTracker",t)}cu(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}class Yg{constructor(e,t,r,o,u){var d=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.au=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=u,this.du.Br(g=>{r.enqueueAndForget((0,_e.Z)(function*(){var y;cl(d)&&(Be("RemoteStore","Restarting streams for network reachability change."),yield(y=(0,_e.Z)(function*(I){const C=Je(I);C.lu.add(4),yield tu(C),C._u.set("Unknown"),C.lu.delete(4),yield Qg(C)}),function(I){return y.apply(this,arguments)})(d))}))}),this._u=new jC(r,o)}}function Qg(n){return Jg.apply(this,arguments)}function Jg(){return Jg=(0,_e.Z)(function*(n){if(cl(n))for(const e of n.fu)yield e(!0)}),Jg.apply(this,arguments)}function tu(n){return Xg.apply(this,arguments)}function Xg(){return Xg=(0,_e.Z)(function*(n){for(const e of n.fu)yield e(!1)}),Xg.apply(this,arguments)}function Lf(n,e){const t=Je(n);t.hu.has(e.targetId)||(t.hu.set(e.targetId,e),tm(t)?_y(t):Hd(t).Co()&&Uf(t,e))}function em(n,e){const t=Je(n),r=Hd(t);t.hu.delete(e),r.Co()&&my(t,e),0===t.hu.size&&(r.Co()?r.ko():cl(t)&&t._u.set("Unknown"))}function Uf(n,e){n.wu.Nt(e.targetId),Hd(n).Qo(e)}function my(n,e){n.wu.Nt(e),Hd(n).jo(e)}function _y(n){n.wu=new eD({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),te:e=>n.hu.get(e)||null}),Hd(n).start(),n._u.iu()}function tm(n){return cl(n)&&!Hd(n).Do()&&n.hu.size>0}function cl(n){return 0===Je(n).lu.size}function jD(n){n.wu=void 0}function $D(n){return yy.apply(this,arguments)}function yy(){return yy=(0,_e.Z)(function*(n){n.hu.forEach((e,t)=>{Uf(n,e)})}),yy.apply(this,arguments)}function nm(n,e){return vy.apply(this,arguments)}function vy(){return vy=(0,_e.Z)(function*(n,e){jD(n),tm(n)?(n._u.uu(e),_y(n)):n._u.set("Unknown")}),vy.apply(this,arguments)}function $C(n,e,t){return gb.apply(this,arguments)}function gb(){return gb=(0,_e.Z)(function*(n,e,t){if(n._u.set("Online"),e instanceof vw&&2===e.state&&e.cause)try{yield(r=(0,_e.Z)(function*(o,u){const d=u.cause;for(const g of u.targetIds)o.hu.has(g)&&(yield o.remoteSyncer.rejectListen(g,d),o.hu.delete(g),o.wu.removeTarget(g))}),function(o,u){return r.apply(this,arguments)})(n,e)}catch(r){Be("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield xy(n,r)}else if(e instanceof Tf?n.wu.Ut(e):e instanceof Ad?n.wu.zt(e):n.wu.Gt(e),!t.isEqual(St.min()))try{const r=yield OD(n.localStore);t.compareTo(r)>=0&&(yield function(o,u){const d=o.wu.Yt(u);return d.targetChanges.forEach((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const I=o.hu.get(y);I&&o.hu.set(y,I.withResumeToken(g.resumeToken,u))}}),d.targetMismatches.forEach(g=>{const y=o.hu.get(g);if(!y)return;o.hu.set(g,y.withResumeToken(xr.EMPTY_BYTE_STRING,y.snapshotVersion)),my(o,g);const I=new Ja(y.target,g,1,y.sequenceNumber);Uf(o,I)}),o.remoteSyncer.applyRemoteEvent(d)}(n,t))}catch(r){Be("RemoteStore","Failed to raise snapshot:",r),yield xy(n,r)}var r}),gb.apply(this,arguments)}function xy(n,e,t){return wy.apply(this,arguments)}function wy(){return wy=(0,_e.Z)(function*(n,e,t){if(!za(e))throw e;n.lu.add(1),yield tu(n),n._u.set("Offline"),t||(t=()=>OD(n.localStore)),n.asyncQueue.enqueueRetryable((0,_e.Z)(function*(){Be("RemoteStore","Retrying IndexedDB access"),yield t(),n.lu.delete(1),yield Qg(n)}))}),wy.apply(this,arguments)}function mb(n,e){return e().catch(t=>xy(n,t,e))}function $d(n){return _b.apply(this,arguments)}function _b(){return _b=(0,_e.Z)(function*(n){const e=Je(n),t=nu(e);let r=e.au.length>0?e.au[e.au.length-1].batchId:-1;for(;HD(e);)try{const o=yield lb(e.localStore,r);if(null===o){0===e.au.length&&t.ko();break}r=o.batchId,yb(e,o)}catch(o){yield xy(e,o)}by(e)&&ZD(e)}),_b.apply(this,arguments)}function HD(n){return cl(n)&&n.au.length<10}function yb(n,e){n.au.push(e);const t=nu(n);t.Co()&&t.zo&&t.Ho(e.mutations)}function by(n){return cl(n)&&!nu(n).Do()&&n.au.length>0}function ZD(n){nu(n).start()}function yo(n){return Iy.apply(this,arguments)}function Iy(){return Iy=(0,_e.Z)(function*(n){nu(n).Xo()}),Iy.apply(this,arguments)}function Ey(n){return Dy.apply(this,arguments)}function Dy(){return Dy=(0,_e.Z)(function*(n){const e=nu(n);for(const t of n.au)e.Ho(t.mutations)}),Dy.apply(this,arguments)}function ms(n,e,t){return Ty.apply(this,arguments)}function Ty(){return Ty=(0,_e.Z)(function*(n,e,t){const r=n.au.shift(),o=Ng.from(r,e,t);yield mb(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),yield $d(n)}),Ty.apply(this,arguments)}function Cy(n,e){return Ay.apply(this,arguments)}function Ay(){return Ay=(0,_e.Z)(function*(n,e){var t;e&&nu(n).zo&&(yield(t=(0,_e.Z)(function*(r,o){if(pw(u=o.code)&&u!==fe.ABORTED){const d=r.au.shift();nu(r).No(),yield mb(r,()=>r.remoteSyncer.rejectFailedWrite(d.batchId,o)),yield $d(r)}var u}),function(r,o){return t.apply(this,arguments)})(n,e)),by(n)&&ZD(n)}),Ay.apply(this,arguments)}function vb(n,e){return Vf.apply(this,arguments)}function Vf(){return Vf=(0,_e.Z)(function*(n,e){const t=Je(n);t.asyncQueue.verifyOperationInProgress(),Be("RemoteStore","RemoteStore received new credentials");const r=cl(t);t.lu.add(3),yield tu(t),r&&t._u.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.lu.delete(3),yield Qg(t)}),Vf.apply(this,arguments)}function rm(n,e){return im.apply(this,arguments)}function im(){return im=(0,_e.Z)(function*(n,e){const t=Je(n);e?(t.lu.delete(2),yield Qg(t)):e||(t.lu.add(2),yield tu(t),t._u.set("Unknown"))}),im.apply(this,arguments)}function Hd(n){return n.mu||(n.mu=function(e,t,r){const o=Je(e);return o.tu(),new UC(t,o.bo,o.authCredentials,o.appCheckCredentials,o.wt,r)}(n.datastore,n.asyncQueue,{zr:$D.bind(null,n),Jr:nm.bind(null,n),Go:$C.bind(null,n)}),n.fu.push(function(){var e=(0,_e.Z)(function*(t){t?(n.mu.No(),tm(n)?_y(n):n._u.set("Unknown")):(yield n.mu.stop(),jD(n))});return function(t){return e.apply(this,arguments)}}())),n.mu}function nu(n){return n.gu||(n.gu=function(e,t,r){const o=Je(e);return o.tu(),new VC(t,o.bo,o.authCredentials,o.appCheckCredentials,o.wt,r)}(n.datastore,n.asyncQueue,{zr:yo.bind(null,n),Jr:Cy.bind(null,n),Yo:Ey.bind(null,n),Jo:ms.bind(null,n)}),n.fu.push(function(){var e=(0,_e.Z)(function*(t){t?(n.gu.No(),yield $d(n)):(yield n.gu.stop(),n.au.length>0&&(Be("RemoteStore",`Stopping write stream with ${n.au.length} pending writes`),n.au=[]))});return function(t){return e.apply(this,arguments)}}())),n.gu}class sm{constructor(e,t,r,o,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new Tr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}static createAndSchedule(e,t,r,o,u){const d=Date.now()+r,g=new sm(e,t,d,o,u);return g.start(r),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Pe(fe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Zd(n,e){if(Sn("AsyncQueue",`${e}: ${n}`),za(n))return new Pe(fe.UNAVAILABLE,`${e}: ${n}`);throw n}class ll{constructor(e){this.comparator=e?(t,r)=>e(t,r)||Xe.comparator(t.key,r.key):(t,r)=>Xe.comparator(t.key,r.key),this.keyedMap=If(),this.sortedSet=new sr(this.comparator)}static emptySet(e){return new ll(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ll)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new ll;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class xb{constructor(){this.yu=new sr(Xe.comparator)}track(e){const t=e.doc.key,r=this.yu.get(t);r?0!==e.type&&3===r.type?this.yu=this.yu.insert(t,e):3===e.type&&1!==r.type?this.yu=this.yu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.yu=this.yu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.yu=this.yu.remove(t):1===e.type&&2===r.type?this.yu=this.yu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):ot():this.yu=this.yu.insert(t,e)}pu(){const e=[];return this.yu.inorderTraversal((t,r)=>{e.push(r)}),e}}class Qu{constructor(e,t,r,o,u,d,g,y){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=y}static fromInitialDocuments(e,t,r,o){const u=[];return t.forEach(d=>{u.push({type:0,doc:d})}),new Qu(e,t,ll.emptySet(t),u,r,o,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Id(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==r[o].type||!t[o].doc.isEqual(r[o].doc))return!1;return!0}}class Ju{constructor(){this.Iu=void 0,this.listeners=[]}}class wb{constructor(){this.queries=new qu(e=>D0(e),Id),this.onlineState="Unknown",this.Tu=new Set}}function Bf(n,e){return vo.apply(this,arguments)}function vo(){return vo=(0,_e.Z)(function*(n,e){const t=Je(n),r=e.query;let o=!1,u=t.queries.get(r);if(u||(o=!0,u=new Ju),o)try{u.Iu=yield t.onListen(r)}catch(d){const g=Zd(d,`Initialization of query '${Ka(e.query)}' failed`);return void e.onError(g)}t.queries.set(r,u),u.listeners.push(e),e.Eu(t.onlineState),u.Iu&&e.Au(u.Iu)&&My(t)}),vo.apply(this,arguments)}function Sy(n,e){return bb.apply(this,arguments)}function bb(){return bb=(0,_e.Z)(function*(n,e){const t=Je(n),r=e.query;let o=!1;const u=t.queries.get(r);if(u){const d=u.listeners.indexOf(e);d>=0&&(u.listeners.splice(d,1),o=0===u.listeners.length)}if(o)return t.queries.delete(r),t.onUnlisten(r)}),bb.apply(this,arguments)}function qD(n,e){const t=Je(n);let r=!1;for(const o of e){const d=t.queries.get(o.query);if(d){for(const g of d.listeners)g.Au(o)&&(r=!0);d.Iu=o}}r&&My(t)}function zD(n,e,t){const r=Je(n),o=r.queries.get(e);if(o)for(const u of o.listeners)u.onError(t);r.queries.delete(e)}function My(n){n.Tu.forEach(e=>{e.next()})}class Ry{constructor(e,t,r){this.query=e,this.Ru=t,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=r||{}}Au(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)3!==o.type&&r.push(o);e=new Qu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.bu?this.vu(e)&&(this.Ru.next(e),t=!0):this.Vu(e,this.onlineState)&&(this.Su(e),t=!0),this.Pu=e,t}onError(e){this.Ru.error(e)}Eu(e){this.onlineState=e;let t=!1;return this.Pu&&!this.bu&&this.Vu(this.Pu,e)&&(this.Su(this.Pu),t=!0),t}Vu(e,t){return!e.fromCache||!(this.options.Du&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}vu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Su(e){e=Qu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}class Ib{constructor(e,t){this.payload=e,this.byteLength=t}Cu(){return"metadata"in this.payload}}class GD{constructor(e){this.wt=e}Wi(e){return ia(this.wt,e)}zi(e){return e.metadata.exists?Sw(this.wt,e.document,!1):Tn.newNoDocument(this.Wi(e.metadata.name),this.Hi(e.metadata.readTime))}Hi(e){return jr(e)}}class Eb{constructor(e,t,r){this.xu=e,this.localStore=t,this.wt=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Db(e)}Nu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const r=nn.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ku(e){const t=new Map,r=new GD(this.wt);for(const o of e)if(o.metadata.queries){const u=r.Wi(o.metadata.name);for(const d of o.metadata.queries){const g=(t.get(d)||Yt()).add(u);t.set(d,g)}}return t}complete(){var e=this;return(0,_e.Z)(function*(){const t=yield function FD(n,e,t,r){return cy.apply(this,arguments)}(e.localStore,new GD(e.wt),e.documents,e.xu.id),r=e.ku(e.documents);for(const o of e.queries)yield LD(e.localStore,o,r.get(o.name));return e.progress.taskState="Success",{progress:e.progress,Mu:e.collectionGroups,Ou:t}})()}}function Db(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class Py{constructor(e){this.key=e}}class WD{constructor(e){this.key=e}}class om{constructor(e,t){this.query=e,this.Fu=t,this.$u=null,this.current=!1,this.Bu=Yt(),this.mutatedKeys=Yt(),this.Lu=Gc(e),this.Uu=new ll(this.Lu)}get qu(){return this.Fu}Ku(e,t){const r=t?t.Gu:new xb,o=t?t.Uu:this.Uu;let u=t?t.mutatedKeys:this.mutatedKeys,d=o,g=!1;const y="F"===this.query.limitType&&o.size===this.query.limit?o.last():null,I="L"===this.query.limitType&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((C,R)=>{const V=o.get(C),J=T0(this.query,R)?R:null,ie=!!V&&this.mutatedKeys.has(V.key),Oe=!!J&&(J.hasLocalMutations||this.mutatedKeys.has(J.key)&&J.hasCommittedMutations);let Fe=!1;V&&J?V.data.isEqual(J.data)?ie!==Oe&&(r.track({type:3,doc:J}),Fe=!0):this.Qu(V,J)||(r.track({type:2,doc:J}),Fe=!0,(y&&this.Lu(J,y)>0||I&&this.Lu(J,I)<0)&&(g=!0)):!V&&J?(r.track({type:0,doc:J}),Fe=!0):V&&!J&&(r.track({type:1,doc:V}),Fe=!0,(y||I)&&(g=!0)),Fe&&(J?(d=d.add(J),u=Oe?u.add(C):u.delete(C)):(d=d.delete(C),u=u.delete(C)))}),null!==this.query.limit)for(;d.size>this.query.limit;){const C="F"===this.query.limitType?d.last():d.first();d=d.delete(C.key),u=u.delete(C.key),r.track({type:1,doc:C})}return{Uu:d,Gu:r,Mi:g,mutatedKeys:u}}Qu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const o=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;const u=e.Gu.pu();u.sort((I,C)=>function(R,V){const J=ie=>{switch(ie){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ot()}};return J(R)-J(V)}(I.type,C.type)||this.Lu(I.doc,C.doc)),this.ju(r);const d=t?this.Wu():[],g=0===this.Bu.size&&this.current?1:0,y=g!==this.$u;return this.$u=g,0!==u.length||y?{snapshot:new Qu(this.query,e.Uu,o,u,e.mutatedKeys,0===g,y,!1),zu:d}:{zu:d}}Eu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Uu:this.Uu,Gu:new xb,mutatedKeys:this.mutatedKeys,Mi:!1},!1)):{zu:[]}}Hu(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}ju(e){e&&(e.addedDocuments.forEach(t=>this.Fu=this.Fu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Fu=this.Fu.delete(t)),this.current=e.current)}Wu(){if(!this.current)return[];const e=this.Bu;this.Bu=Yt(),this.Uu.forEach(r=>{this.Hu(r.key)&&(this.Bu=this.Bu.add(r.key))});const t=[];return e.forEach(r=>{this.Bu.has(r)||t.push(new WD(r))}),this.Bu.forEach(r=>{e.has(r)||t.push(new Py(r))}),t}Ju(e){this.Fu=e.ji,this.Bu=Yt();const t=this.Ku(e.documents);return this.applyChanges(t,!0)}Yu(){return Qu.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}class Tb{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class Cb{constructor(e){this.key=e,this.Xu=!1}}class KD{constructor(e,t,r,o,u,d){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=d,this.Zu={},this.tc=new qu(g=>D0(g),Id),this.ec=new Map,this.nc=new Set,this.sc=new sr(Xe.comparator),this.ic=new Map,this.rc=new ny,this.oc={},this.uc=new Map,this.cc=Ku.Rn(),this.onlineState="Unknown",this.ac=void 0}get isPrimaryClient(){return!0===this.ac}}function Ab(n,e){return am.apply(this,arguments)}function am(){return am=(0,_e.Z)(function*(n,e){const t=jy(n);let r,o;const u=t.tc.get(e);if(u)r=u.targetId,t.sharedClientState.addLocalQueryTarget(r),o=u.view.Yu();else{const d=yield _o(t.localStore,bi(e));t.isPrimaryClient&&Lf(t.remoteStore,d);const g=t.sharedClientState.addLocalQueryTarget(d.targetId);r=d.targetId,o=yield qd(t,e,r,"current"===g)}return o}),am.apply(this,arguments)}function qd(n,e,t,r){return zd.apply(this,arguments)}function zd(){return zd=(0,_e.Z)(function*(n,e,t,r){n.hc=(C,R,V)=>{return(J=(0,_e.Z)(function*(ie,Oe,Fe,xt){let Et=Oe.view.Ku(Fe);Et.Mi&&(Et=yield jd(ie.localStore,Oe.query,!1).then(({documents:Mt})=>Oe.view.Ku(Mt,Et)));const wt=xt&&xt.targetChanges.get(Oe.targetId),lt=Oe.view.applyChanges(Et,ie.isPrimaryClient,wt);return Fy(ie,Oe.targetId,lt.zu),lt.snapshot}),function(ie,Oe,Fe,xt){return J.apply(this,arguments)})(n,C,R,V);var J};const o=yield jd(n.localStore,e,!0),u=new om(e,o.ji),d=u.Ku(o.documents),g=Df.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),y=u.applyChanges(d,n.isPrimaryClient,g);Fy(n,t,y.zu);const I=new Tb(e,t,u);return n.tc.set(e,I),n.ec.has(t)?n.ec.get(t).push(e):n.ec.set(t,[e]),y.snapshot}),zd.apply(this,arguments)}function Sb(n,e){return Oy.apply(this,arguments)}function Oy(){return Oy=(0,_e.Z)(function*(n,e){const t=Je(n),r=t.tc.get(e),o=t.ec.get(r.targetId);if(o.length>1)return t.ec.set(r.targetId,o.filter(u=>!Id(u,e))),void t.tc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Bd(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),em(t.remoteStore,r.targetId),Gd(t,r.targetId)}).catch(Uu))):(Gd(t,r.targetId),yield Bd(t.localStore,r.targetId,!0))}),Oy.apply(this,arguments)}function um(){return um=(0,_e.Z)(function*(n,e,t){const r=gm(n);try{const o=yield function(u,d){const g=Je(u),y=Mn.now(),I=d.reduce((V,J)=>V.add(J.key),Yt());let C,R;return g.persistence.runTransaction("Locally write mutations","readwrite",V=>{let J=Ii(),ie=Yt();return g.Ui.getEntries(V,I).next(Oe=>{J=Oe,J.forEach((Fe,xt)=>{xt.isValidDocument()||(ie=ie.add(Fe))})}).next(()=>g.localDocuments.getOverlayedDocuments(V,J)).next(Oe=>{C=Oe;const Fe=[];for(const xt of d){const Et=JE(xt,C.get(xt.key).overlayedDocument);null!=Et&&Fe.push(new Qa(xt.key,Et,w0(Et.value.mapValue),$n.exists(!0)))}return g.mutationQueue.addMutationBatch(V,y,Fe,d)}).next(Oe=>{R=Oe;const Fe=Oe.applyToLocalDocumentSet(C,ie);return g.documentOverlayCache.saveOverlays(V,Oe.batchId,Fe)})}).then(()=>({batchId:R.batchId,changes:R0(C)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),function(u,d,g){let y=u.oc[u.currentUser.toKey()];y||(y=new sr(Ut)),y=y.insert(d,g),u.oc[u.currentUser.toKey()]=y}(r,o.batchId,t),yield Di(r,o.changes),yield $d(r.remoteStore)}catch(o){const u=Zd(o,"Failed to persist write");t.reject(u)}}),um.apply(this,arguments)}function Rb(n,e){return ky.apply(this,arguments)}function ky(){return ky=(0,_e.Z)(function*(n,e){const t=Je(n);try{const r=yield ub(t.localStore,e);e.targetChanges.forEach((o,u)=>{const d=t.ic.get(u);d&&(It(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?d.Xu=!0:o.modifiedDocuments.size>0?It(d.Xu):o.removedDocuments.size>0&&(It(d.Xu),d.Xu=!1))}),yield Di(t,r,e)}catch(r){yield Uu(r)}}),ky.apply(this,arguments)}function YD(n,e,t){const r=Je(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const o=[];r.tc.forEach((u,d)=>{const g=d.view.Eu(e);g.snapshot&&o.push(g.snapshot)}),function(u,d){const g=Je(u);g.onlineState=d;let y=!1;g.queries.forEach((I,C)=>{for(const R of C.listeners)R.Eu(d)&&(y=!0)}),y&&My(g)}(r.eventManager,e),o.length&&r.Zu.Go(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function HC(n,e,t){return cm.apply(this,arguments)}function cm(){return cm=(0,_e.Z)(function*(n,e,t){const r=Je(n);r.sharedClientState.updateQueryState(e,"rejected",t);const o=r.ic.get(e),u=o&&o.key;if(u){let d=new sr(Xe.comparator);d=d.insert(u,Tn.newNoDocument(u,St.min()));const g=Yt().add(u),y=new Ef(St.min(),new Map,new wn(Ut),d,g);yield Rb(r,y),r.sc=r.sc.remove(u),r.ic.delete(e),lm(r)}else yield Bd(r.localStore,e,!1).then(()=>Gd(r,e,t)).catch(Uu)}),cm.apply(this,arguments)}function QD(n,e){return Ny.apply(this,arguments)}function Ny(){return Ny=(0,_e.Z)(function*(n,e){const t=Je(n),r=e.batch.batchId;try{const o=yield uy(t.localStore,e);Nb(t,r,null),kb(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Di(t,o)}catch(o){yield Uu(o)}}),Ny.apply(this,arguments)}function JD(n,e,t){return Pb.apply(this,arguments)}function Pb(){return Pb=(0,_e.Z)(function*(n,e,t){const r=Je(n);try{const o=yield function(u,d){const g=Je(u);return g.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let I;return g.mutationQueue.lookupMutationBatch(y,d).next(C=>(It(null!==C),I=C.keys(),g.mutationQueue.removeMutationBatch(y,C))).next(()=>g.mutationQueue.performConsistencyCheck(y)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(y,I,d)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,I)).next(()=>g.localDocuments.getDocuments(y,I))})}(r.localStore,e);Nb(r,e,t),kb(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Di(r,o)}catch(o){yield Uu(o)}}),Pb.apply(this,arguments)}function Ob(){return Ob=(0,_e.Z)(function*(n,e){const t=Je(n);cl(t.remoteStore)||Be("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(u){const d=Je(u);return d.persistence.runTransaction("Get highest unacknowledged batch id","readonly",g=>d.mutationQueue.getHighestUnacknowledgedBatchId(g))}(t.localStore);if(-1===r)return void e.resolve();const o=t.uc.get(r)||[];o.push(e),t.uc.set(r,o)}catch(r){const o=Zd(r,"Initialization of waitForPendingWrites() operation failed");e.reject(o)}}),Ob.apply(this,arguments)}function kb(n,e){(n.uc.get(e)||[]).forEach(t=>{t.resolve()}),n.uc.delete(e)}function Nb(n,e,t){const r=Je(n);let o=r.oc[r.currentUser.toKey()];if(o){const u=o.get(e);u&&(t?u.reject(t):u.resolve(),o=o.remove(e)),r.oc[r.currentUser.toKey()]=o}}function Gd(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.ec.get(e))n.tc.delete(r),t&&n.Zu.lc(r,t);n.ec.delete(e),n.isPrimaryClient&&n.rc.us(e).forEach(r=>{n.rc.containsKey(r)||jf(n,r)})}function jf(n,e){n.nc.delete(e.path.canonicalString());const t=n.sc.get(e);null!==t&&(em(n.remoteStore,t),n.sc=n.sc.remove(e),n.ic.delete(t),lm(n))}function Fy(n,e,t){for(const r of t)r instanceof Py?(n.rc.addReference(r.key,e),XD(n,r)):r instanceof WD?(Be("SyncEngine","Document no longer in limbo: "+r.key),n.rc.removeReference(r.key,e),n.rc.containsKey(r.key)||jf(n,r.key)):ot()}function XD(n,e){const t=e.key,r=t.path.canonicalString();n.sc.get(t)||n.nc.has(r)||(Be("SyncEngine","New document in limbo: "+t),n.nc.add(r),lm(n))}function lm(n){for(;n.nc.size>0&&n.sc.size<n.maxConcurrentLimboResolutions;){const e=n.nc.values().next().value;n.nc.delete(e);const t=new Xe(nn.fromString(e)),r=n.cc.next();n.ic.set(r,new Cb(t)),n.sc=n.sc.insert(t,r),Lf(n.remoteStore,new Ja(bi(qc(t.path)),r,2,ps.ot))}}function Di(n,e,t){return dm.apply(this,arguments)}function dm(){return dm=(0,_e.Z)(function*(n,e,t){const r=Je(n),o=[],u=[],d=[];var g;r.tc.isEmpty()||(r.tc.forEach((g,y)=>{d.push(r.hc(y,e,t).then(I=>{if(I){r.isPrimaryClient&&r.sharedClientState.updateQueryState(y.targetId,I.fromCache?"not-current":"current"),o.push(I);const C=Yu.Vi(y.targetId,I);u.push(C)}}))}),yield Promise.all(d),r.Zu.Go(o),yield(g=(0,_e.Z)(function*(y,I){const C=Je(y);try{yield C.persistence.runTransaction("notifyLocalViewChanges","readwrite",R=>le.forEach(I,V=>le.forEach(V.Pi,J=>C.persistence.referenceDelegate.addReference(R,V.targetId,J)).next(()=>le.forEach(V.vi,J=>C.persistence.referenceDelegate.removeReference(R,V.targetId,J)))))}catch(R){if(!za(R))throw R;Be("LocalStore","Failed to update sequence numbers: "+R)}for(const R of I){const V=R.targetId;if(!R.fromCache){const J=C.$i.get(V),Oe=J.withLastLimboFreeSnapshotVersion(J.snapshotVersion);C.$i=C.$i.insert(V,Oe)}}}),function(y,I){return g.apply(this,arguments)})(r.localStore,u))}),dm.apply(this,arguments)}function Ly(n,e){return $f.apply(this,arguments)}function $f(){return $f=(0,_e.Z)(function*(n,e){const t=Je(n);if(!t.currentUser.isEqual(e)){Be("SyncEngine","User change. New user:",e.toKey());const r=yield ay(t.localStore,e);t.currentUser=e,(o=t).uc.forEach(d=>{d.forEach(g=>{g.reject(new Pe(fe.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.uc.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Di(t,r.Ki)}var o}),$f.apply(this,arguments)}function eT(n,e){const t=Je(n),r=t.ic.get(e);if(r&&r.Xu)return Yt().add(r.key);{let o=Yt();const u=t.ec.get(e);if(!u)return o;for(const d of u){const g=t.tc.get(d);o=o.unionWith(g.view.qu)}return o}}function Uy(n,e){return Hf.apply(this,arguments)}function Hf(){return Hf=(0,_e.Z)(function*(n,e){const t=Je(n),r=yield jd(t.localStore,e.query,!0),o=e.view.Ju(r);return t.isPrimaryClient&&Fy(t,e.targetId,o.zu),o}),Hf.apply(this,arguments)}function hm(n,e){return Fb.apply(this,arguments)}function Fb(){return Fb=(0,_e.Z)(function*(n,e){const t=Je(n);return db(t.localStore,e).then(r=>Di(t,r))}),Fb.apply(this,arguments)}function qC(n,e,t,r){return Lb.apply(this,arguments)}function Lb(){return Lb=(0,_e.Z)(function*(n,e,t,r){const o=Je(n),u=yield function(d,g){const y=Je(d),I=Je(y.mutationQueue);return y.persistence.runTransaction("Lookup mutation documents","readonly",C=>I.yn(C,g).next(R=>R?y.localDocuments.getDocuments(C,R):le.resolve(null)))}(o.localStore,e);var g;null!==u?("pending"===t?yield $d(o.remoteStore):"acknowledged"===t||"rejected"===t?(Nb(o,e,r||null),kb(o,e),g=e,Je(Je(o.localStore).mutationQueue).In(g)):ot(),yield Di(o,u)):Be("SyncEngine","Cannot apply mutation batch with id: "+e)}),Lb.apply(this,arguments)}function fm(){return fm=(0,_e.Z)(function*(n,e){const t=Je(n);if(jy(t),gm(t),!0===e&&!0!==t.ac){const r=t.sharedClientState.getAllActiveQueryTargets(),o=yield Ub(t,r.toArray());t.ac=!0,yield rm(t.remoteStore,!0);for(const u of o)Lf(t.remoteStore,u)}else if(!1===e&&!1!==t.ac){const r=[];let o=Promise.resolve();t.ec.forEach((u,d)=>{t.sharedClientState.isLocalQueryTarget(d)?r.push(d):o=o.then(()=>(Gd(t,d),Bd(t.localStore,d,!0))),em(t.remoteStore,d)}),yield o,yield Ub(t,r),function(u){const d=Je(u);d.ic.forEach((g,y)=>{em(d.remoteStore,y)}),d.rc.cs(),d.ic=new Map,d.sc=new sr(Xe.comparator)}(t),t.ac=!1,yield rm(t.remoteStore,!1)}}),fm.apply(this,arguments)}function Ub(n,e,t){return Vy.apply(this,arguments)}function Vy(){return Vy=(0,_e.Z)(function*(n,e,t){const r=Je(n),o=[],u=[];for(const d of e){let g;const y=r.ec.get(d);if(y&&0!==y.length){g=yield _o(r.localStore,bi(y[0]));for(const I of y){const C=r.tc.get(I),R=yield Uy(r,C);R.snapshot&&u.push(R.snapshot)}}else{const I=yield kD(r.localStore,d);g=yield _o(r.localStore,I),yield qd(r,Vb(I),d,!1)}o.push(g)}return r.Zu.Go(u),o}),Vy.apply(this,arguments)}function Vb(n){return I0(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function tT(n){const e=Je(n);return Je(Je(e.localStore).persistence).Ri()}function Bb(n,e,t,r){return pm.apply(this,arguments)}function pm(){return pm=(0,_e.Z)(function*(n,e,t,r){const o=Je(n);if(o.ac)return void Be("SyncEngine","Ignoring unexpected query state notification.");const u=o.ec.get(e);if(u&&u.length>0)switch(t){case"current":case"not-current":{const d=yield db(o.localStore,lw(u[0])),g=Ef.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield Di(o,d,g);break}case"rejected":yield Bd(o.localStore,e,!0),Gd(o,e,r);break;default:ot()}}),pm.apply(this,arguments)}function jb(n,e,t){return By.apply(this,arguments)}function By(){return By=(0,_e.Z)(function*(n,e,t){const r=jy(n);if(r.ac){for(const o of e){if(r.ec.has(o)){Be("SyncEngine","Adding an already active target "+o);continue}const u=yield kD(r.localStore,o),d=yield _o(r.localStore,u);yield qd(r,Vb(u),d.targetId,!1),Lf(r.remoteStore,d)}for(const o of t)r.ec.has(o)&&(yield Bd(r.localStore,o,!1).then(()=>{em(r.remoteStore,o),Gd(r,o)}).catch(Uu))}}),By.apply(this,arguments)}function jy(n){const e=Je(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Rb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=eT.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=HC.bind(null,e),e.Zu.Go=qD.bind(null,e.eventManager),e.Zu.lc=zD.bind(null,e.eventManager),e}function gm(n){const e=Je(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=QD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=JD.bind(null,e),e}class nT{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,_e.Z)(function*(){t.wt=Kg(e.databaseInfo.databaseId),t.sharedClientState=t.dc(e),t.persistence=t._c(e),yield t.persistence.start(),t.localStore=t.wc(e),t.gcScheduler=t.mc(e,t.localStore),t.indexBackfillerScheduler=t.gc(e,t.localStore)})()}mc(e,t){return null}gc(e,t){return null}wc(e){return oy(this.persistence,new ab,e.initialUser,this.wt)}_c(e){return new PD(Pf.Os,this.wt)}dc(e){return new hy}terminate(){var e=this;return(0,_e.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Hy extends nT{constructor(e,t,r){super(),this.yc=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,_e.Z)(function*(){yield t().call(r,e),yield r.yc.initialize(r,e),yield gm(r.yc.syncEngine),yield $d(r.yc.remoteStore),yield r.persistence.ci(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}wc(e){return oy(this.persistence,new ab,e.initialUser,this.wt)}mc(e,t){return new K0(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}gc(e,t){const r=new Wx(t,this.persistence);return new Gx(e.asyncQueue,r)}_c(e){const t=iy(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?zi.withCacheSize(this.cacheSizeBytes):zi.DEFAULT;return new ry(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,py(),gy(),this.wt,this.sharedClientState,!!this.forceOwnership)}dc(e){return new hy}}class Zy extends Hy{constructor(e,t){super(e,t,!1),this.yc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,_e.Z)(function*(){yield t().call(r,e);const o=r.yc.syncEngine;r.sharedClientState instanceof Wg&&(r.sharedClientState.syncEngine={kr:qC.bind(null,o),Mr:Bb.bind(null,o),Or:jb.bind(null,o),Ri:tT.bind(null,o),Nr:hm.bind(null,o)},yield r.sharedClientState.start()),yield r.persistence.ci(function(){var u=(0,_e.Z)(function*(d){yield function zC(n,e){return fm.apply(this,arguments)}(r.yc.syncEngine,d),r.gcScheduler&&(d&&!r.gcScheduler.started?r.gcScheduler.start():d||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(d&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():d||r.indexBackfillerScheduler.stop())});return function(d){return u.apply(this,arguments)}}())})()}dc(e){const t=py();if(!Wg.V(t))throw new Pe(fe.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=iy(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Wg(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class qy{initialize(e,t){var r=this;return(0,_e.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=o=>YD(r.syncEngine,o,1),r.remoteStore.remoteSyncer.handleCredentialChange=Ly.bind(null,r.syncEngine),yield rm(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new wb}createDatastore(e){const t=Kg(e.databaseInfo.databaseId),r=new LC(e.databaseInfo);return new BC(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,o=e.asyncQueue,u=g=>YD(this.syncEngine,g,0),d=fy.V()?new fy:new fb,new Yg(t,r,o,u,d);var t,r,o,u,d}createSyncEngine(e,t){return function(r,o,u,d,g,y,I){const C=new KD(r,o,u,d,g,y);return I&&(C.ac=!0),C}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,_e.Z)(function*(t){const r=Je(t);Be("RemoteStore","RemoteStore shutting down."),r.lu.add(5),yield tu(r),r.du.shutdown(),r._u.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function $b(n,e=10240){let t=0;return{read:()=>(0,_e.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,_e.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class zy{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ic(this.observer.next,e)}error(e){this.observer.error?this.Ic(this.observer.error,e):Sn("Uncaught Error in snapshot listener:",e)}Tc(){this.muted=!0}Ic(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class GC{constructor(e,t){this.Ec=e,this.wt=t,this.metadata=new Tr,this.buffer=new Uint8Array,this.Ac=new TextDecoder("utf-8"),this.Rc().then(r=>{r&&r.Cu()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.payload)}`))},r=>this.metadata.reject(r))}close(){return this.Ec.cancel()}getMetadata(){var e=this;return(0,_e.Z)(function*(){return e.metadata.promise})()}fc(){var e=this;return(0,_e.Z)(function*(){return yield e.getMetadata(),e.Rc()})()}Rc(){var e=this;return(0,_e.Z)(function*(){const t=yield e.bc();if(null===t)return null;const r=e.Ac.decode(t),o=Number(r);isNaN(o)&&e.Pc(`length string (${r}) is not valid number`);const u=yield e.vc(o);return new Ib(JSON.parse(u),t.length+o)})()}Vc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}bc(){var e=this;return(0,_e.Z)(function*(){for(;e.Vc()<0&&!(yield e.Sc()););if(0===e.buffer.length)return null;const t=e.Vc();t<0&&e.Pc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}vc(e){var t=this;return(0,_e.Z)(function*(){for(;t.buffer.length<e;)(yield t.Sc())&&t.Pc("Reached the end of bundle when more is expected.");const r=t.Ac.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Pc(e){throw this.Ec.cancel(),new Error(`Invalid bundle format: ${e}`)}Sc(){var e=this;return(0,_e.Z)(function*(){const t=yield e.Ec.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class rT{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,_e.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Pe(fe.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(o=(0,_e.Z)(function*(u,d){const g=Je(u),y=Md(g.wt)+"/documents",I={documents:d.map(J=>Sd(g.wt,J))},C=yield g.ao("BatchGetDocuments",y,I,d.length),R=new Map;C.forEach(J=>{const ie=function rD(n,e){return"found"in e?function(t,r){It(!!r.found);const o=ia(t,r.found.name),u=jr(r.found.updateTime),d=new Cr({mapValue:{fields:r.found.fields}});return Tn.newFoundDocument(o,u,d)}(n,e):"missing"in e?function(t,r){It(!!r.missing),It(!!r.readTime);const o=ia(t,r.missing),u=jr(r.readTime);return Tn.newNoDocument(o,u)}(n,e):ot()}(g.wt,J);R.set(ie.key.toString(),ie)});const V=[];return d.forEach(J=>{const ie=R.get(J.toString());It(!!ie),V.push(ie)}),V}),function(u,d){return o.apply(this,arguments)})(t.datastore,e);var o;return r.forEach(o=>t.recordVersion(o)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Qc(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,_e.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,o)=>{const u=Xe.fromPath(o);e.mutations.push(new Mg(u,e.precondition(u)))}),yield(r=(0,_e.Z)(function*(o,u){const d=Je(o),g=Md(d.wt)+"/documents",y={writes:u.map(I=>Af(d.wt,I))};yield d.ro("Commit",g,y)}),function(o,u){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw ot();t=St.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Pe(fe.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?$n.updateTime(t):$n.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(St.min()))throw new Pe(fe.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return $n.updateTime(t)}return $n.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class iT{constructor(e,t,r,o,u){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=o,this.deferred=u,this.Dc=r.maxAttempts,this.So=new pb(this.asyncQueue,"transaction_retry")}run(){this.Dc-=1,this.Cc()}Cc(){var e=this;this.So.Io((0,_e.Z)(function*(){const t=new rT(e.datastore),r=e.xc(t);r&&r.then(o=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(o)}).catch(u=>{e.Nc(u)}))}).catch(o=>{e.Nc(o)})}))}xc(e){try{const t=this.updateFunction(e);return!Zi(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Nc(e){this.Dc>0&&this.kc(e)?(this.Dc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Cc(),Promise.resolve()))):this.deferred.reject(e)}kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!pw(t)}return!1}}class sT{constructor(e,t,r,o){var u=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=o,this.user=ir.UNAUTHENTICATED,this.clientId=Hx.I(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var d=(0,_e.Z)(function*(g){Be("FirestoreClient","Received user=",g.uid),yield u.authCredentialListener(g),u.user=g});return function(g){return d.apply(this,arguments)}}()),this.appCheckCredentials.start(r,d=>(Be("FirestoreClient","Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}getConfiguration(){var e=this;return(0,_e.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Pe(fe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Tr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,_e.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const o=Zd(r,"Failed to shutdown persistence");t.reject(o)}})),t.promise}}function oT(n,e){return Hb.apply(this,arguments)}function Hb(){return Hb=(0,_e.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Be("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var o=(0,_e.Z)(function*(u){r.isEqual(u)||(yield ay(e.localStore,u),r=u)});return function(u){return o.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),Hb.apply(this,arguments)}function aT(n,e){return Zb.apply(this,arguments)}function Zb(){return Zb=(0,_e.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield qb(n);Be("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(o=>vb(e.remoteStore,o)),n.setAppCheckTokenChangeListener((o,u)=>vb(e.remoteStore,u)),n.onlineComponents=e}),Zb.apply(this,arguments)}function qb(n){return Gy.apply(this,arguments)}function Gy(){return Gy=(0,_e.Z)(function*(n){return n.offlineComponents||(Be("FirestoreClient","Using default OfflineComponentProvider"),yield oT(n,new nT)),n.offlineComponents}),Gy.apply(this,arguments)}function Wy(n){return zb.apply(this,arguments)}function zb(){return zb=(0,_e.Z)(function*(n){return n.onlineComponents||(Be("FirestoreClient","Using default OnlineComponentProvider"),yield aT(n,new qy)),n.onlineComponents}),zb.apply(this,arguments)}function uT(n){return qb(n).then(e=>e.persistence)}function Ky(n){return qb(n).then(e=>e.localStore)}function cT(n){return Wy(n).then(e=>e.remoteStore)}function Gb(n){return Wy(n).then(e=>e.syncEngine)}function i(n){return s.apply(this,arguments)}function s(){return s=(0,_e.Z)(function*(n){const e=yield Wy(n),t=e.eventManager;return t.onListen=Ab.bind(null,e.syncEngine),t.onUnlisten=Sb.bind(null,e.syncEngine),t}),s.apply(this,arguments)}function f(n,e,t={}){const r=new Tr;return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return function(o,u,d,g,y){const I=new zy({next:R=>{u.enqueueAndForget(()=>Sy(o,C));const V=R.docs.has(d);!V&&R.fromCache?y.reject(new Pe(fe.UNAVAILABLE,"Failed to get document because the client is offline.")):V&&R.fromCache&&g&&"server"===g.source?y.reject(new Pe(fe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(R)},error:R=>y.reject(R)}),C=new Ry(qc(d.path),I,{includeMetadataChanges:!0,Du:!0});return Bf(o,C)}(yield i(n),n.asyncQueue,e,t,r)})),r.promise}function x(n,e,t={}){const r=new Tr;return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return function(o,u,d,g,y){const I=new zy({next:R=>{u.enqueueAndForget(()=>Sy(o,C)),R.fromCache&&"server"===g.source?y.reject(new Pe(fe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(R)},error:R=>y.reject(R)}),C=new Ry(d,I,{includeMetadataChanges:!0,Du:!0});return Bf(o,C)}(yield i(n),n.asyncQueue,e,t,r)})),r.promise}const G=new Map;function ne(n,e,t){if(!t)throw new Pe(fe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Ee(n,e,t,r){if(!0===e&&!0===r)throw new Pe(fe.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function je(n){if(!Xe.isDocumentKey(n))throw new Pe(fe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function et(n){if(Xe.isDocumentKey(n))throw new Pe(fe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function at(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":ot()}function Ke(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Pe(fe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=at(n);throw new Pe(fe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function Le(n,e){if(e<=0)throw new Pe(fe.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class yt{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Pe(fe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Pe(fe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,Ee("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Qt{constructor(e,t,r){this._authCredentials=t,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new yt({}),this._settingsFrozen=!1,e instanceof ta?this._databaseId=e:(this._app=e,this._databaseId=function(o){if(!Object.prototype.hasOwnProperty.apply(o.options,["projectId"]))throw new Pe(fe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ta(o.options.projectId)}(e))}get app(){if(!this._app)throw new Pe(fe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Pe(fe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new yt(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Lx;switch(t.type){case"gapi":const r=t.client;return It(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new jx(r,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Pe(fe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=G.get(e);t&&(Be("ComponentProvider","Removing Datastore"),G.delete(e),t.terminate())}(this),Promise.resolve()}}class mn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Bs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new mn(this.firestore,e,this._key)}}class Hr{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Hr(this.firestore,e,this._query)}}class Bs extends Hr{constructor(e,t,r){super(e,t,qc(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new mn(this.firestore,null,new Xe(e))}withConverter(e){return new Bs(this.firestore,e,this._path)}}function mm(n,e,...t){if(n=(0,Ot.m9)(n),ne("collection","path",e),n instanceof Qt){const r=nn.fromString(e,...t);return et(r),new Bs(n,null,r)}{if(!(n instanceof mn||n instanceof Bs))throw new Pe(fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(nn.fromString(e,...t));return et(r),new Bs(n.firestore,null,r)}}function Wd(n,e,...t){if(n=(0,Ot.m9)(n),1===arguments.length&&(e=Hx.I()),ne("doc","path",e),n instanceof Qt){const r=nn.fromString(e,...t);return je(r),new mn(n,null,new Xe(r))}{if(!(n instanceof mn||n instanceof Bs))throw new Pe(fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(nn.fromString(e,...t));return je(r),new mn(n.firestore,n instanceof Bs?n.converter:null,new Xe(r))}}function _m(n,e){return n=(0,Ot.m9)(n),e=(0,Ot.m9)(e),(n instanceof mn||n instanceof Bs)&&(e instanceof mn||e instanceof Bs)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function ym(n,e){return n=(0,Ot.m9)(n),e=(0,Ot.m9)(e),n instanceof Hr&&e instanceof Hr&&n.firestore===e.firestore&&Id(n._query,e._query)&&n.converter===e.converter}class Qy{constructor(){this.Mc=Promise.resolve(),this.Oc=[],this.Fc=!1,this.$c=[],this.Bc=null,this.Lc=!1,this.Uc=!1,this.qc=[],this.So=new pb(this,"async_queue_retry"),this.Kc=()=>{const t=gy();t&&Be("AsyncQueue","Visibility state changed to "+t.visibilityState),this.So.Eo()};const e=gy();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Kc)}get isShuttingDown(){return this.Fc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Gc(),this.Qc(e)}enterRestrictedMode(e){if(!this.Fc){this.Fc=!0,this.Uc=e||!1;const t=gy();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Kc)}}enqueue(e){if(this.Gc(),this.Fc)return new Promise(()=>{});const t=new Tr;return this.Qc(()=>this.Fc&&this.Uc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Oc.push(e),this.jc()))}jc(){var e=this;return(0,_e.Z)(function*(){if(0!==e.Oc.length){try{yield e.Oc[0](),e.Oc.shift(),e.So.reset()}catch(t){if(!za(t))throw t;Be("AsyncQueue","Operation failed with retryable error: "+t)}e.Oc.length>0&&e.So.Io(()=>e.jc())}})()}Qc(e){const t=this.Mc.then(()=>(this.Lc=!0,e().catch(r=>{throw this.Bc=r,this.Lc=!1,Sn("INTERNAL UNHANDLED ERROR: ",function(u){let d=u.message||"";return u.stack&&(d=u.stack.includes(u.message)?u.stack:u.message+"\n"+u.stack),d}(r)),r}).then(r=>(this.Lc=!1,r))));return this.Mc=t,t}enqueueAfterDelay(e,t,r){this.Gc(),this.qc.indexOf(e)>-1&&(t=0);const o=sm.createAndSchedule(this,e,t,r,u=>this.Wc(u));return this.$c.push(o),o}Gc(){this.Bc&&ot()}verifyOperationInProgress(){}zc(){var e=this;return(0,_e.Z)(function*(){let t;do{t=e.Mc,yield t}while(t!==e.Mc)})()}Hc(e){for(const t of this.$c)if(t.timerId===e)return!0;return!1}Jc(e){return this.zc().then(()=>{this.$c.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.$c)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.zc()})}Yc(e){this.qc.push(e)}Wc(e){const t=this.$c.indexOf(e);this.$c.splice(t,1)}}function Zf(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const o of["next","error","complete"])if(o in r&&"function"==typeof r[o])return!0;return!1}(n)}class tS{constructor(){this._progressObserver={},this._taskCompletionResolver=new Tr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class ur extends Qt{constructor(e,t,r){super(e,t,r),this.type="firestore",this._queue=new Qy,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||WC(this),this._firestoreClient.terminate()}}function Zr(n){return n._firestoreClient||WC(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function WC(n){var e;const t=n._freezeSettings(),r=(u=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new Jx(n._databaseId,u,n._persistenceKey,(g=t).host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,g.useFetchStreams));var u,g;n._firestoreClient=new sT(n._authCredentials,n._appCheckCredentials,n._queue,r)}function KC(n,e,t){const r=new Tr;return n.asyncQueue.enqueue((0,_e.Z)(function*(){try{yield oT(n,t),yield aT(n,e),r.resolve()}catch(o){const u=o;if(!("FirebaseError"===(d=u).name?d.code===fe.FAILED_PRECONDITION||d.code===fe.UNIMPLEMENTED:!(typeof DOMException<"u"&&d instanceof DOMException)||22===d.code||20===d.code||11===d.code))throw u;Us("Error enabling offline persistence. Falling back to persistence disabled: "+u),r.reject(u)}var d})).then(()=>r.promise)}function YC(n){if(n._initialized||n._terminated)throw new Pe(fe.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class dl{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Pe(fe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new jn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Xu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Xu(xr.fromBase64String(e))}catch(t){throw new Pe(fe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Xu(xr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class qf{constructor(e){this._methodName=e}}class Wb{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Pe(fe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Pe(fe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ut(this._lat,e._lat)||Ut(this._long,e._long)}}const dS=/^__.*__$/;class hS{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Qa(e,this.data,this.fieldMask,t,this.fieldTransforms):new Cd(e,this.data,t,this.fieldTransforms)}}class QC{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Qa(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function JC(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ot()}}class Kb{constructor(e,t,r,o,u,d){this.settings=e,this.databaseId=t,this.wt=r,this.ignoreUndefinedProperties=o,void 0===u&&this.Xc(),this.fieldTransforms=u||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Zc(){return this.settings.Zc}ta(e){return new Kb(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.wt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ea(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.ta({path:r,na:!1});return o.sa(e),o}ia(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.ta({path:r,na:!1});return o.Xc(),o}ra(e){return this.ta({path:void 0,na:!0})}oa(e){return Jb(e,this.settings.methodName,this.settings.ua||!1,this.path,this.settings.ca)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Xc(){if(this.path)for(let e=0;e<this.path.length;e++)this.sa(this.path.get(e))}sa(e){if(0===e.length)throw this.oa("Document fields must not be empty");if(JC(this.Zc)&&dS.test(e))throw this.oa('Document fields cannot begin and end with "__"')}}class fS{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.wt=r||Kg(e)}aa(e,t,r,o=!1){return new Kb({Zc:e,methodName:t,ca:r,path:jn.emptyPath(),na:!1,ua:o},this.databaseId,this.wt,this.ignoreUndefinedProperties)}}function zf(n){const e=n._freezeSettings(),t=Kg(n._databaseId);return new fS(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Yb(n,e,t,r,o,u={}){const d=n.aa(u.merge||u.mergeFields?2:0,e,t,o);fT("Data must be an object, but it was:",d,r);const g=t1(r,d);let y,I;if(u.merge)y=new gs(d.fieldMask),I=d.fieldTransforms;else if(u.mergeFields){const C=[];for(const R of u.mergeFields){const V=pT(e,R,t);if(!d.contains(V))throw new Pe(fe.INVALID_ARGUMENT,`Field '${V}' is specified in your field mask but missing from your input data.`);r1(C,V)||C.push(V)}y=new gs(C),I=d.fieldTransforms.filter(R=>y.covers(R.field))}else y=null,I=d.fieldTransforms;return new hS(new Cr(g),y,I)}class Jy extends qf{_toFieldTransform(e){if(2!==e.Zc)throw e.oa(1===e.Zc?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Jy}}function XC(n,e,t){return new Kb({Zc:3,ca:e.settings.ca,methodName:n._methodName,na:t},e.databaseId,e.wt,e.ignoreUndefinedProperties)}class lT extends qf{_toFieldTransform(e){return new Dd(e.path,new Ed)}isEqual(e){return e instanceof lT}}class pS extends qf{constructor(e,t){super(e),this.ha=t}_toFieldTransform(e){const t=XC(this,e,!0),r=this.ha.map(u=>Gf(u,t)),o=new Wc(r);return new Dd(e.path,o)}isEqual(e){return this===e}}class gS extends qf{constructor(e,t){super(e),this.ha=t}_toFieldTransform(e){const t=XC(this,e,!0),r=this.ha.map(u=>Gf(u,t)),o=new Yc(r);return new Dd(e.path,o)}isEqual(e){return this===e}}class mS extends qf{constructor(e,t){super(e),this.la=t}_toFieldTransform(e){const t=new Ya(e.wt,C0(e.wt,this.la));return new Dd(e.path,t)}isEqual(e){return this===e}}function dT(n,e,t,r){const o=n.aa(1,e,t);fT("Data must be an object, but it was:",o,r);const u=[],d=Cr.empty();$c(r,(y,I)=>{const C=Qb(e,y,t);I=(0,Ot.m9)(I);const R=o.ia(C);if(I instanceof Jy)u.push(C);else{const V=Gf(I,R);null!=V&&(u.push(C),d.set(C,V))}});const g=new gs(u);return new QC(d,g,o.fieldTransforms)}function hT(n,e,t,r,o,u){const d=n.aa(1,e,t),g=[pT(e,r,t)],y=[o];if(u.length%2!=0)throw new Pe(fe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let V=0;V<u.length;V+=2)g.push(pT(e,u[V])),y.push(u[V+1]);const I=[],C=Cr.empty();for(let V=g.length-1;V>=0;--V)if(!r1(I,g[V])){const J=g[V];let ie=y[V];ie=(0,Ot.m9)(ie);const Oe=d.ia(J);if(ie instanceof Jy)I.push(J);else{const Fe=Gf(ie,Oe);null!=Fe&&(I.push(J),C.set(J,Fe))}}const R=new gs(I);return new QC(C,R,d.fieldTransforms)}function e1(n,e,t,r=!1){return Gf(t,n.aa(r?4:3,e))}function Gf(n,e){if(n1(n=(0,Ot.m9)(n)))return fT("Unsupported field value:",e,n),t1(n,e);if(n instanceof qf)return function(t,r){if(!JC(r.Zc))throw r.oa(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.oa(`${t._methodName}() is not currently supported inside arrays`);const o=t._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.na&&4!==e.Zc)throw e.oa("Nested arrays are not supported");return function(t,r){const o=[];let u=0;for(const d of t){let g=Gf(d,r.ra(u));null==g&&(g={nullValue:"NULL_VALUE"}),o.push(g),u++}return{arrayValue:{values:o}}}(n,e)}return function(t,r){if(null===(t=(0,Ot.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return C0(r.wt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const o=Mn.fromDate(t);return{timestampValue:ra(r.wt,o)}}if(t instanceof Mn){const o=new Mn(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:ra(r.wt,o)}}if(t instanceof Wb)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Xu)return{bytesValue:Ew(r.wt,t._byteString)};if(t instanceof mn){const o=r.databaseId,u=t.firestore._databaseId;if(!u.isEqual(o))throw r.oa(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Pg(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.oa(`Unsupported field value: ${at(t)}`)}(n,e)}function t1(n,e){const t={};return g0(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):$c(n,(r,o)=>{const u=Gf(o,e.ea(r));null!=u&&(t[r]=u)}),{mapValue:{fields:t}}}function n1(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Mn||n instanceof Wb||n instanceof Xu||n instanceof mn||n instanceof qf)}function fT(n,e,t){if(!n1(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=at(t);throw e.oa("an object"===r?n+" a custom object":n+" "+r)}var r}function pT(n,e,t){if((e=(0,Ot.m9)(e))instanceof dl)return e._internalPath;if("string"==typeof e)return Qb(n,e);throw Jb("Field path arguments must be of type string or ",n,!1,void 0,t)}const _S=new RegExp("[~\\*/\\[\\]]");function Qb(n,e,t){if(e.search(_S)>=0)throw Jb(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new dl(...e.split("."))._internalPath}catch{throw Jb(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Jb(n,e,t,r,o){const u=r&&!r.isEmpty(),d=void 0!==o;let g=`Function ${e}() called with invalid data`;t&&(g+=" (via `toFirestore()`)"),g+=". ";let y="";return(u||d)&&(y+=" (found",u&&(y+=` in field ${r}`),d&&(y+=` in document ${o}`),y+=")"),new Pe(fe.INVALID_ARGUMENT,g+n+y)}function r1(n,e){return n.some(t=>t.isEqual(e))}class Xy{constructor(e,t,r,o,u){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new mn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new yS(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Xb("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class yS extends Xy{data(){return super.data()}}function Xb(n,e){return"string"==typeof e?Qb(n,e):e instanceof dl?e._internalPath:e._delegate._internalPath}class Wf{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class hl extends Xy{constructor(e,t,r,o,u,d){super(e,t,r,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new ev(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Xb("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class ev extends hl{data(e={}){return super.data(e)}}class Kd{constructor(e,t,r,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Wf(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new ev(this._firestore,this._userDataWriter,r.key,r,new Wf(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Pe(fe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let u=0;return r._snapshot.docChanges.map(d=>({type:"added",doc:new ev(r._firestore,r._userDataWriter,d.doc.key,d.doc,new Wf(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:u++}))}{let u=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(d=>o||3!==d.type).map(d=>{const g=new ev(r._firestore,r._userDataWriter,d.doc.key,d.doc,new Wf(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter);let y=-1,I=-1;return 0!==d.type&&(y=u.indexOf(d.doc.key),u=u.delete(d.doc.key)),1!==d.type&&(u=u.add(d.doc),I=u.indexOf(d.doc.key)),{type:vS(d.type),doc:g,oldIndex:y,newIndex:I}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function vS(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ot()}}function i1(n,e){return n instanceof hl&&e instanceof hl?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Kd&&e instanceof Kd&&n._firestore===e._firestore&&ym(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function s1(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Pe(fe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class tv{}function Yd(n,...e){for(const t of e)n=t._apply(n);return n}class xS extends tv{constructor(e,t,r){super(),this.fa=e,this.da=t,this._a=r,this.type="where"}_apply(e){const t=zf(e.firestore),r=function(o,u,d,g,y,I,C){let R;if(y.isKeyField()){if("array-contains"===I||"array-contains-any"===I)throw new Pe(fe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${I}' queries on documentId().`);if("in"===I||"not-in"===I){d1(C,I);const J=[];for(const ie of C)J.push(l1(g,o,ie));R={arrayValue:{values:J}}}else R=l1(g,o,C)}else"in"!==I&&"not-in"!==I&&"array-contains-any"!==I||d1(C,I),R=e1(d,"where",C,"in"===I||"not-in"===I);const V=Xr.create(y,I,R);return function(J,ie){if(ie.ht()){const Fe=Cg(J);if(null!==Fe&&!Fe.isEqual(ie.field))throw new Pe(fe.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Fe.toString()}' and '${ie.field.toString()}'`);const xt=Tg(J);null!==xt&&h1(0,ie.field,xt)}const Oe=function(Fe,xt){for(const Et of Fe.filters)if(xt.indexOf(Et.op)>=0)return Et.op;return null}(J,function(Fe){switch(Fe){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(ie.op));if(null!==Oe)throw new Pe(fe.INVALID_ARGUMENT,Oe===ie.op?`Invalid query. You cannot use more than one '${ie.op.toString()}' filter.`:`Invalid query. You cannot use '${ie.op.toString()}' filters with '${Oe.toString()}' filters.`)}(o,V),V}(e._query,0,t,e.firestore._databaseId,this.fa,this.da,this._a);return new Hr(e.firestore,e.converter,function(o,u){const d=o.filters.concat([u]);return new Wa(o.path,o.collectionGroup,o.explicitOrderBy.slice(),d,o.limit,o.limitType,o.startAt,o.endAt)}(e._query,r))}}class bS extends tv{constructor(e,t){super(),this.fa=e,this.wa=t,this.type="orderBy"}_apply(e){const t=function(r,o,u){if(null!==r.startAt)throw new Pe(fe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Pe(fe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const d=new bd(o,u);return function(g,y){if(null===Tg(g)){const I=Cg(g);null!==I&&h1(0,I,y.field)}}(r,d),d}(e._query,this.fa,this.wa);return new Hr(e.firestore,e.converter,function(r,o){const u=r.explicitOrderBy.concat([o]);return new Wa(r.path,r.collectionGroup,u,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class o1 extends tv{constructor(e,t,r){super(),this.type=e,this.ma=t,this.ga=r}_apply(e){return new Hr(e.firestore,e.converter,mf(e._query,this.ma,this.ga))}}class a1 extends tv{constructor(e,t,r){super(),this.type=e,this.ya=t,this.pa=r}_apply(e){const t=c1(e,this.type,this.ya,this.pa);return new Hr(e.firestore,e.converter,(o=t,new Wa((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,o,r.endAt)));var r,o}}class u1 extends tv{constructor(e,t,r){super(),this.type=e,this.ya=t,this.pa=r}_apply(e){const t=c1(e,this.type,this.ya,this.pa);return new Hr(e.firestore,e.converter,(o=t,new Wa((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,o)));var r,o}}function c1(n,e,t,r){if(t[0]=(0,Ot.m9)(t[0]),t[0]instanceof Xy)return function(o,u,d,g,y){if(!g)throw new Pe(fe.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${d}().`);const I=[];for(const C of zc(o))if(C.field.isKeyField())I.push(Ga(u,g.key));else{const R=g.data.field(C.field);if(m0(R))throw new Pe(fe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+C.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===R){const V=C.field.canonicalString();throw new Pe(fe.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${V}' (used as the orderBy) does not exist.`)}I.push(R)}return new Zu(I,y)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const o=zf(n.firestore);return function(u,d,g,y,I,C){const R=u.explicitOrderBy;if(I.length>R.length)throw new Pe(fe.INVALID_ARGUMENT,`Too many arguments provided to ${y}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const V=[];for(let J=0;J<I.length;J++){const ie=I[J];if(R[J].field.isKeyField()){if("string"!=typeof ie)throw new Pe(fe.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${y}(), but got a ${typeof ie}`);if(!Ag(u)&&-1!==ie.indexOf("/"))throw new Pe(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${y}() must be a plain document ID, but '${ie}' contains a slash.`);const Oe=u.path.child(nn.fromString(ie));if(!Xe.isDocumentKey(Oe))throw new Pe(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${y}() must result in a valid document path, but '${Oe}' is not because it contains an odd number of segments.`);const Fe=new Xe(Oe);V.push(Ga(d,Fe))}else{const Oe=e1(g,y,ie);V.push(Oe)}}return new Zu(V,C)}(n._query,n.firestore._databaseId,o,e,t,r)}}function l1(n,e,t){if("string"==typeof(t=(0,Ot.m9)(t))){if(""===t)throw new Pe(fe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ag(e)&&-1!==t.indexOf("/"))throw new Pe(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(nn.fromString(t));if(!Xe.isDocumentKey(r))throw new Pe(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Ga(n,new Xe(r))}if(t instanceof mn)return Ga(n,t._key);throw new Pe(fe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${at(t)}.`)}function d1(n,e){if(!Array.isArray(n)||0===n.length)throw new Pe(fe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Pe(fe.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function h1(n,e,t){if(!t.isEqual(e))throw new Pe(fe.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}const MS={maxAttempts:5};class gT{convertValue(e,t="none"){switch(Jr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ar(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ju(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw ot()}}convertObject(e,t){const r={};return $c(e.fields,(o,u)=>{r[o]=this.convertValue(u,t)}),r}convertGeoPoint(e){return new Wb(ar(e.latitude),ar(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=_0(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Ig(e));default:return null}}convertTimestamp(e){const t=Bu(e);return new Mn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=nn.fromString(e);It(Nw(r));const o=new ta(r.get(1),r.get(3)),u=new Xe(r.popFirst(5));return o.isEqual(t)||Sn(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}function eI(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class RS extends gT{constructor(e){super(),this.firestore=e}convertBytes(e){return new Xu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new mn(this.firestore,null,t)}}class f1{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=zf(e)}set(e,t,r){this._verifyNotCommitted();const o=Qd(e,this._firestore),u=eI(o.converter,t,r),d=Yb(this._dataReader,"WriteBatch.set",o._key,u,null!==o.converter,r);return this._mutations.push(d.toMutation(o._key,$n.none())),this}update(e,t,r,...o){this._verifyNotCommitted();const u=Qd(e,this._firestore);let d;return d="string"==typeof(t=(0,Ot.m9)(t))||t instanceof dl?hT(this._dataReader,"WriteBatch.update",u._key,t,r,o):dT(this._dataReader,"WriteBatch.update",u._key,t),this._mutations.push(d.toMutation(u._key,$n.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Qd(e,this._firestore);return this._mutations=this._mutations.concat(new Qc(t._key,$n.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Pe(fe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Qd(n,e){if((n=(0,Ot.m9)(n)).firestore!==e)throw new Pe(fe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class Kf extends gT{constructor(e){super(),this.firestore=e}convertBytes(e){return new Xu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new mn(this.firestore,null,t)}}function p1(n,e,t){n=Ke(n,mn);const r=Ke(n.firestore,ur),o=eI(n.converter,e,t);return vm(r,[Yb(zf(r),"setDoc",n._key,o,null!==n.converter,t).toMutation(n._key,$n.none())])}function g1(n,e,t,...r){n=Ke(n,mn);const o=Ke(n.firestore,ur),u=zf(o);let d;return d="string"==typeof(e=(0,Ot.m9)(e))||e instanceof dl?hT(u,"updateDoc",n._key,e,t,r):dT(u,"updateDoc",n._key,e),vm(o,[d.toMutation(n._key,$n.exists(!0))])}function m1(n,...e){var t,r,o;n=(0,Ot.m9)(n);let u={includeMetadataChanges:!1},d=0;"object"!=typeof e[d]||Zf(e[d])||(u=e[d],d++);const g={includeMetadataChanges:u.includeMetadataChanges};if(Zf(e[d])){const R=e[d];e[d]=null===(t=R.next)||void 0===t?void 0:t.bind(R),e[d+1]=null===(r=R.error)||void 0===r?void 0:r.bind(R),e[d+2]=null===(o=R.complete)||void 0===o?void 0:o.bind(R)}let y,I,C;if(n instanceof mn)I=Ke(n.firestore,ur),C=qc(n._key.path),y={next:R=>{e[d]&&e[d](mT(I,n,R))},error:e[d+1],complete:e[d+2]};else{const R=Ke(n,Hr);I=Ke(R.firestore,ur),C=R._query;const V=new Kf(I);y={next:J=>{e[d]&&e[d](new Kd(I,V,R,J))},error:e[d+1],complete:e[d+2]},s1(n._query)}return function(R,V,J,ie){const Oe=new zy(ie),Fe=new Ry(V,Oe,J);return R.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return Bf(yield i(R),Fe)})),()=>{Oe.Tc(),R.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return Sy(yield i(R),Fe)}))}}(Zr(I),C,g,y)}function vm(n,e){return function(t,r){const o=new Tr;return t.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return function Mb(n,e,t){return um.apply(this,arguments)}(yield Gb(t),r,o)})),o.promise}(Zr(n),e)}function mT(n,e,t){const r=t.docs.get(e._key),o=new Kf(n);return new hl(n,o,e._key,r,new Wf(t.hasPendingWrites,t.fromCache),e.converter)}class jS extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=zf(e)}get(e){const t=Qd(e,this._firestore),r=new RS(this._firestore);return this._transaction.lookup([t._key]).then(o=>{if(!o||1!==o.length)return ot();const u=o[0];if(u.isFoundDocument())return new Xy(this._firestore,r,u.key,u,t.converter);if(u.isNoDocument())return new Xy(this._firestore,r,t._key,null,t.converter);throw ot()})}set(e,t,r){const o=Qd(e,this._firestore),u=eI(o.converter,t,r),d=Yb(this._dataReader,"Transaction.set",o._key,u,null!==o.converter,r);return this._transaction.set(o._key,d),this}update(e,t,r,...o){const u=Qd(e,this._firestore);let d;return d="string"==typeof(t=(0,Ot.m9)(t))||t instanceof dl?hT(this._dataReader,"Transaction.update",u._key,t,r,o):dT(this._dataReader,"Transaction.update",u._key,t),this._transaction.update(u._key,d),this}delete(e){const t=Qd(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Qd(e,this._firestore),r=new Kf(this._firestore);return super.get(e).then(o=>new hl(this._firestore,r,t._key,o._document,new Wf(!1,!1),t.converter))}}function _T(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Pe("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function y1(){if(typeof Uint8Array>"u")throw new Pe("unimplemented","Uint8Arrays are not available in this environment.")}function v1(){if(!function Qx(){return typeof atob<"u"}())throw new Pe("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){mr=$i.SDK_VERSION,(0,$i._registerComponent)(new Lc.wA("firestore",(t,{options:r})=>{const o=t.getProvider("app").getImmediate(),u=new ur(o,new Vx(t.getProvider("auth-internal")),new $x(t.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),u._setSettings(r),u},"PUBLIC")),(0,$i.registerVersion)(po,"3.4.14",n),(0,$i.registerVersion)(po,"3.4.14","esm2017")}();class nv{constructor(e){this._delegate=e}static fromBase64String(e){return v1(),new nv(Xu.fromBase64String(e))}static fromUint8Array(e){return y1(),new nv(Xu.fromUint8Array(e))}toBase64(){return v1(),this._delegate.toBase64()}toUint8Array(){return y1(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function yT(n){return function YS(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class QS{enableIndexedDbPersistence(e,t){return function rS(n,e){YC(n=Ke(n,ur));const t=Zr(n),r=n._freezeSettings(),o=new qy;return KC(t,o,new Hy(o,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function iS(n){YC(n=Ke(n,ur));const e=Zr(n),t=n._freezeSettings(),r=new qy;return KC(e,r,new Zy(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function sS(n){if(n._initialized&&!n._terminated)throw new Pe(fe.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Tr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,_e.Z)(function*(){try{yield(t=(0,_e.Z)(function*(r){if(!fs.V())return Promise.resolve();const o=r+"main";yield fs.delete(o)}),function(r){return t.apply(this,arguments)})(iy(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class x1{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof ta||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Us("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function Nn(n,e,t,r={}){var o;const u=(n=Ke(n,Qt))._getSettings();if("firestore.googleapis.com"!==u.host&&u.host!==e&&Us("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},u),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let d,g;if("string"==typeof r.mockUserToken)d=r.mockUserToken,g=ir.MOCK_USER;else{d=(0,Ot.Sg)(r.mockUserToken,null===(o=n._app)||void 0===o?void 0:o.options.projectId);const y=r.mockUserToken.sub||r.mockUserToken.user_id;if(!y)throw new Pe(fe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new ir(y)}n._authCredentials=new Ux(new a0(d,g))}}(this._delegate,e,t,r)}enableNetwork(){return function aS(n){return function a(n){return n.asyncQueue.enqueue((0,_e.Z)(function*(){const e=yield uT(n),t=yield cT(n);return e.setNetworkEnabled(!0),function(r){const o=Je(r);return o.lu.delete(0),Qg(o)}(t)}))}(Zr(n=Ke(n,ur)))}(this._delegate)}disableNetwork(){return function uS(n){return function c(n){return n.asyncQueue.enqueue((0,_e.Z)(function*(){const e=yield uT(n),t=yield cT(n);return e.setNetworkEnabled(!1),(r=(0,_e.Z)(function*(o){const u=Je(o);u.lu.add(0),yield tu(u),u._u.set("Offline")}),function(o){return r.apply(this,arguments)})(t);var r}))}(Zr(n=Ke(n,ur)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,Ee("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function oS(n){return function(e){const t=new Tr;return e.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return function ZC(n,e){return Ob.apply(this,arguments)}(yield Gb(e),t)})),t.promise}(Zr(n=Ke(n,ur)))}(this._delegate)}onSnapshotsInSync(e){return function BS(n,e){return function b(n,e){const t=new zy(e);return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return r=yield i(n),o=t,Je(r).Tu.add(o),void o.next();var r,o})),()=>{t.Tc(),n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return r=yield i(n),o=t,void Je(r).Tu.delete(o);var r,o}))}}(Zr(n=Ke(n,ur)),Zf(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Pe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new xm(this,mm(this._delegate,e))}catch(t){throw _s(t,"collection()","Firestore.collection()")}}doc(e){try{return new oa(this,Wd(this._delegate,e))}catch(t){throw _s(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new ys(this,function Yy(n,e){if(n=Ke(n,Qt),ne("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Pe(fe.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Hr(n,null,(t=e,new Wa(nn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw _s(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function $S(n,e,t){n=Ke(n,ur);const r=Object.assign(Object.assign({},MS),t);return function(o){if(o.maxAttempts<1)throw new Pe(fe.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function T(n,e,t){const r=new Tr;return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){const o=yield(u=n,Wy(u).then(d=>d.datastore));var u;new iT(n.asyncQueue,o,t,e,r).run()})),r.promise}(Zr(n),o=>e(new jS(n,o)),r)}(this._delegate,t=>e(new w1(this,t)))}batch(){return Zr(this._delegate),new b1(new f1(this._delegate,e=>vm(this._delegate,e)))}loadBundle(e){return function cS(n,e){const t=Zr(n=Ke(n,ur)),r=new tS;return function M(n,e,t,r){const o=function(u,d){let g;return g="string"==typeof u?(new TextEncoder).encode(u):u,y=function(y,I){if(y instanceof Uint8Array)return $b(y,I);if(y instanceof ArrayBuffer)return $b(new Uint8Array(y),I);if(y instanceof ReadableStream)return y.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(g),new GC(y,d);var y}(t,Kg(e));n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){!function $y(n,e,t){const r=Je(n);var o;(o=(0,_e.Z)(function*(u,d,g){try{const y=yield d.getMetadata();if(yield function(V,J){const ie=Je(V),Oe=jr(J.createTime);return ie.persistence.runTransaction("hasNewerBundle","readonly",Fe=>ie.Ds.getBundleMetadata(Fe,J.id)).then(Fe=>!!Fe&&Fe.createTime.compareTo(Oe)>=0)}(u.localStore,y))return yield d.close(),g._completeWith({taskState:"Success",documentsLoaded:(V=y).totalDocuments,bytesLoaded:V.totalBytes,totalDocuments:V.totalDocuments,totalBytes:V.totalBytes}),Promise.resolve(new Set);g._updateProgress(Db(y));const I=new Eb(y,u.localStore,d.wt);let C=yield d.fc();for(;C;){const V=yield I.Nu(C);V&&g._updateProgress(V),C=yield d.fc()}const R=yield I.complete();return yield Di(u,R.Ou,void 0),yield function(V,J){const ie=Je(V);return ie.persistence.runTransaction("Save bundle","readwrite",Oe=>ie.Ds.saveBundleMetadata(Oe,J))}(u.localStore,y),g._completeWith(R.progress),Promise.resolve(R.Mu)}catch(y){return Us("SyncEngine",`Loading bundle failed with ${y}`),g._failWith(y),Promise.resolve(new Set)}var V}),function(u,d,g){return o.apply(this,arguments)})(r,e,t).then(o=>{r.sharedClientState.notifyBundleLoaded(o)})}(yield Gb(n),o,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function lS(n,e){return function N(n,e){return n.asyncQueue.enqueue((0,_e.Z)(function*(){return function(t,r){const o=Je(t);return o.persistence.runTransaction("Get named query","readonly",u=>o.Ds.getNamedQuery(u,r))}(yield Ky(n),e)}))}(Zr(n=Ke(n,ur)),e).then(t=>t?new Hr(n,null,t.query):null)}(this._delegate,e).then(t=>t?new ys(this,t):null)}}class tI extends gT{constructor(e){super(),this.firestore=e}convertBytes(e){return new nv(new Xu(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return oa.forKey(t,this.firestore,null)}}class w1{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new tI(e)}get(e){const t=Qf(e);return this._delegate.get(t).then(r=>new rv(this._firestore,new hl(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const o=Qf(e);return r?(_T("Transaction.set",r),this._delegate.set(o,t,r)):this._delegate.set(o,t),this}update(e,t,r,...o){const u=Qf(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,r,...o),this}delete(e){const t=Qf(e);return this._delegate.delete(t),this}}class b1{constructor(e){this._delegate=e}set(e,t,r){const o=Qf(e);return r?(_T("WriteBatch.set",r),this._delegate.set(o,t,r)):this._delegate.set(o,t),this}update(e,t,r,...o){const u=Qf(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,r,...o),this}delete(e){const t=Qf(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Yf{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new ev(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new iv(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=Yf.INSTANCES;let o=r.get(e);o||(o=new WeakMap,r.set(e,o));let u=o.get(t);return u||(u=new Yf(e,new tI(e),t),o.set(t,u)),u}}Yf.INSTANCES=new WeakMap;class oa{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new tI(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Pe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new oa(t,new mn(t._delegate,r,new Xe(e)))}static forKey(e,t,r){return new oa(t,new mn(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new xm(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new xm(this.firestore,mm(this._delegate,e))}catch(t){throw _s(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Ot.m9)(e))instanceof mn&&_m(this._delegate,e)}set(e,t){t=_T("DocumentReference.set",t);try{return t?p1(this._delegate,e,t):p1(this._delegate,e)}catch(r){throw _s(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?g1(this._delegate,e):g1(this._delegate,e,t,...r)}catch(o){throw _s(o,"updateDoc()","DocumentReference.update()")}}delete(){return function US(n){return vm(Ke(n.firestore,ur),[new Qc(n._key,$n.none())])}(this._delegate)}onSnapshot(...e){const t=I1(e),r=E1(e,o=>new rv(this.firestore,new hl(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)));return m1(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function OS(n){n=Ke(n,mn);const e=Ke(n.firestore,ur),t=Zr(e),r=new Kf(e);return function h(n,e){const t=new Tr;return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return(r=(0,_e.Z)(function*(o,u,d){try{const g=yield function(y,I){const C=Je(y);return C.persistence.runTransaction("read document","readonly",R=>C.localDocuments.getDocument(R,I))}(o,u);g.isFoundDocument()?d.resolve(g):g.isNoDocument()?d.resolve(null):d.reject(new Pe(fe.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(g){const y=Zd(g,`Failed to get document '${u} from cache`);d.reject(y)}}),function(o,u,d){return r.apply(this,arguments)})(yield Ky(n),e,t);var r})),t.promise}(t,n._key).then(o=>new hl(e,r,n._key,o,new Wf(null!==o&&o.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function kS(n){n=Ke(n,mn);const e=Ke(n.firestore,ur);return f(Zr(e),n._key,{source:"server"}).then(t=>mT(e,n,t))}(this._delegate):function PS(n){n=Ke(n,mn);const e=Ke(n.firestore,ur);return f(Zr(e),n._key).then(t=>mT(e,n,t))}(this._delegate),t.then(r=>new rv(this.firestore,new hl(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new oa(this.firestore,this._delegate.withConverter(e?Yf.getInstance(this.firestore,e):null))}}function _s(n,e,t){return n.message=n.message.replace(e,t),n}function I1(n){for(const e of n)if("object"==typeof e&&!yT(e))return e;return{}}function E1(n,e){var t,r;let o;return o=yT(n[0])?n[0]:yT(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:u=>{o.next&&o.next(e(u))},error:null===(t=o.error)||void 0===t?void 0:t.bind(o),complete:null===(r=o.complete)||void 0===r?void 0:r.bind(o)}}class rv{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new oa(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return i1(this._delegate,e._delegate)}}class iv extends rv{data(e){const t=this._delegate.data(e);return function dd(n,e){n||ot()}(void 0!==t),t}}class ys{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new tI(e)}where(e,t,r){try{return new ys(this.firestore,Yd(this._delegate,function wS(n,e,t){const r=e,o=Xb("where",n);return new xS(o,r,t)}(e,t,r)))}catch(o){throw _s(o,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new ys(this.firestore,Yd(this._delegate,function IS(n,e="asc"){const t=e,r=Xb("orderBy",n);return new bS(r,t)}(e,t)))}catch(r){throw _s(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new ys(this.firestore,Yd(this._delegate,function ES(n){return Le("limit",n),new o1("limit",n,"F")}(e)))}catch(t){throw _s(t,"limit()","Query.limit()")}}limitToLast(e){try{return new ys(this.firestore,Yd(this._delegate,function DS(n){return Le("limitToLast",n),new o1("limitToLast",n,"L")}(e)))}catch(t){throw _s(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new ys(this.firestore,Yd(this._delegate,function TS(...n){return new a1("startAt",n,!0)}(...e)))}catch(t){throw _s(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new ys(this.firestore,Yd(this._delegate,function CS(...n){return new a1("startAfter",n,!1)}(...e)))}catch(t){throw _s(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new ys(this.firestore,Yd(this._delegate,function AS(...n){return new u1("endBefore",n,!1)}(...e)))}catch(t){throw _s(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new ys(this.firestore,Yd(this._delegate,function SS(...n){return new u1("endAt",n,!0)}(...e)))}catch(t){throw _s(t,"endAt()","Query.endAt()")}}isEqual(e){return ym(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function FS(n){n=Ke(n,Hr);const e=Ke(n.firestore,ur),t=Zr(e),r=new Kf(e);return function _(n,e){const t=new Tr;return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return(r=(0,_e.Z)(function*(o,u,d){try{const g=yield jd(o,u,!0),y=new om(u,g.ji),I=y.Ku(g.documents),C=y.applyChanges(I,!1);d.resolve(C.snapshot)}catch(g){const y=Zd(g,`Failed to execute query '${u} against cache`);d.reject(y)}}),function(o,u,d){return r.apply(this,arguments)})(yield Ky(n),e,t);var r})),t.promise}(t,n._query).then(o=>new Kd(e,r,n,o))}(this._delegate):"server"===e?.source?function LS(n){n=Ke(n,Hr);const e=Ke(n.firestore,ur),t=Zr(e),r=new Kf(e);return x(t,n._query,{source:"server"}).then(o=>new Kd(e,r,n,o))}(this._delegate):function NS(n){n=Ke(n,Hr);const e=Ke(n.firestore,ur),t=Zr(e),r=new Kf(e);return s1(n._query),x(t,n._query).then(o=>new Kd(e,r,n,o))}(this._delegate),t.then(r=>new vT(this.firestore,new Kd(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=I1(e),r=E1(e,o=>new vT(this.firestore,new Kd(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)));return m1(this._delegate,t,r)}withConverter(e){return new ys(this.firestore,this._delegate.withConverter(e?Yf.getInstance(this.firestore,e):null))}}class XS{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new iv(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class vT{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new ys(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new iv(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new XS(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new iv(this._firestore,r))})}isEqual(e){return i1(this._delegate,e._delegate)}}class xm extends ys{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new oa(this.firestore,e):null}doc(e){try{return new oa(this.firestore,void 0===e?Wd(this._delegate):Wd(this._delegate,e))}catch(t){throw _s(t,"doc()","CollectionReference.doc()")}}add(e){return function VS(n,e){const t=Ke(n.firestore,ur),r=Wd(n),o=eI(n.converter,e);return vm(t,[Yb(zf(n.firestore),"addDoc",r._key,o,null!==n.converter,{}).toMutation(r._key,$n.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new oa(this.firestore,t))}isEqual(e){return _m(this._delegate,e._delegate)}withConverter(e){return new xm(this.firestore,this._delegate.withConverter(e?Yf.getInstance(this.firestore,e):null))}}function Qf(n){return Ke(n,mn)}class xT{constructor(...e){this._delegate=new dl(...e)}static documentId(){return new xT(jn.keyField().canonicalString())}isEqual(e){return(e=(0,Ot.m9)(e))instanceof dl&&this._delegate._internalPath.isEqual(e._internalPath)}}class Jf{constructor(e){this._delegate=e}static serverTimestamp(){const e=function ZS(){return new lT("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Jf(e)}static delete(){const e=function HS(){return new Jy("deleteField")}();return e._methodName="FieldValue.delete",new Jf(e)}static arrayUnion(...e){const t=function qS(...n){return new pS("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Jf(t)}static arrayRemove(...e){const t=function zS(...n){return new gS("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Jf(t)}static increment(e){const t=function GS(n){return new mS("increment",n)}(e);return t._methodName="FieldValue.increment",new Jf(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const eM={Firestore:x1,GeoPoint:Wb,Timestamp:Mn,Blob:nv,Transaction:w1,WriteBatch:b1,DocumentReference:oa,DocumentSnapshot:rv,Query:ys,QueryDocumentSnapshot:iv,QuerySnapshot:vT,CollectionReference:xm,FieldPath:xT,FieldValue:Jf,setLogLevel:function JS(n){!function Ls(n){Hi.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function nM(n){(function tM(n,e){n.INTERNAL.registerComponent(new Lc.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),o=t.getProvider("firestore").getImmediate();return e(r,o)},"PUBLIC").setServiceProps(Object.assign({},eM)))})(n,(e,t)=>new x1(e,t,new QS)),n.registerVersion("@firebase/firestore-compat","0.1.23")}(y_.Z);var rM=k(6451),nI=k(5363),iM=k(6063);class sM extends Xi.x{constructor(e=1/0,t=1/0,r=iM.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:o,_timestampProvider:u,_windowTime:d}=this;t||(r.push(e),!o&&r.push(u.now()+d)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:o}=this,u=o.slice();for(let d=0;d<u.length&&!e.closed;d+=r?1:2)e.next(u[d]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:o}=this,u=(o?1:2)*e;if(e<1/0&&u<r.length&&r.splice(0,r.length-u),!o){const d=t.now();let g=0;for(let y=1;y<r.length&&r[y]<=d;y+=2)g=y;g&&r.splice(0,g+1)}}}var oM=k(3099);function D1(n,e,t){let r,o=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:o=!1,scheduler:t}=n):r=n??1/0,(0,oM.B)({connector:()=>new sM(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}function T1(n,e){return(0,io.m)(e)?Yn(()=>n,e):Yn(()=>n)}var wT=k(9468),Xf=k(5867);class wm{constructor(e){return e}}class C1{constructor(){return(0,Xf.C6)()}}const bT=new l.OlP("angularfire2._apps"),uM={provide:wm,useFactory:function aM(n){return n&&1===n.length?n[0]:new wm((0,Xf.Mq)())},deps:[[new l.FiY,bT]]},cM={provide:C1,deps:[[new l.FiY,bT]]};function lM(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new wm(r)}}let dM=(()=>{class n{constructor(t){(0,Xf.KN)("angularfire",Jt.q4.full,"core"),(0,Xf.KN)("angularfire",Jt.q4.full,"app"),(0,Xf.KN)("angular",l.q4F.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.Lbi))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[uM,cM]}),n})();function hM(n,...e){return{ngModule:dM,providers:[{provide:bT,useFactory:lM(n),multi:!0,deps:[l.R0b,l.zs3,Jt.HU,...e]}]}}const fM=(0,Jt.u3)(Xf.ZF,!0),A1=new Map,pM={activated:!1,tokenObservers:[]},gM={initialized:!1,enabled:!1};function li(n){return A1.get(n)||pM}function ru(n,e){A1.set(n,e)}function rI(){return gM}class xM{constructor(e,t,r,o,u){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=o,this.upperBound=u,this.pending=null,this.nextErrorWaitInterval=o,o>u)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,_e.Z)(function*(){t.stop();try{t.pending=new Ot.BH,yield function wM(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Ot.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const vs=new Ot.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function M1(n){if(!li(n).activated)throw vs.create("use-before-activation",{appName:n.name})}function DT(n,e){return TT.apply(this,arguments)}function TT(){return TT=(0,_e.Z)(function*({url:n,body:e},t){var r,o;const u={"Content-Type":"application/json"},d=t.getImmediate({optional:!0});if(d){const J=yield d.getHeartbeatsHeader();J&&(u["X-Firebase-Client"]=J)}const g={method:"POST",body:JSON.stringify(e),headers:u};let y,I;try{y=yield fetch(n,g)}catch(J){throw vs.create("fetch-network-error",{originalErrorMessage:null===(r=J)||void 0===r?void 0:r.message})}if(200!==y.status)throw vs.create("fetch-status-error",{httpStatus:y.status});try{I=yield y.json()}catch(J){throw vs.create("fetch-parse-error",{originalErrorMessage:null===(o=J)||void 0===o?void 0:o.message})}const C=I.ttl.match(/^([\d.]+)(s)$/);if(!C||!C[2]||isNaN(Number(C[1])))throw vs.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${I.ttl}`});const R=1e3*Number(C[1]),V=Date.now();return{token:I.token,expireTimeMillis:V+R,issuedAtTimeMillis:V}}),TT.apply(this,arguments)}function DM(n,e){const{projectId:t,appId:r,apiKey:o}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${o}`,body:{debug_token:e}}}const sv="firebase-app-check-store";let oI=null;function P1(){return oI||(oI=new Promise((n,e)=>{var t;try{const r=indexedDB.open("firebase-app-check-database",1);r.onsuccess=o=>{n(o.target.result)},r.onerror=o=>{var u;e(vs.create("storage-open",{originalErrorMessage:null===(u=o.target.error)||void 0===u?void 0:u.message}))},r.onupgradeneeded=o=>{0===o.oldVersion&&o.target.result.createObjectStore(sv,{keyPath:"compositeKey"})}}catch(r){e(vs.create("storage-open",{originalErrorMessage:null===(t=r)||void 0===t?void 0:t.message}))}}),oI)}function CT(){return CT=(0,_e.Z)(function*(n,e){const r=(yield P1()).transaction(sv,"readwrite"),u=r.objectStore(sv).put({compositeKey:n,value:e});return new Promise((d,g)=>{u.onsuccess=y=>{d()},r.onerror=y=>{var I;g(vs.create("storage-set",{originalErrorMessage:null===(I=y.target.error)||void 0===I?void 0:I.message}))}})}),CT.apply(this,arguments)}const ov=new Au.Yd("@firebase/app-check");function F1(n,e){return(0,Ot.hl)()?function SM(n,e){return function O1(n,e){return CT.apply(this,arguments)}(function N1(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{ov.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function L1(){return rI().enabled}function U1(){return RT.apply(this,arguments)}function RT(){return RT=(0,_e.Z)(function*(){const n=rI();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),RT.apply(this,arguments)}const NM={error:"UNKNOWN_ERROR"};function FM(n){return Ot.US.encodeString(JSON.stringify(n),!1)}function aI(n){return PT.apply(this,arguments)}function PT(){return PT=(0,_e.Z)(function*(n,e=!1){const t=n.app;M1(t);const r=li(t);let u,o=r.token;if(!o){const y=yield r.cachedTokenPromise;y&&uI(y)&&(o=y)}if(!e&&o&&uI(o))return{token:o.token};let g,d=!1;if(L1()){r.exchangeTokenPromise||(r.exchangeTokenPromise=DT(DM(t,yield U1()),n.heartbeatServiceProvider).then(I=>(r.exchangeTokenPromise=void 0,I)),d=!0);const y=yield r.exchangeTokenPromise;return yield F1(t,y),ru(t,Object.assign(Object.assign({},r),{token:y})),{token:y.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(y=>(r.exchangeTokenPromise=void 0,y)),d=!0),o=yield r.exchangeTokenPromise}catch(y){"appCheck/throttled"===y.code?ov.warn(y.message):ov.error(y),u=y}return o?(g={token:o.token},ru(t,Object.assign(Object.assign({},r),{token:o})),yield F1(t,o)):g=UM(u),d&&B1(t,g),g}),PT.apply(this,arguments)}function kT(n,e){const t=li(n),r=t.tokenObservers.filter(o=>o.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),ru(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function V1(n){const{app:e}=n,t=li(e);let r=t.tokenRefresher;r||(r=function LM(n){const{app:e}=n;return new xM((0,_e.Z)(function*(){let r;if(r=li(e).token?yield aI(n,!0):yield aI(n),r.error)throw r.error}),()=>!0,()=>{const t=li(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),ru(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function B1(n,e){const t=li(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}function uI(n){return n.expireTimeMillis-Date.now()>0}function UM(n){return{token:FM(NM),error:n}}class VM{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=li(this.app);for(const t of e)kT(this.app,t.next);return Promise.resolve()}}const W1="app-check-internal";!function XM(){(0,$i._registerComponent)(new Lc.wA("app-check",n=>function BM(n,e){return new VM(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(W1).initialize()})),(0,$i._registerComponent)(new Lc.wA(W1,n=>function jM(n){return{getToken:e=>aI(n,e),addTokenListener:e=>function OT(n,e,t,r){const{app:o}=n,u=li(o),d={next:t,error:r,type:e};if(ru(o,Object.assign(Object.assign({},u),{tokenObservers:[...u.tokenObservers,d]})),u.token&&uI(u.token)){const g=u.token;Promise.resolve().then(()=>{t({token:g.token}),V1(n)}).catch(()=>{})}u.cachedTokenPromise.then(()=>V1(n))}(n,"INTERNAL",e),removeTokenListener:e=>kT(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,$i.registerVersion)("@firebase/app-check","0.5.12")}();class av{constructor(){return(0,Jt.vb)("app-check")}}typeof window<"u"&&window;var Y1=k(127);const Q1=new l.OlP("angularfire2.auth.use-emulator"),J1=new l.OlP("angularfire2.auth.settings"),X1=new l.OlP("angularfire2.auth.tenant-id"),eA=new l.OlP("angularfire2.auth.langugage-code"),tA=new l.OlP("angularfire2.auth.use-device-language"),nA=new l.OlP("angularfire.auth.persistence"),rA=(n,e,t,r,o,u,d,g)=>(0,vi.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const y=e.runOutsideAngular(()=>n.auth());if(t&&y.useEmulator(...t),r&&(y.tenantId=r),y.languageCode=o,u&&y.useDeviceLanguage(),d)for(const[I,C]of Object.entries(d))y.settings[I]=C;return g&&y.setPersistence(g),y},[t,r,o,u,d,g]);let iA=(()=>{class n{constructor(t,r,o,u,d,g,y,I,C,R,V,J){const ie=new Xi.x,Oe=Ze(void 0).pipe((0,nI.Q)(d.outsideAngular),Yn(()=>u.runOutsideAngular(()=>Promise.resolve().then(k.bind(k,5881)))),(0,Dt.U)(()=>(0,vi.on)(t,u,r)),(0,Dt.U)(Fe=>rA(Fe,u,g,I,C,R,y,V)),D1({bufferSize:1,refCount:!1}));if(uc(o))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Ze(null);else{Oe.pipe(yn()).subscribe();const xt=Oe.pipe(Yn(lt=>lt.getRedirectResult().then(Mt=>Mt,()=>null)),Jt.iC,D1({bufferSize:1,refCount:!1})),Et=Oe.pipe(Yn(lt=>new oi.y(Mt=>({unsubscribe:u.runOutsideAngular(()=>lt.onAuthStateChanged(Gt=>Mt.next(Gt),Gt=>Mt.error(Gt),()=>Mt.complete()))})))),wt=Oe.pipe(Yn(lt=>new oi.y(Mt=>({unsubscribe:u.runOutsideAngular(()=>lt.onIdTokenChanged(Gt=>Mt.next(Gt),Gt=>Mt.error(Gt),()=>Mt.complete()))}))));this.authState=xt.pipe(T1(Et),(0,wT.R)(d.outsideAngular),(0,nI.Q)(d.insideAngular)),this.user=xt.pipe(T1(wt),(0,wT.R)(d.outsideAngular),(0,nI.Q)(d.insideAngular)),this.idToken=this.user.pipe(Yn(lt=>lt?(0,tn.D)(lt.getIdToken()):Ze(null))),this.idTokenResult=this.user.pipe(Yn(lt=>lt?(0,tn.D)(lt.getIdTokenResult()):Ze(null))),this.credential=(0,rM.T)(xt,ie,this.authState.pipe(Li(lt=>!lt))).pipe((0,Dt.U)(lt=>lt?.user?lt:null),(0,wT.R)(d.outsideAngular),(0,nI.Q)(d.insideAngular))}return(0,vi.pX)(this,Oe,u,{spy:{apply:(Fe,xt,Et)=>{(Fe.startsWith("signIn")||Fe.startsWith("createUser"))&&Et.then(wt=>ie.next(wt))}}})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(vi.Dh),l.LFG(vi.xv,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(Jt.HU),l.LFG(Q1,8),l.LFG(J1,8),l.LFG(X1,8),l.LFG(eA,8),l.LFG(tA,8),l.LFG(nA,8),l.LFG(av,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function sA(n,e){return function sR(n,e=m_.z){return new oi.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function VT(n,e){return sA(n,e).pipe((0,Dt.U)(t=>({payload:t,type:"query"})))}function lI(n,e){return VT(n,e).pipe(Rl(void 0),Lp(),(0,Dt.U)(([t,r])=>{const o=r.payload.docChanges(),u=o.map(d=>({type:d.type,payload:d}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((d,g)=>{const y=o.find(C=>C.doc.ref.isEqual(d.ref)),I=t?.payload.docs.find(C=>C.ref.isEqual(d.ref));y&&JSON.stringify(y.doc.metadata)===JSON.stringify(d.metadata)||!y&&I&&JSON.stringify(I.metadata)===JSON.stringify(d.metadata)||u.push({type:"modified",payload:{oldIndex:g,newIndex:g,type:"modified",doc:d}})}),u}))}function oA(n,e,t){return lI(n,t).pipe(Vn((r,o)=>function aR(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function uR(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return BT(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return BT(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return BT(n,e.oldIndex,1)}return n}(n,r))}),n}(r,o.map(u=>u.payload),e),[]),function __(n,e=Ni.y){return n=n??nE,(0,mt.e)((t,r)=>{let o,u=!0;t.subscribe((0,vn.x)(r,d=>{const g=e(d);(u||!n(o,g))&&(u=!1,o=g,r.next(d))}))})}(),(0,Dt.U)(r=>r.map(o=>({type:o.type,payload:o}))))}function BT(n,e,t,...r){const o=n.slice();return o.splice(e,t,...r),o}function aA(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class uA{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=lI(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,Dt.U)(r=>r.filter(o=>e.indexOf(o.type)>-1)))),t.pipe(Rl(void 0),Lp(),Li(([r,o])=>o.length>0||!r),(0,Dt.U)(([r,o])=>o),Jt.iC)}auditTrail(e){return this.stateChanges(e).pipe(Vn((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=aA(e);return oA(this.query,t,this.afs.schedulers.outsideAngular).pipe(Jt.iC)}valueChanges(e={}){return VT(this.query,this.afs.schedulers.outsideAngular).pipe((0,Dt.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),Jt.iC)}get(e){return(0,tn.D)(this.query.get(e)).pipe(Jt.iC)}add(e){return this.ref.add(e)}doc(e){return new cA(this.ref.doc(e),this.afs)}}class cA{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:o,query:u}=hA(r,t);return new uA(o,u,this.afs)}snapshotChanges(){return function oR(n,e){return sA(n,e).pipe(Rl(void 0),Lp(),(0,Dt.U)(([t,r])=>r.exists?t?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Jt.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Dt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,tn.D)(this.ref.get(e)).pipe(Jt.iC)}}class cR{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?lI(this.query,this.afs.schedulers.outsideAngular).pipe((0,Dt.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),Li(t=>t.length>0),Jt.iC):lI(this.query,this.afs.schedulers.outsideAngular).pipe(Jt.iC)}auditTrail(e){return this.stateChanges(e).pipe(Vn((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=aA(e);return oA(this.query,t,this.afs.schedulers.outsideAngular).pipe(Jt.iC)}valueChanges(e={}){return VT(this.query,this.afs.schedulers.outsideAngular).pipe((0,Dt.U)(r=>r.payload.docs.map(o=>e.idField?Object.assign({[e.idField]:o.id},o.data()):o.data())),Jt.iC)}get(e){return(0,tn.D)(this.query.get(e)).pipe(Jt.iC)}}const lA=new l.OlP("angularfire2.enableFirestorePersistence"),dA=new l.OlP("angularfire2.firestore.persistenceSettings"),lR=new l.OlP("angularfire2.firestore.settings"),dR=new l.OlP("angularfire2.firestore.use-emulator");function hA(n,e=(t=>t)){return{query:e(n),ref:n}}let uv=(()=>{class n{constructor(t,r,o,u,d,g,y,I,C,R,V,J,ie,Oe,Fe,xt,Et){this.schedulers=y;const wt=(0,vi.on)(t,g,r),lt=C;R&&rA(wt,g,V,ie,Oe,Fe,J,xt),[this.firestore,this.persistenceEnabled$]=(0,vi.cc)(`${wt.name}.firestore`,"AngularFirestore",wt.name,()=>{const Mt=g.runOutsideAngular(()=>wt.firestore());if(u&&Mt.settings(u),lt&&Mt.useEmulator(...lt),o&&!uc(d)){const Gt=()=>{try{return(0,tn.D)(Mt.enablePersistence(I||void 0).then(()=>!0,()=>!1))}catch(_r){return typeof console<"u"&&console.warn(_r),Ze(!1)}};return[Mt,g.runOutsideAngular(Gt)]}return[Mt,Ze(!1)]},[u,lt,o])}collection(t,r){let o;o="string"==typeof t?this.firestore.collection(t):t;const{ref:u,query:d}=hA(o,r),g=this.schedulers.ngZone.run(()=>u);return new uA(g,d,this)}collectionGroup(t,r){const o=r||(d=>d),u=this.firestore.collectionGroup(t);return new cR(o(u),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const o=this.schedulers.ngZone.run(()=>r);return new cA(o,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(vi.Dh),l.LFG(vi.xv,8),l.LFG(lA,8),l.LFG(lR,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(Jt.HU),l.LFG(dA,8),l.LFG(dR,8),l.LFG(iA,8),l.LFG(Q1,8),l.LFG(J1,8),l.LFG(X1,8),l.LFG(eA,8),l.LFG(tA,8),l.LFG(nA,8),l.LFG(av,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),hR=(()=>{class n{constructor(){Y1.Z.registerVersion("angularfire",Jt.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:lA,useValue:!0},{provide:dA,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[uv]}),n})(),bm=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-footer"]],decls:32,vars:0,consts:[["id","columna1"],["id","columna2"],["src","../../../assets/facebook.png","width","15px","alt",""],["href","https://es-la.facebook.com/centrouniversitariodetonala/"],["src","../../../assets/instagram-dark.png","width","15px","alt",""],["href","https://www.instagram.com/cutonala.udg/?hl=es"],["src","../../../assets/twitter-dark.png","width","15px","alt",""],["href","https://twitter.com/Cutonala_udg"],["id","columna3"],["src","https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3735.5235406408756!2d-103.23079978513168!3d20.56666668625044!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x842f4b24202abe73%3A0xd33161e2e4345862!2sCentro%20Universitario%20de%20Tonal%C3%A1%20-%20Universidad%20de%20Guadalajara!5e0!3m2!1ses-419!2smx!4v1656628811338!5m2!1ses-419!2smx","width","400","height","200","allowfullscreen","","loading","lazy","referrerpolicy","no-referrer-when-downgrade",2,"border","0"]],template:function(t,r){1&t&&(l.TgZ(0,"footer")(1,"div",0)(2,"h3"),l._uU(3,"Universidad de guadalajara"),l.qZA(),l.TgZ(4,"h4"),l._uU(5,"Centro universitario de Tonal\xe1"),l.qZA(),l.TgZ(6,"p"),l._uU(7," Campus CUTonal\xe1. "),l._UZ(8,"br"),l._uU(9," Av. Nuevo Periferico No. 555 Ejido San Jose Tateposco. C.P. 45425. Tonal\xe1 Jalisco, M\xe9xico. "),l._UZ(10,"br"),l.TgZ(11,"b"),l._uU(12,"Telefono:"),l.qZA(),l._uU(13," +52 (33) 20 00 23 00 Ext: 64007 y 64044 "),l.qZA()(),l.TgZ(14,"div",1)(15,"h3"),l._uU(16,"Redes Sociales"),l.qZA(),l.TgZ(17,"ul")(18,"li"),l._UZ(19,"img",2),l.TgZ(20,"a",3),l._uU(21,"Facebook"),l.qZA()(),l.TgZ(22,"li"),l._UZ(23,"img",4),l.TgZ(24,"a",5),l._uU(25,"Instagram"),l.qZA()(),l.TgZ(26,"li"),l._UZ(27,"img",6),l.TgZ(28,"a",7),l._uU(29,"Twitter"),l.qZA()()()(),l.TgZ(30,"div",8),l._UZ(31,"iframe",9),l.qZA()())}}),n})();function fR(n,e){1&n&&(l.TgZ(0,"div",23)(1,"a",24),l._uU(2,"Plan de estudios"),l.qZA(),l.TgZ(3,"a",25),l._uU(4,"Convocatorias"),l.qZA(),l.TgZ(5,"a",26),l._uU(6,"Cursos"),l.qZA(),l.TgZ(7,"a",27),l._uU(8,"Videos"),l.qZA(),l.TgZ(9,"a",28),l._uU(10,"Contacto"),l.qZA(),l.TgZ(11,"a",29),l._uU(12,"SIGA"),l.qZA(),l.TgZ(13,"a",30),l._uU(14,"SIIAU"),l.qZA(),l.TgZ(15,"a",31),l._uU(16,"CuTonal\xe1"),l.qZA(),l.TgZ(17,"a",32),l._uU(18,"Ventanilla Unica"),l.qZA()())}function pR(n,e){1&n&&(l.TgZ(0,"div",33)(1,"a",34),l._uU(2,"Contacto"),l.qZA(),l.TgZ(3,"a",29),l._uU(4,"SIGA"),l.qZA(),l.TgZ(5,"a",30),l._uU(6,"SIIAU"),l.qZA(),l.TgZ(7,"a",31),l._uU(8,"CuTonal\xe1"),l.qZA(),l.TgZ(9,"a",32),l._uU(10,"Ventanilla Unica"),l.qZA()())}function gR(n,e){1&n&&(l.TgZ(0,"div",35)(1,"a",26),l._uU(2,"Cursos"),l.qZA(),l.TgZ(3,"a",27),l._uU(4,"Videos"),l.qZA(),l.TgZ(5,"a",28),l._uU(6,"Contacto"),l.qZA(),l.TgZ(7,"a",29),l._uU(8,"SIGA"),l.qZA(),l.TgZ(9,"a",30),l._uU(10,"SIIAU"),l.qZA(),l.TgZ(11,"a",31),l._uU(12,"CuTonal\xe1"),l.qZA(),l.TgZ(13,"a",32),l._uU(14,"Ventanilla Unica"),l.qZA()())}let cv=(()=>{class n{constructor(){this.showMe=!1}ngOnInit(){}mostrar(){this.showMe=!this.showMe}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-header-component"]],decls:50,vars:3,consts:[[1,"mobile"],[1,"header"],["href","/"],["src","../../../assets/logo.png","width","100","alt",""],["id","bMenuMobile",3,"click"],[1,"material-icons"],["class","linksMobile",4,"ngIf"],["href","/",1,"link"],["href","/Plan de estudios",1,"link"],["href","/Convocatorias",1,"link"],["href","/Cursos",1,"link","link-hide-hide"],["href","/Videos",1,"link","link-hide-hide"],["href","/Contacto",1,"link","link-hide"],["href","http://siga.cutonala.udg.mx/","target","_blank",1,"link","link-hide"],["href","http://siiauescolar.siiau.udg.mx/","target","_blank",1,"link","link-hide"],["href","http://www.cutonala.udg.mx/","target","_blank",1,"link","link-hide"],["href","https://mw.siiau.udg.mx/Portal/login.xhtml","target","_blank",1,"link","link-hide"],[1,"mas"],["id","bmas",3,"click"],["class","menu-mas",4,"ngIf"],[1,"mas2"],["id","bmas2",3,"click"],["class","menu-mas2",4,"ngIf"],[1,"linksMobile"],["href","/Plan de estudios"],["href","/Convocatorias"],["href","/Cursos"],["href","/Videos"],["href","/Contacto"],["href","http://siga.cutonala.udg.mx/","target","_blank"],["href","http://siiauescolar.siiau.udg.mx/","target","_blank"],["href","http://www.cutonala.udg.mx/","target","_blank"],["href","https://mw.siiau.udg.mx/Portal/login.xhtml","target","_blank"],[1,"menu-mas"],["href","/Comtacto"],[1,"menu-mas2"]],template:function(t,r){1&t&&(l.TgZ(0,"nav")(1,"div",0)(2,"div",1)(3,"a",2),l._UZ(4,"img",3),l.qZA(),l.TgZ(5,"button",4),l.NdJ("click",function(){return r.mostrar()}),l.TgZ(6,"span",5),l._uU(7,"\ue5d2"),l.qZA()()(),l.YNc(8,fR,19,0,"div",6),l.qZA(),l.TgZ(9,"ul")(10,"a",2),l._UZ(11,"img",3),l.qZA(),l.TgZ(12,"li")(13,"a",7),l._uU(14,"Inicio"),l.qZA()(),l.TgZ(15,"li")(16,"a",8),l._uU(17,"Plan de estudios"),l.qZA()(),l.TgZ(18,"li")(19,"a",9),l._uU(20,"Convocatorias"),l.qZA()(),l.TgZ(21,"li")(22,"a",10),l._uU(23,"Cursos"),l.qZA()(),l.TgZ(24,"li")(25,"a",11),l._uU(26,"Videos"),l.qZA()(),l.TgZ(27,"li")(28,"a",12),l._uU(29,"Contacto"),l.qZA()(),l.TgZ(30,"li")(31,"a",13),l._uU(32,"SIGA"),l.qZA()(),l.TgZ(33,"li")(34,"a",14),l._uU(35,"SIIAU"),l.qZA()(),l.TgZ(36,"li")(37,"a",15),l._uU(38,"CuTonal\xe1"),l.qZA()(),l.TgZ(39,"li")(40,"a",16),l._uU(41,"Ventanilla Unica"),l.qZA()(),l.TgZ(42,"li",17)(43,"a",18),l.NdJ("click",function(){return r.mostrar()}),l._uU(44,"M\xe1s"),l.qZA(),l.YNc(45,pR,11,0,"div",19),l.qZA(),l.TgZ(46,"li",20)(47,"a",21),l.NdJ("click",function(){return r.mostrar()}),l._uU(48,"M\xe1s"),l.qZA(),l.YNc(49,gR,15,0,"div",22),l.qZA()()()),2&t&&(l.xp6(8),l.Q6J("ngIf",r.showMe),l.xp6(37),l.Q6J("ngIf",r.showMe),l.xp6(4),l.Q6J("ngIf",r.showMe))},dependencies:[tr]}),n})();function mR(n,e){if(1&n&&(l.TgZ(0,"div",2)(1,"span",3),l._uU(2,"\ue7fd"),l.qZA(),l.TgZ(3,"div",4)(4,"h3"),l._uU(5,"Encargado"),l.qZA(),l.TgZ(6,"p"),l._uU(7),l.qZA(),l.TgZ(8,"h3"),l._uU(9,"Nombre"),l.qZA(),l.TgZ(10,"p"),l._uU(11),l.qZA(),l.TgZ(12,"h3"),l._uU(13,"Telefono"),l.qZA(),l.TgZ(14,"p"),l._uU(15),l.qZA(),l.TgZ(16,"h3"),l._uU(17,"Correo"),l.qZA(),l.TgZ(18,"p"),l._uU(19),l.qZA()()()),2&n){const t=e.$implicit;l.xp6(7),l.Oqu(t.encargado),l.xp6(4),l.Oqu(t.nombre),l.xp6(4),l.Oqu(t.telefono),l.xp6(4),l.Oqu(t.correo)}}let _R=(()=>{class n{constructor(t){this.items=t.collection("contacto").valueChanges()}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(uv))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-contacto"]],decls:5,vars:3,consts:[[1,"contenido"],["class","card",4,"ngFor","ngForOf"],[1,"card"],[1,"material-icons"],[1,"info"]],template:function(t,r){1&t&&(l._UZ(0,"app-header-component"),l.TgZ(1,"div",0),l.YNc(2,mR,20,4,"div",1),l.ALo(3,"async"),l.qZA(),l._UZ(4,"app-footer")),2&t&&(l.xp6(2),l.Q6J("ngForOf",l.lcZ(3,1,r.items)))},dependencies:[Wr,bm,cv,ac],styles:["[_ngcontent-%COMP%]:root{--border: #b7b7b7}.contenido[_ngcontent-%COMP%]{width:80%;margin:20px auto;display:grid;grid-template-columns:repeat(auto-fill,minmax(450px,1fr));gap:15px;z-index:100}.card[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:175px;margin-top:auto;margin-bottom:auto}.card[_ngcontent-%COMP%]{display:flex;width:450px;justify-self:center;border:2px solid var(--border);border-radius:5px}.card[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{padding:10px;margin-left:auto;margin-right:auto}.card[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{text-align:center}body[_ngcontent-%COMP%]{background-color:#f1f1f1}@media screen and (max-width: 805px){.card[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:none}.contenido[_ngcontent-%COMP%]{width:100%}.card[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{font-size:13px;border:none;margin:auto;padding:0}}@media screen and (max-width: 570px){.card[_ngcontent-%COMP%]{width:300px}}"]}),n})();k(6457);class pA{constructor(){return(0,Jt.vb)("auth")}}const gA="firebasestorage.googleapis.com",mA="storageBucket";class wr extends Ot.ZR{constructor(e,t){super(HT(e),`Firebase Storage: ${t} (${HT(e)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,wr.prototype)}_codeEquals(e){return HT(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function HT(n){return"storage/"+n}function ZT(){return new wr("unknown","An unknown error occurred, please check the error payload for server response.")}function _A(){return new wr("canceled","User canceled the upload/download.")}function yA(){return new wr("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Im(n){return new wr("invalid-argument",n)}function vA(){return new wr("app-deleted","The Firebase app was deleted.")}function xA(n){return new wr("invalid-root-operation","The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function lv(n,e){return new wr("invalid-format","String does not match format '"+n+"': "+e)}function dv(n){throw new wr("internal-error","Internal error: "+n)}class Gi{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=Gi.makeFromUrl(e,t)}catch{return new Gi(e,"")}if(""===r.path)return r;throw function MR(n){return new wr("invalid-default-bucket","Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let r=null;const o="([A-Za-z0-9.\\-_]+)",g=new RegExp("^gs://"+o+"(/(.*))?$","i");function I(lt){lt.path_=decodeURIComponent(lt.path)}const R=t.replace(/[.]/g,"\\."),wt=[{regex:g,indices:{bucket:1,path:3},postModify:function u(lt){"/"===lt.path.charAt(lt.path.length-1)&&(lt.path_=lt.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${R}/v[A-Za-z0-9_]+/b/${o}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:I},{regex:new RegExp(`^https?://${t===gA?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${o}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:I}];for(let lt=0;lt<wt.length;lt++){const Mt=wt[lt],Gt=Mt.regex.exec(e);if(Gt){let su=Gt[Mt.indices.path];su||(su=""),r=new Gi(Gt[Mt.indices.bucket],su),Mt.postModify(r);break}}if(null==r)throw function SR(n){return new wr("invalid-url","Invalid URL '"+n+"'.")}(e);return r}}class kR{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function dI(n){return"string"==typeof n||n instanceof String}function wA(n){return qT()&&n instanceof Blob}function qT(){return typeof Blob<"u"}function zT(n,e,t,r){if(r<e)throw Im(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw Im(`Invalid value for '${n}'. Expected ${t} or less.`)}function fl(n,e,t){let r=e;return null==t&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function bA(n){const e=encodeURIComponent;let t="?";for(const r in n)n.hasOwnProperty(r)&&(t=t+(e(r)+"=")+e(n[r])+"&");return t=t.slice(0,-1),t}var Jd=(()=>(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"}(Jd||(Jd={})),Jd))();class BR{constructor(e,t,r,o,u,d,g,y,I,C,R){this.url_=e,this.method_=t,this.headers_=r,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=d,this.callback_=g,this.errorCallback_=y,this.timeout_=I,this.progressCallback_=C,this.connectionFactory_=R,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((V,J)=>{this.resolve_=V,this.reject_=J,this.start_()})}start_(){const t=(r,o)=>{const u=this.resolve_,d=this.reject_,g=o.connection;if(o.wasSuccessCode)try{const y=this.callback_(g,g.getResponse());!function LR(n){return void 0!==n}(y)?u():u(y)}catch(y){d(y)}else if(null!==g){const y=ZT();y.serverResponse=g.getErrorText(),d(this.errorCallback_?this.errorCallback_(g,y):y)}else d(o.canceled?this.appDelete_?vA():_A():function AR(){return new wr("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}())};this.canceled_?t(0,new hI(!1,null,!0)):this.backoffId_=function NR(n,e,t){let r=1,o=null,u=null,d=!1,g=0;function y(){return 2===g}let I=!1;function C(...Fe){I||(I=!0,e.apply(null,Fe))}function R(Fe){o=setTimeout(()=>{o=null,n(J,y())},Fe)}function V(){u&&clearTimeout(u)}function J(Fe,...xt){if(I)return void V();if(Fe)return V(),void C.call(null,Fe,...xt);if(y()||d)return V(),void C.call(null,Fe,...xt);let wt;r<64&&(r*=2),1===g?(g=2,wt=0):wt=1e3*(r+Math.random()),R(wt)}let ie=!1;function Oe(Fe){ie||(ie=!0,V(),!I&&(null!==o?(Fe||(g=2),clearTimeout(o),R(0)):Fe||(g=1)))}return R(0),u=setTimeout(()=>{d=!0,Oe(!0)},t),Oe}((r,o)=>{if(o)return void r(!1,new hI(!1,null,!0));const u=this.connectionFactory_();this.pendingConnection_=u;const d=g=>{null!==this.progressCallback_&&this.progressCallback_(g.loaded,g.lengthComputable?g.total:-1)};null!==this.progressCallback_&&u.addUploadProgressListener(d),u.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&u.removeUploadProgressListener(d),this.pendingConnection_=null;const g=u.getErrorCode()===Jd.NO_ERROR,y=u.getStatus();if(!g||this.isRetryStatusCode_(y)){const C=u.getErrorCode()===Jd.ABORT;return void r(!1,new hI(!1,null,C))}const I=-1!==this.successCodes_.indexOf(y);r(!0,new hI(I,u))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function FR(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(e){const t=e>=500&&e<600,o=-1!==[408,429].indexOf(e),u=-1!==this.additionalRetryCodes_.indexOf(e);return t||o||u}}class hI{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function GR(...n){const e=function zR(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==e){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}if(qT())return new Blob(n);throw new wr("unsupported-environment","This browser doesn't seem to support creating Blobs")}const xo={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class GT{constructor(e,t){this.data=e,this.contentType=t||null}}function WT(n,e){switch(n){case xo.RAW:return new GT(IA(e));case xo.BASE64:case xo.BASE64URL:return new GT(EA(n,e));case xo.DATA_URL:return new GT(function QR(n){const e=new DA(n);return e.base64?EA(xo.BASE64,e.rest):function YR(n){let e;try{e=decodeURIComponent(n)}catch{throw lv(xo.DATA_URL,"Malformed data URL.")}return IA(e)}(e.rest)}(e),function JR(n){return new DA(n).contentType}(e))}throw ZT()}function IA(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);r<=127?e.push(r):r<=2047?e.push(192|r>>6,128|63&r):55296==(64512&r)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(r=65536|(1023&r)<<10|1023&n.charCodeAt(++t),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):e.push(239,191,189):56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function EA(n,e){switch(n){case xo.BASE64:{const o=-1!==e.indexOf("-"),u=-1!==e.indexOf("_");if(o||u)throw lv(n,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case xo.BASE64URL:{const o=-1!==e.indexOf("+"),u=-1!==e.indexOf("/");if(o||u)throw lv(n,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function KR(n){return atob(n)}(e)}catch{throw lv(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let o=0;o<t.length;o++)r[o]=t.charCodeAt(o);return r}class DA{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw lv(xo.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;null!=r&&(this.base64=function XR(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}class ec{constructor(e,t){let r=0,o="";wA(e)?(this.data_=e,r=e.size,o=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,t){if(wA(this.data_)){const o=function WR(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===o?null:new ec(o)}{const r=new Uint8Array(this.data_.buffer,e,t-e);return new ec(r,!0)}}static getBlob(...e){if(qT()){const t=e.map(r=>r instanceof ec?r.data_:r);return new ec(GR.apply(null,t))}{const t=e.map(d=>dI(d)?WT(xo.RAW,d).data:d.data_);let r=0;t.forEach(d=>{r+=d.byteLength});const o=new Uint8Array(r);let u=0;return t.forEach(d=>{for(let g=0;g<d.length;g++)o[u++]=d[g]}),new ec(o,!0)}}uploadData(){return this.data_}}function KT(n){let e;try{e=JSON.parse(n)}catch{return null}return function VR(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function TA(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function n2(n,e){return e}class xs{constructor(e,t,r,o){this.server=e,this.local=t||e,this.writable=!!r,this.xform=o||n2}}let fI=null;function hv(){if(fI)return fI;const n=[];n.push(new xs("bucket")),n.push(new xs("generation")),n.push(new xs("metageneration")),n.push(new xs("name","fullPath",!0));const t=new xs("name");t.xform=function e(u,d){return function r2(n){return!dI(n)||n.length<2?n:TA(n)}(d)},n.push(t);const o=new xs("size");return o.xform=function r(u,d){return void 0!==d?Number(d):d},n.push(o),n.push(new xs("timeCreated")),n.push(new xs("updated")),n.push(new xs("md5Hash",null,!0)),n.push(new xs("cacheControl",null,!0)),n.push(new xs("contentDisposition",null,!0)),n.push(new xs("contentEncoding",null,!0)),n.push(new xs("contentLanguage",null,!0)),n.push(new xs("contentType",null,!0)),n.push(new xs("metadata","customMetadata",!0)),fI=n,fI}function CA(n,e,t){const r=KT(e);return null===r?null:function s2(n,e,t){const r={type:"file"},o=t.length;for(let u=0;u<o;u++){const d=t[u];r[d.local]=d.xform(r,e[d.server])}return function i2(n,e){Object.defineProperty(n,"ref",{get:function t(){const u=new Gi(n.bucket,n.fullPath);return e._makeStorageReference(u)}})}(r,n),r}(n,r,t)}function YT(n,e){const t={},r=e.length;for(let o=0;o<r;o++){const u=e[o];u.writable&&(t[u.server]=n[u.local])}return JSON.stringify(t)}const AA="prefixes";class tc{constructor(e,t,r,o){this.url=e,this.method=t,this.handler=r,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function nc(n){if(!n)throw ZT()}function pI(n,e){return function t(r,o){const u=CA(n,o,e);return nc(null!==u),u}}function Em(n){return function e(t,r){let o;return o=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?function TR(){return new wr("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function DR(){return new wr("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===t.getStatus()?function ER(n){return new wr("quota-exceeded","Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function CR(n){return new wr("unauthorized","User does not have permission to access '"+n+"'.")}(n.path):r,o.serverResponse=r.serverResponse,o}}function fv(n){const e=Em(n);return function t(r,o){let u=e(r,o);return 404===r.getStatus()&&(u=function IR(n){return new wr("object-not-found","Object '"+n+"' does not exist.")}(n.path)),u.serverResponse=o.serverResponse,u}}function MA(n,e,t){const o=fl(e.fullServerUrl(),n.host,n._protocol),d=n.maxOperationRetryTime,g=new tc(o,"GET",pI(n,t),d);return g.errorHandler=fv(e),g}function d2(n,e,t,r,o){const u={};u.prefix=e.isRoot?"":e.path+"/",t&&t.length>0&&(u.delimiter=t),r&&(u.pageToken=r),o&&(u.maxResults=o);const g=fl(e.bucketOnlyServerUrl(),n.host,n._protocol),I=n.maxOperationRetryTime,C=new tc(g,"GET",function c2(n,e){return function t(r,o){const u=function u2(n,e,t){const r=KT(t);return null===r?null:function a2(n,e,t){const r={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[AA])for(const o of t[AA]){const u=o.replace(/\/$/,""),d=n._makeStorageReference(new Gi(e,u));r.prefixes.push(d)}if(t.items)for(const o of t.items){const u=n._makeStorageReference(new Gi(e,o.name));r.items.push(u)}return r}(n,e,r)}(n,e,o);return nc(null!==u),u}}(n,e.bucket),I);return C.urlParams=u,C.errorHandler=Em(e),C}function PA(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=function g2(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}(null,e)),r}class gI{constructor(e,t,r,o){this.current=e,this.total=t,this.finalized=!!r,this.metadata=o||null}}function QT(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch{nc(!1)}return nc(!!t&&-1!==(e||["active"]).indexOf(t)),t}const v2={STATE_CHANGED:"state_changed"},ws={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function JT(n){switch(n){case"running":case"pausing":case"canceling":return ws.RUNNING;case"paused":return ws.PAUSED;case"success":return ws.SUCCESS;case"canceled":return ws.CANCELED;default:return ws.ERROR}}class x2{constructor(e,t,r){if(function UR(n){return"function"==typeof n}(e)||null!=t||null!=r)this.next=e,this.error=t??void 0,this.complete=r??void 0;else{const u=e;this.next=u.next,this.error=u.error,this.complete=u.complete}}}function Dm(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}class b2 extends class w2{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Jd.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Jd.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Jd.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,o){if(this.sent_)throw dv("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==o)for(const u in o)o.hasOwnProperty(u)&&this.xhr_.setRequestHeader(u,o[u].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw dv("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw dv("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw dv("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw dv("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}{initXhr(){this.xhr_.responseType="text"}}function iu(){return new b2}class FA{constructor(e,t,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=r,this._mappings=hv(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=o=>{this._request=void 0,this._chunkMultiplier=1,o._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=o,this._transition("error"))},this._metadataErrorHandler=o=>{this._request=void 0,o._codeEquals("canceled")?this.completeTransitions_():(this._error=o,this._transition("error"))},this._promise=new Promise((o,u)=>{this._resolve=o,this._reject=u,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,r])=>{switch(this._state){case"running":e(t,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,t)=>{const r=function m2(n,e,t,r,o){const u=e.bucketOnlyServerUrl(),d=PA(e,r,o),g={name:d.fullPath},y=fl(u,n.host,n._protocol),C={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":d.contentType,"Content-Type":"application/json; charset=utf-8"},R=YT(d,t),ie=new tc(y,"POST",function J(Oe){let Fe;QT(Oe);try{Fe=Oe.getResponseHeader("X-Goog-Upload-URL")}catch{nc(!1)}return nc(dI(Fe)),Fe},n.maxUploadRetryTime);return ie.urlParams=g,ie.headers=C,ie.body=R,ie.errorHandler=Em(e),ie}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),o=this._ref.storage._makeRequest(r,iu,e,t);this._request=o,o.getPromise().then(u=>{this._request=void 0,this._uploadUrl=u,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,r)=>{const o=function _2(n,e,t,r){const y=new tc(t,"POST",function u(I){const C=QT(I,["active","final"]);let R=null;try{R=I.getResponseHeader("X-Goog-Upload-Size-Received")}catch{nc(!1)}R||nc(!1);const V=Number(R);return nc(!isNaN(V)),new gI(V,r.size(),"final"===C)},n.maxUploadRetryTime);return y.headers={"X-Goog-Upload-Command":"query"},y.errorHandler=Em(e),y}(this._ref.storage,this._ref._location,e,this._blob),u=this._ref.storage._makeRequest(o,iu,t,r);this._request=u,u.getPromise().then(d=>{this._request=void 0,this._updateProgress(d.current),this._needToFetchStatus=!1,d.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,t=new gI(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((o,u)=>{let d;try{d=function y2(n,e,t,r,o,u,d,g){const y=new gI(0,0);if(d?(y.current=d.current,y.total=d.total):(y.current=0,y.total=r.size()),r.size()!==y.total)throw function PR(){return new wr("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();const I=y.total-y.current;let C=I;o>0&&(C=Math.min(C,o));const R=y.current,ie={"X-Goog-Upload-Command":C===I?"upload, finalize":"upload","X-Goog-Upload-Offset":`${y.current}`},Oe=r.slice(R,R+C);if(null===Oe)throw yA();const wt=new tc(t,"POST",function Fe(lt,Mt){const Gt=QT(lt,["active","final"]),_r=y.current+C,su=r.size();let iC;return iC="final"===Gt?pI(e,u)(lt,Mt):null,new gI(_r,su,"final"===Gt,iC)},e.maxUploadRetryTime);return wt.headers=ie,wt.body=Oe.uploadData(),wt.progressCallback=g||null,wt.errorHandler=Em(n),wt}(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(y){return this._error=y,void this._transition("error")}const g=this._ref.storage._makeRequest(d,iu,o,u);this._request=g,g.getPromise().then(y=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(y.current),y.finalized?(this._metadata=y.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const r=MA(this._ref.storage,this._ref._location,this._mappings),o=this._ref.storage._makeRequest(r,iu,e,t);this._request=o,o.getPromise().then(u=>{this._request=void 0,this._metadata=u,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const r=function OA(n,e,t,r,o){const u=e.bucketOnlyServerUrl(),d={"X-Goog-Upload-Protocol":"multipart"},y=function g(){let wt="";for(let lt=0;lt<2;lt++)wt+=Math.random().toString().slice(2);return wt}();d["Content-Type"]="multipart/related; boundary="+y;const I=PA(e,r,o),C=YT(I,t),J=ec.getBlob("--"+y+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+C+"\r\n--"+y+"\r\nContent-Type: "+I.contentType+"\r\n\r\n",r,"\r\n--"+y+"--");if(null===J)throw yA();const ie={name:I.fullPath},Oe=fl(u,n.host,n._protocol),xt=n.maxUploadRetryTime,Et=new tc(Oe,"POST",pI(n,t),xt);return Et.urlParams=ie,Et.headers=d,Et.body=J.uploadData(),Et.errorHandler=Em(e),Et}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),o=this._ref.storage._makeRequest(r,iu,e,t);this._request=o,o.getPromise().then(u=>{this._request=void 0,this._metadata=u,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=_A(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=JT(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,r,o){const u=new x2(t||void 0,r||void 0,o||void 0);return this._addObserver(u),()=>{this._removeObserver(u)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(JT(this._state)){case ws.SUCCESS:Dm(this._resolve.bind(null,this.snapshot))();break;case ws.CANCELED:case ws.ERROR:Dm(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(JT(this._state)){case ws.RUNNING:case ws.PAUSED:e.next&&Dm(e.next.bind(e,this.snapshot))();break;case ws.SUCCESS:e.complete&&Dm(e.complete.bind(e))();break;default:e.error&&Dm(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class ep{constructor(e,t){this._service=e,this._location=t instanceof Gi?t:Gi.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new ep(e,t)}get root(){const e=new Gi(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return TA(this._location.path)}get storage(){return this._service}get parent(){const e=function e2(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new Gi(this._location.bucket,e);return new ep(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw xA(e)}}function UA(n,e,t){return XT.apply(this,arguments)}function XT(){return XT=(0,_e.Z)(function*(n,e,t){const o=yield VA(n,{pageToken:t});e.prefixes.push(...o.prefixes),e.items.push(...o.items),null!=o.nextPageToken&&(yield UA(n,e,o.nextPageToken))}),XT.apply(this,arguments)}function VA(n,e){null!=e&&"number"==typeof e.maxResults&&zT("options.maxResults",1,1e3,e.maxResults);const t=e||{},r=d2(n.storage,n._location,"/",t.pageToken,t.maxResults);return n.storage.makeRequestWithTokens(r,iu)}function k2(n){n._throwIfRoot("getDownloadURL");const e=function h2(n,e,t){const o=fl(e.fullServerUrl(),n.host,n._protocol),d=n.maxOperationRetryTime,g=new tc(o,"GET",function l2(n,e){return function t(r,o){const u=CA(n,o,e);return nc(null!==u),function o2(n,e,t,r){const o=KT(e);if(null===o||!dI(o.downloadTokens))return null;const u=o.downloadTokens;if(0===u.length)return null;const d=encodeURIComponent;return u.split(",").map(I=>{const R=n.fullPath;return fl("/b/"+d(n.bucket)+"/o/"+d(R),t,r)+bA({alt:"media",token:I})})[0]}(u,o,n.host,n._protocol)}}(n,t),d);return g.errorHandler=fv(e),g}(n.storage,n._location,hv());return n.storage.makeRequestWithTokens(e,iu).then(t=>{if(null===t)throw function OR(){return new wr("no-download-url","The given file does not have any download URLs.")}();return t})}function BA(n,e){const t=function t2(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),r=new Gi(n._location.bucket,t);return new ep(n.storage,r)}function jA(n,e){if(n instanceof eC){const t=n;if(null==t._bucket)throw function RR(){return new wr("no-default-bucket","No default bucket found. Did you set the '"+mA+"' property when initializing the app?")}();const r=new ep(t,t._bucket);return null!=e?jA(r,e):r}return void 0!==e?BA(n,e):n}function U2(n,e){if(e&&function F2(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof eC)return function L2(n,e){return new ep(n,e)}(n,e);throw Im("To use ref(service, url), the first argument must be a Storage instance.")}return jA(n,e)}function $A(n,e){const t=e?.[mA];return null==t?null:Gi.makeFromBucketSpec(t,n)}class eC{constructor(e,t,r,o,u){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=o,this._firebaseVersion=u,this._bucket=null,this._host=gA,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=o?Gi.makeFromBucketSpec(o,this._host):$A(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?Gi.makeFromBucketSpec(this._url,e):$A(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){zT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){zT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,_e.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const r=yield t.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,_e.Z)(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ep(this,e)}_makeRequest(e,t,r,o){if(this._deleted)return new kR(vA());{const u=function qR(n,e,t,r,o,u){const d=bA(n.urlParams),g=n.url+d,y=Object.assign({},n.headers);return function HR(n,e){e&&(n["X-Firebase-GMPID"]=e)}(y,e),function jR(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(y,t),function $R(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(y,u),function ZR(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(y,r),new BR(g,n.method,y,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,o)}(e,this._appId,r,o,t,this._firebaseVersion);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}makeRequestWithTokens(e,t){var r=this;return(0,_e.Z)(function*(){const[o,u]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(e,t,o,u).getPromise()})()}}const HA="@firebase/storage",qA="storage";function zA(n){return function R2(n){const e={prefixes:[],items:[]};return UA(n,e).then(()=>e)}(n=(0,Ot.m9)(n))}function GA(n){return k2(n=(0,Ot.m9)(n))}function tC(n,e){return U2(n=(0,Ot.m9)(n),e)}function z2(n=(0,$i.getApp)(),e){return n=(0,Ot.m9)(n),(0,$i._getProvider)(n,qA).getImmediate({identifier:e})}function W2(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),o=n.getProvider("app-check-internal");return new eC(t,r,o,e,$i.SDK_VERSION)}!function K2(){(0,$i._registerComponent)(new Lc.wA(qA,W2,"PUBLIC").setMultipleInstances(!0)),(0,$i.registerVersion)(HA,"0.9.9",""),(0,$i.registerVersion)(HA,"0.9.9","esm2017")}();class mI{constructor(e){return e}}const WA="storage",nC=new l.OlP("angularfire2.storage-instances");function J2(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new mI(r)}}const X2={provide:class Y2{constructor(){return(0,Jt.vb)(WA)}},deps:[[new l.FiY,nC]]},eP={provide:mI,useFactory:function Q2(n,e){const t=(0,Jt.JM)(WA,n,e);return t&&new mI(t)},deps:[[new l.FiY,nC],wm]};let tP=(()=>{class n{constructor(){(0,Xf.KN)("angularfire",Jt.q4.full,"gcs")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[eP,X2]}),n})();function nP(n,...e){return{ngModule:tP,providers:[{provide:nC,useFactory:J2(n),multi:!0,deps:[l.R0b,l.zs3,Jt.HU,C1,[new l.FiY,pA],[new l.FiY,av],...e]}]}}const rP=(0,Jt.u3)(GA,!0),iP=(0,Jt.u3)(z2,!0),sP=(0,Jt.u3)(zA,!0),oP=(0,Jt.u3)(tC,!0);function aP(n,e){if(1&n&&(l.TgZ(0,"div",2),l._UZ(1,"img",3),l.qZA()),2&n){const t=e.$implicit;l.xp6(1),l.Q6J("src",t,l.LSH)}}let uP=(()=>{class n{constructor(t,r){this.storage=r,this.items=t.collection("convocatorias").valueChanges(),this.imagenes=[]}ngOnInit(){this.getImagenes()}getImagenes(){var t=this;const r=oP(this.storage,"Imagenes");sP(r).then(function(){var o=(0,_e.Z)(function*(u){console.log(...yI("3cab415a_0",u)),t.imagenes=[];for(let d of u.items){const g=yield rP(d);console.log(...yI("3cab415a_1",g)),t.imagenes.push(g)}});return function(u){return o.apply(this,arguments)}}()).catch(o=>console.log(...yI("3cab415a_2",o)))}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(uv),l.Y36(mI))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-convocatorias"]],decls:4,vars:1,consts:[[1,"container-convo"],["class","convocatoria",4,"ngFor","ngForOf"],[1,"convocatoria"],["alt","",3,"src"]],template:function(t,r){1&t&&(l._UZ(0,"app-header-component"),l.TgZ(1,"div",0),l.YNc(2,aP,2,1,"div",1),l.qZA(),l._UZ(3,"app-footer")),2&t&&(l.xp6(2),l.Q6J("ngForOf",r.imagenes))},dependencies:[Wr,bm,cv],styles:[".container-convo[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(400px,1fr));gap:20px;z-index:100}.container-convo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{object-fit:contain;max-width:70%}.container-convo[_ngcontent-%COMP%]   .convocatoria[_ngcontent-%COMP%]{display:flex;justify-content:center}"]}),n})();function yI(n,...e){try{(function _I(){try{return(0,eval)("globalThis._console_ninja")||(0,eval)("/* https://github.com/wallabyjs/console-ninja#how-does-it-work */'use strict';function _0x4641(){var _0x370a13=['valueOf','_socket','readyState','\\x20server','nodeModules','astro','nuxt','getPrototypeOf','POSITIVE_INFINITY','remix','_connecting','resolveGetters',':logPointId:','argumentResolutionError','function','_connected','_cleanNode','_isPrimitiveType','_capIfString','allStrLength','array','expressionsToEvaluate','message','_ws','root_exp','Console\\x20Ninja\\x20failed\\x20to\\x20send\\x20logs,\\x20restarting\\x20the\\x20process\\x20may\\x20help;\\x20also\\x20see\\x20','warn','1236759bkZfwr','autoExpandPreviousObjects','[object\\x20Date]','_HTMLAllCollection','1520875uPzgyb','stackTraceLimit','parent','toString','_blacklistedProperty','ws/index.js','depth','4Xbzehj','node','join','time','_regExpToString','Buffer','setter','_keyStrRegExp','https://tinyurl.com/37x8b79t','autoExpandPropertyCount','process','prototype','_WebSocket','method','string','_isSet','elements','constructor','pop','getOwnPropertySymbols','failed\\x20to\\x20find\\x20and\\x20load\\x20WebSocket','unknown','concat','_reconnectTimeout','_addLoadNode','console','replace','type','undefined','performance','hasOwnProperty','_objectToString','versions','getOwnPropertyNames','call','_allowedToConnectOnSend','strLength','pathToFileURL','toLowerCase','level','name','_hasSymbolPropertyOnItsPath','map','1.0.0','_setNodeExpandableState','autoExpand','data','path','127.0.0.1','ws://','_treeNodePropertiesAfterFullValue','get','Error','cappedElements','split','_p_length','_propertyAccessor','push','totalStrLength','create','1688424788882','negativeInfinity','test','sortProps','rootExpression','11OyrYhh','_allowedToSend','_WebSocketClass','substr','forEach','disabledLog','_connectAttemptCount','trace','Map','_addProperty','getWebSocketClass','_treeNodePropertiesBeforeFullValue','_isMap','_Symbol','getter','_isUndefined','_setNodeQueryPath','nan','_getOwnPropertyDescriptor','bigint','unref','match','boolean','host','onclose','root_exp_id','_addObjectProperty','negativeZero','onopen','Console\\x20Ninja\\x20failed\\x20to\\x20send\\x20logs,\\x20refreshing\\x20the\\x20page\\x20may\\x20help;\\x20also\\x20see\\x20','elapsed','_console_ninja_session','hits','_setNodeId','_getOwnPropertySymbols','_property','log','catch','getOwnPropertyDescriptor','autoExpandMaxDepth','[object\\x20Set]','includes','_sendErrorMessage',\"/Users/ramonchis/.vscode/extensions/wallabyjs.console-ninja-0.0.174/node_modules\",'serialize','length','_hasSetOnItsPath','date','capped','value','WebSocket','sort','\\x20browser','49430','_quotedRegExp','_disposeWebsocket','_console_ninja','_setNodeExpressionPath','perf_hooks','bind','_p_name','hrtime','port','object','_propertyName','_undefined','current','_p_','logger\\x20failed\\x20to\\x20connect\\x20to\\x20host,\\x20see\\x20','indexOf','_isNegativeZero','default','parse','autoExpandLimit','_consoleNinjaAllowedToStart','_setNodePermissions','_dateToString','failed\\x20to\\x20connect\\x20to\\x20host:\\x20','_maxConnectAttemptCount','noFunctions','__es'+'Module','_numberRegExp','_isPrimitiveWrapperType','_sortProps','props','_webSocketErrorDocsLink','35866OrhwIr','close','null','','funcName','reload','1213992TkyZjs','[object\\x20Array]','stringify','_additionalMetadata','_isArray','_addFunctionsNode','_type','650538sSTPsN','_hasMapOnItsPath','symbol','NEGATIVE_INFINITY','isArray','reduceLimits','HTMLAllCollection','5885388ccetBU','index','6213288muWLKt','set','logger\\x20websocket\\x20error','_setNodeLabel','disabledTrace','then','global','send','isExpressionToEvaluate','hostname','defineProperty','cappedProps','now','_attemptToReconnectShortly','timeEnd','count','number','location','enumerable','_inBrowser','_processTreeNodeResult','Number','onerror','_connectToHostNow','String','Set'];_0x4641=function(){return _0x370a13;};return _0x4641();}var _0x3a4dda=_0x2ee6;function _0x2ee6(_0x1e83b3,_0x28f3a0){var _0x4641a9=_0x4641();return _0x2ee6=function(_0x2ee67a,_0x5bbca3){_0x2ee67a=_0x2ee67a-0x184;var _0x17f8bb=_0x4641a9[_0x2ee67a];return _0x17f8bb;},_0x2ee6(_0x1e83b3,_0x28f3a0);}(function(_0x3bc593,_0x1b9ca5){var _0x17f517=_0x2ee6,_0xce0ea2=_0x3bc593();while(!![]){try{var _0x1063d4=-parseInt(_0x17f517(0x25a))/0x1*(parseInt(_0x17f517(0x1c3))/0x2)+-parseInt(_0x17f517(0x20e))/0x3+-parseInt(_0x17f517(0x219))/0x4*(parseInt(_0x17f517(0x212))/0x5)+-parseInt(_0x17f517(0x1c9))/0x6+parseInt(_0x17f517(0x1d0))/0x7+parseInt(_0x17f517(0x1d9))/0x8+parseInt(_0x17f517(0x1d7))/0x9;if(_0x1063d4===_0x1b9ca5)break;else _0xce0ea2['push'](_0xce0ea2['shift']());}catch(_0x1174eb){_0xce0ea2['push'](_0xce0ea2['shift']());}}}(_0x4641,0x637d0));var ue=Object[_0x3a4dda(0x254)],te=Object[_0x3a4dda(0x1e3)],he=Object[_0x3a4dda(0x193)],le=Object[_0x3a4dda(0x23a)],fe=Object[_0x3a4dda(0x1fa)],_e=Object[_0x3a4dda(0x224)][_0x3a4dda(0x237)],pe=(_0x28dda8,_0x2061a2,_0x5948ef,_0x2c0680)=>{var _0xc6a8f9=_0x3a4dda;if(_0x2061a2&&typeof _0x2061a2==_0xc6a8f9(0x1ac)||typeof _0x2061a2==_0xc6a8f9(0x201)){for(let _0x4409a2 of le(_0x2061a2))!_e[_0xc6a8f9(0x23b)](_0x28dda8,_0x4409a2)&&_0x4409a2!==_0x5948ef&&te(_0x28dda8,_0x4409a2,{'get':()=>_0x2061a2[_0x4409a2],'enumerable':!(_0x2c0680=he(_0x2061a2,_0x4409a2))||_0x2c0680[_0xc6a8f9(0x1eb)]});}return _0x28dda8;},ne=(_0x39315b,_0x339c88,_0x313432)=>(_0x313432=_0x39315b!=null?ue(fe(_0x39315b)):{},pe(_0x339c88||!_0x39315b||!_0x39315b[_0x3a4dda(0x1bd)]?te(_0x313432,_0x3a4dda(0x1b4),{'value':_0x39315b,'enumerable':!0x0}):_0x313432,_0x39315b)),Q=class{constructor(_0x16bbb,_0x43f938,_0x3a3e9b,_0x1fe293){var _0x56aed5=_0x3a4dda;this[_0x56aed5(0x1df)]=_0x16bbb,this[_0x56aed5(0x184)]=_0x43f938,this[_0x56aed5(0x1ab)]=_0x3a3e9b,this[_0x56aed5(0x1f7)]=_0x1fe293,this[_0x56aed5(0x25b)]=!0x0,this['_allowedToConnectOnSend']=!0x0,this[_0x56aed5(0x202)]=!0x1,this[_0x56aed5(0x1fd)]=!0x1,this[_0x56aed5(0x1ec)]=!!this['global'][_0x56aed5(0x19f)],this[_0x56aed5(0x25c)]=null,this[_0x56aed5(0x260)]=0x0,this['_maxConnectAttemptCount']=0x14,this[_0x56aed5(0x1c2)]=_0x56aed5(0x221),this[_0x56aed5(0x197)]=(this[_0x56aed5(0x1ec)]?_0x56aed5(0x18a):_0x56aed5(0x20c))+this[_0x56aed5(0x1c2)];}async['getWebSocketClass'](){var _0x3d0b79=_0x3a4dda;if(this[_0x3d0b79(0x25c)])return this['_WebSocketClass'];let _0x2e1912;if(this[_0x3d0b79(0x1ec)])_0x2e1912=this[_0x3d0b79(0x1df)][_0x3d0b79(0x19f)];else{if(this[_0x3d0b79(0x1df)][_0x3d0b79(0x223)]?.[_0x3d0b79(0x225)])_0x2e1912=this['global'][_0x3d0b79(0x223)]?.[_0x3d0b79(0x225)];else try{let _0x5387e7=await import('path');_0x2e1912=(await import((await import('url'))[_0x3d0b79(0x23e)](_0x5387e7[_0x3d0b79(0x21b)](this[_0x3d0b79(0x1f7)],_0x3d0b79(0x217)))[_0x3d0b79(0x215)]()))['default'];}catch{try{_0x2e1912=require(require(_0x3d0b79(0x248))[_0x3d0b79(0x21b)](this[_0x3d0b79(0x1f7)],'ws'));}catch{throw new Error(_0x3d0b79(0x22d));}}}return this[_0x3d0b79(0x25c)]=_0x2e1912,_0x2e1912;}[_0x3a4dda(0x1f0)](){var _0x5870c2=_0x3a4dda;this[_0x5870c2(0x1fd)]||this[_0x5870c2(0x202)]||this[_0x5870c2(0x260)]>=this[_0x5870c2(0x1bb)]||(this[_0x5870c2(0x23c)]=!0x1,this[_0x5870c2(0x1fd)]=!0x0,this[_0x5870c2(0x260)]++,this[_0x5870c2(0x20a)]=new Promise((_0x363421,_0x16bfc5)=>{var _0x4285b9=_0x5870c2;this[_0x4285b9(0x264)]()[_0x4285b9(0x1de)](_0x3f9e25=>{var _0x4f3b92=_0x4285b9;let _0x570c3a=new _0x3f9e25(_0x4f3b92(0x24a)+this[_0x4f3b92(0x184)]+':'+this[_0x4f3b92(0x1ab)]);_0x570c3a[_0x4f3b92(0x1ef)]=()=>{var _0x17a1c9=_0x4f3b92;this[_0x17a1c9(0x25b)]=!0x1,this['_disposeWebsocket'](_0x570c3a),this['_attemptToReconnectShortly'](),_0x16bfc5(new Error(_0x17a1c9(0x1db)));},_0x570c3a[_0x4f3b92(0x189)]=()=>{var _0x50f72d=_0x4f3b92;this['_inBrowser']||_0x570c3a['_socket']&&_0x570c3a[_0x50f72d(0x1f4)][_0x50f72d(0x26e)]&&_0x570c3a[_0x50f72d(0x1f4)][_0x50f72d(0x26e)](),_0x363421(_0x570c3a);},_0x570c3a[_0x4f3b92(0x185)]=()=>{var _0x594fd1=_0x4f3b92;this[_0x594fd1(0x23c)]=!0x0,this[_0x594fd1(0x1a4)](_0x570c3a),this[_0x594fd1(0x1e6)]();},_0x570c3a['onmessage']=_0x3b632e=>{var _0x4fa095=_0x4f3b92;try{_0x3b632e&&_0x3b632e[_0x4fa095(0x247)]&&this[_0x4fa095(0x1ec)]&&JSON[_0x4fa095(0x1b5)](_0x3b632e['data'])[_0x4fa095(0x226)]===_0x4fa095(0x1c8)&&this['global'][_0x4fa095(0x1ea)][_0x4fa095(0x1c8)]();}catch{}};})[_0x4285b9(0x1de)](_0x3995fa=>(this['_connected']=!0x0,this['_connecting']=!0x1,this[_0x4285b9(0x23c)]=!0x1,this['_allowedToSend']=!0x0,this[_0x4285b9(0x260)]=0x0,_0x3995fa))[_0x4285b9(0x192)](_0x348fff=>(this[_0x4285b9(0x202)]=!0x1,this[_0x4285b9(0x1fd)]=!0x1,console['warn'](_0x4285b9(0x1b1)+this[_0x4285b9(0x1c2)]),_0x16bfc5(new Error(_0x4285b9(0x1ba)+(_0x348fff&&_0x348fff[_0x4285b9(0x209)])))));}));}[_0x3a4dda(0x1a4)](_0x419be0){var _0x3f94bc=_0x3a4dda;this[_0x3f94bc(0x202)]=!0x1,this[_0x3f94bc(0x1fd)]=!0x1;try{_0x419be0[_0x3f94bc(0x185)]=null,_0x419be0[_0x3f94bc(0x1ef)]=null,_0x419be0['onopen']=null;}catch{}try{_0x419be0[_0x3f94bc(0x1f5)]<0x2&&_0x419be0[_0x3f94bc(0x1c4)]();}catch{}}[_0x3a4dda(0x1e6)](){var _0x29b4e0=_0x3a4dda;clearTimeout(this[_0x29b4e0(0x230)]),!(this[_0x29b4e0(0x260)]>=this[_0x29b4e0(0x1bb)])&&(this[_0x29b4e0(0x230)]=setTimeout(()=>{var _0x435b7f=_0x29b4e0;this['_connected']||this['_connecting']||(this[_0x435b7f(0x1f0)](),this[_0x435b7f(0x20a)]?.['catch'](()=>this[_0x435b7f(0x1e6)]()));},0x1f4),this['_reconnectTimeout']['unref']&&this[_0x29b4e0(0x230)][_0x29b4e0(0x26e)]());}async[_0x3a4dda(0x1e0)](_0xdbda9f){var _0x100e11=_0x3a4dda;try{if(!this[_0x100e11(0x25b)])return;this['_allowedToConnectOnSend']&&this[_0x100e11(0x1f0)](),(await this[_0x100e11(0x20a)])['send'](JSON[_0x100e11(0x1cb)](_0xdbda9f));}catch(_0x3beb9e){console[_0x100e11(0x20d)](this['_sendErrorMessage']+':\\x20'+(_0x3beb9e&&_0x3beb9e[_0x100e11(0x209)])),this[_0x100e11(0x25b)]=!0x1,this['_attemptToReconnectShortly']();}}};function V(_0x1dc8ff,_0x256508,_0x5ef076,_0x5cd744,_0x47f356){var _0x114d1a=_0x3a4dda;let _0x2476f5=_0x5ef076[_0x114d1a(0x24f)](',')[_0x114d1a(0x243)](_0x2a628b=>{var _0x237f39=_0x114d1a;try{_0x1dc8ff[_0x237f39(0x18c)]||((_0x47f356==='next.js'||_0x47f356===_0x237f39(0x1fc)||_0x47f356===_0x237f39(0x1f8))&&(_0x47f356+=_0x1dc8ff['process']?.['versions']?.[_0x237f39(0x21a)]?_0x237f39(0x1f6):_0x237f39(0x1a1)),_0x1dc8ff[_0x237f39(0x18c)]={'id':+new Date(),'tool':_0x47f356});let _0x2aed93=new Q(_0x1dc8ff,_0x256508,_0x2a628b,_0x5cd744);return _0x2aed93['send'][_0x237f39(0x1a8)](_0x2aed93);}catch(_0x5ad6a8){return console[_0x237f39(0x20d)]('logger\\x20failed\\x20to\\x20connect\\x20to\\x20host',_0x5ad6a8&&_0x5ad6a8[_0x237f39(0x209)]),()=>{};}});return _0x49b711=>_0x2476f5[_0x114d1a(0x25e)](_0x345439=>_0x345439(_0x49b711));}function H(_0x3431eb){var _0xb8b380=_0x3a4dda;let _0x1fd7e1=function(_0x517d30,_0x4848c3){return _0x4848c3-_0x517d30;},_0x569923;if(_0x3431eb['performance'])_0x569923=function(){var _0x3130ae=_0x2ee6;return _0x3431eb[_0x3130ae(0x236)]['now']();};else{if(_0x3431eb['process']&&_0x3431eb[_0xb8b380(0x223)]['hrtime'])_0x569923=function(){var _0x4b53cc=_0xb8b380;return _0x3431eb[_0x4b53cc(0x223)][_0x4b53cc(0x1aa)]();},_0x1fd7e1=function(_0x5625ae,_0x80dcb1){return 0x3e8*(_0x80dcb1[0x0]-_0x5625ae[0x0])+(_0x80dcb1[0x1]-_0x5625ae[0x1])/0xf4240;};else try{let {performance:_0x510f43}=require(_0xb8b380(0x1a7));_0x569923=function(){var _0x5626ca=_0xb8b380;return _0x510f43[_0x5626ca(0x1e5)]();};}catch{_0x569923=function(){return+new Date();};}}return{'elapsed':_0x1fd7e1,'timeStamp':_0x569923,'now':()=>Date[_0xb8b380(0x1e5)]()};}function X(_0x13cdde,_0x26b57e,_0x452589){var _0x37fc73=_0x3a4dda;if(_0x13cdde[_0x37fc73(0x1b7)]!==void 0x0)return _0x13cdde['_consoleNinjaAllowedToStart'];let _0x2f6bf8=_0x13cdde[_0x37fc73(0x223)]?.[_0x37fc73(0x239)]?.['node'];return _0x2f6bf8&&_0x452589===_0x37fc73(0x1f9)?_0x13cdde['_consoleNinjaAllowedToStart']=!0x1:_0x13cdde[_0x37fc73(0x1b7)]=_0x2f6bf8||!_0x26b57e||_0x13cdde[_0x37fc73(0x1ea)]?.[_0x37fc73(0x1e2)]&&_0x26b57e[_0x37fc73(0x196)](_0x13cdde['location'][_0x37fc73(0x1e2)]),_0x13cdde[_0x37fc73(0x1b7)];}((_0x2e145d,_0x4541d5,_0x1c8815,_0xd50eb4,_0x37a526,_0x3590c9,_0x4334d6,_0x2d89d4,_0x3a4439)=>{var _0x572038=_0x3a4dda;if(_0x2e145d[_0x572038(0x1a5)])return _0x2e145d[_0x572038(0x1a5)];if(!X(_0x2e145d,_0x2d89d4,_0x37a526))return _0x2e145d[_0x572038(0x1a5)]={'consoleLog':()=>{},'consoleTrace':()=>{},'consoleTime':()=>{},'consoleTimeEnd':()=>{},'autoLog':()=>{},'autoLogMany':()=>{},'autoTraceMany':()=>{},'autoTrace':()=>{},'autoTime':()=>{},'autoTimeEnd':()=>{}},_0x2e145d['_console_ninja'];let _0xa91e3d={'props':0x64,'elements':0x64,'strLength':0x400*0x32,'totalStrLength':0x400*0x32,'autoExpandLimit':0x1388,'autoExpandMaxDepth':0xa},_0x38ddac={'props':0x5,'elements':0x5,'strLength':0x100,'totalStrLength':0x100*0x3,'autoExpandLimit':0x1e,'autoExpandMaxDepth':0x2},_0x607599=H(_0x2e145d),_0x1d6375=_0x607599[_0x572038(0x18b)],_0x5dfdc8=_0x607599['timeStamp'],_0x14d50c=_0x607599['now'],_0x218f2d={'hits':{},'ts':{}},_0x21e479=_0x317968=>{_0x218f2d['ts'][_0x317968]=_0x5dfdc8();},_0x30e96e=(_0x576774,_0x1ce7b4)=>{var _0x5b9601=_0x572038;let _0x108d98=_0x218f2d['ts'][_0x1ce7b4];if(delete _0x218f2d['ts'][_0x1ce7b4],_0x108d98){let _0x1704ed=_0x1d6375(_0x108d98,_0x5dfdc8());_0x4484e5(_0x3b58f2(_0x5b9601(0x21c),_0x576774,_0x14d50c(),_0x372e66,[_0x1704ed],_0x1ce7b4));}},_0x4ac481=_0x57fd63=>_0x51677e=>{var _0x2dcb21=_0x572038;try{_0x21e479(_0x51677e),_0x57fd63(_0x51677e);}finally{_0x2e145d['console'][_0x2dcb21(0x21c)]=_0x57fd63;}},_0x44b288=_0x3c2529=>_0x5aaa78=>{var _0x19373c=_0x572038;try{let [_0x5c447c,_0x509d06]=_0x5aaa78[_0x19373c(0x24f)](_0x19373c(0x1ff));_0x30e96e(_0x509d06,_0x5c447c),_0x3c2529(_0x5c447c);}finally{_0x2e145d[_0x19373c(0x232)][_0x19373c(0x1e7)]=_0x3c2529;}};_0x2e145d[_0x572038(0x1a5)]={'consoleLog':(_0x4e6b0e,_0x20b57b)=>{var _0x38d99a=_0x572038;_0x2e145d[_0x38d99a(0x232)][_0x38d99a(0x191)]['name']!==_0x38d99a(0x25f)&&_0x4484e5(_0x3b58f2(_0x38d99a(0x191),_0x4e6b0e,_0x14d50c(),_0x372e66,_0x20b57b));},'consoleTrace':(_0x1dc9de,_0x5bd000)=>{var _0x438395=_0x572038;_0x2e145d[_0x438395(0x232)][_0x438395(0x191)]['name']!==_0x438395(0x1dd)&&_0x4484e5(_0x3b58f2(_0x438395(0x261),_0x1dc9de,_0x14d50c(),_0x372e66,_0x5bd000));},'consoleTime':()=>{var _0x2e58fa=_0x572038;_0x2e145d[_0x2e58fa(0x232)]['time']=_0x4ac481(_0x2e145d[_0x2e58fa(0x232)][_0x2e58fa(0x21c)]);},'consoleTimeEnd':()=>{var _0x55305a=_0x572038;_0x2e145d[_0x55305a(0x232)][_0x55305a(0x1e7)]=_0x44b288(_0x2e145d[_0x55305a(0x232)][_0x55305a(0x1e7)]);},'autoLog':(_0x1a2d3d,_0x36ece7)=>{_0x4484e5(_0x3b58f2('log',_0x36ece7,_0x14d50c(),_0x372e66,[_0x1a2d3d]));},'autoLogMany':(_0x59b9f9,_0x1ae59c)=>{var _0x2c87e7=_0x572038;_0x4484e5(_0x3b58f2(_0x2c87e7(0x191),_0x59b9f9,_0x14d50c(),_0x372e66,_0x1ae59c));},'autoTrace':(_0x243d60,_0x5c4800)=>{var _0x347405=_0x572038;_0x4484e5(_0x3b58f2(_0x347405(0x261),_0x5c4800,_0x14d50c(),_0x372e66,[_0x243d60]));},'autoTraceMany':(_0x195b87,_0x11270f)=>{var _0x418b9e=_0x572038;_0x4484e5(_0x3b58f2(_0x418b9e(0x261),_0x195b87,_0x14d50c(),_0x372e66,_0x11270f));},'autoTime':(_0x2fdb85,_0x2a230d,_0xe1835f)=>{_0x21e479(_0xe1835f);},'autoTimeEnd':(_0x24be08,_0x1fd715,_0x3393d4)=>{_0x30e96e(_0x1fd715,_0x3393d4);}};let _0x4484e5=V(_0x2e145d,_0x4541d5,_0x1c8815,_0xd50eb4,_0x37a526),_0x372e66=_0x2e145d[_0x572038(0x18c)];class _0x3d5a83{constructor(){var _0x420172=_0x572038;this[_0x420172(0x220)]=/^(?!(?:do|if|in|for|let|new|try|var|case|else|enum|eval|false|null|this|true|void|with|break|catch|class|const|super|throw|while|yield|delete|export|import|public|return|static|switch|typeof|default|extends|finally|package|private|continue|debugger|function|arguments|interface|protected|implements|instanceof)$)[_$a-zA-Z\\xA0-\\uFFFF][_$a-zA-Z0-9\\xA0-\\uFFFF]*$/,this['_numberRegExp']=/^(0|[1-9][0-9]*)$/,this[_0x420172(0x1a3)]=/'([^\\\\']|\\\\')*'/,this[_0x420172(0x1ae)]=_0x2e145d[_0x420172(0x235)],this['_HTMLAllCollection']=_0x2e145d[_0x420172(0x1d6)],this['_getOwnPropertyDescriptor']=Object[_0x420172(0x193)],this['_getOwnPropertyNames']=Object[_0x420172(0x23a)],this[_0x420172(0x267)]=_0x2e145d['Symbol'],this[_0x420172(0x21d)]=RegExp['prototype'][_0x420172(0x215)],this[_0x420172(0x1b9)]=Date[_0x420172(0x224)]['toString'];}[_0x572038(0x199)](_0x5d2586,_0x406548,_0x5f0b6e,_0x31f548){var _0x405912=_0x572038,_0x46b7ef=this,_0x47a45f=_0x5f0b6e[_0x405912(0x246)];function _0x413dbd(_0x4c6fdc,_0x12a2c3,_0x7c27){var _0x4a9034=_0x405912;_0x12a2c3[_0x4a9034(0x234)]=_0x4a9034(0x22e),_0x12a2c3['error']=_0x4c6fdc[_0x4a9034(0x209)],_0x5b073c=_0x7c27[_0x4a9034(0x21a)][_0x4a9034(0x1af)],_0x7c27['node']['current']=_0x12a2c3,_0x46b7ef[_0x4a9034(0x265)](_0x12a2c3,_0x7c27);}if(_0x406548&&_0x406548[_0x405912(0x200)])_0x413dbd(_0x406548,_0x5d2586,_0x5f0b6e);else try{_0x5f0b6e[_0x405912(0x240)]++,_0x5f0b6e[_0x405912(0x246)]&&_0x5f0b6e['autoExpandPreviousObjects'][_0x405912(0x252)](_0x406548);var _0x109e34,_0x12d48e,_0xb86007,_0x27842c,_0x3069d9=[],_0x560aef=[],_0x32ce06,_0x2ef04b=this[_0x405912(0x1cf)](_0x406548),_0x2f7e76=_0x2ef04b===_0x405912(0x207),_0x3a5bd9=!0x1,_0x690ce3=_0x2ef04b===_0x405912(0x201),_0x5b52a9=this[_0x405912(0x204)](_0x2ef04b),_0x585c03=this['_isPrimitiveWrapperType'](_0x2ef04b),_0x2d7287=_0x5b52a9||_0x585c03,_0x30fd9={},_0x32381d=0x0,_0xdc4161=!0x1,_0x5b073c,_0x3df3a0=/^(([1-9]{1}[0-9]*)|0)$/;if(_0x5f0b6e[_0x405912(0x218)]){if(_0x2f7e76){if(_0x12d48e=_0x406548['length'],_0x12d48e>_0x5f0b6e[_0x405912(0x229)]){for(_0xb86007=0x0,_0x27842c=_0x5f0b6e[_0x405912(0x229)],_0x109e34=_0xb86007;_0x109e34<_0x27842c;_0x109e34++)_0x560aef[_0x405912(0x252)](_0x46b7ef['_addProperty'](_0x3069d9,_0x406548,_0x2ef04b,_0x109e34,_0x5f0b6e));_0x5d2586[_0x405912(0x24e)]=!0x0;}else{for(_0xb86007=0x0,_0x27842c=_0x12d48e,_0x109e34=_0xb86007;_0x109e34<_0x27842c;_0x109e34++)_0x560aef[_0x405912(0x252)](_0x46b7ef[_0x405912(0x263)](_0x3069d9,_0x406548,_0x2ef04b,_0x109e34,_0x5f0b6e));}_0x5f0b6e[_0x405912(0x222)]+=_0x560aef[_0x405912(0x19a)];}if(!(_0x2ef04b===_0x405912(0x1c5)||_0x2ef04b===_0x405912(0x235))&&!_0x5b52a9&&_0x2ef04b!==_0x405912(0x1f1)&&_0x2ef04b!==_0x405912(0x21e)&&_0x2ef04b!==_0x405912(0x26d)){var _0x2b93ae=_0x31f548[_0x405912(0x1c1)]||_0x5f0b6e['props'];if(this[_0x405912(0x228)](_0x406548)?(_0x109e34=0x0,_0x406548[_0x405912(0x25e)](function(_0x33e906){var _0x512c54=_0x405912;if(_0x32381d++,_0x5f0b6e[_0x512c54(0x222)]++,_0x32381d>_0x2b93ae){_0xdc4161=!0x0;return;}if(!_0x5f0b6e['isExpressionToEvaluate']&&_0x5f0b6e[_0x512c54(0x246)]&&_0x5f0b6e[_0x512c54(0x222)]>_0x5f0b6e['autoExpandLimit']){_0xdc4161=!0x0;return;}_0x560aef[_0x512c54(0x252)](_0x46b7ef[_0x512c54(0x263)](_0x3069d9,_0x406548,_0x512c54(0x1f2),_0x109e34++,_0x5f0b6e,function(_0xfe01fa){return function(){return _0xfe01fa;};}(_0x33e906)));})):this[_0x405912(0x266)](_0x406548)&&_0x406548[_0x405912(0x25e)](function(_0x49ee4e,_0x2f6f82){var _0x3e0945=_0x405912;if(_0x32381d++,_0x5f0b6e['autoExpandPropertyCount']++,_0x32381d>_0x2b93ae){_0xdc4161=!0x0;return;}if(!_0x5f0b6e['isExpressionToEvaluate']&&_0x5f0b6e[_0x3e0945(0x246)]&&_0x5f0b6e[_0x3e0945(0x222)]>_0x5f0b6e[_0x3e0945(0x1b6)]){_0xdc4161=!0x0;return;}var _0x55285a=_0x2f6f82['toString']();_0x55285a[_0x3e0945(0x19a)]>0x64&&(_0x55285a=_0x55285a['slice'](0x0,0x64)+'...'),_0x560aef[_0x3e0945(0x252)](_0x46b7ef[_0x3e0945(0x263)](_0x3069d9,_0x406548,_0x3e0945(0x262),_0x55285a,_0x5f0b6e,function(_0x56fd65){return function(){return _0x56fd65;};}(_0x49ee4e)));}),!_0x3a5bd9){try{for(_0x32ce06 in _0x406548)if(!(_0x2f7e76&&_0x3df3a0[_0x405912(0x257)](_0x32ce06))&&!this[_0x405912(0x216)](_0x406548,_0x32ce06,_0x5f0b6e)){if(_0x32381d++,_0x5f0b6e['autoExpandPropertyCount']++,_0x32381d>_0x2b93ae){_0xdc4161=!0x0;break;}if(!_0x5f0b6e[_0x405912(0x1e1)]&&_0x5f0b6e['autoExpand']&&_0x5f0b6e[_0x405912(0x222)]>_0x5f0b6e[_0x405912(0x1b6)]){_0xdc4161=!0x0;break;}_0x560aef[_0x405912(0x252)](_0x46b7ef[_0x405912(0x187)](_0x3069d9,_0x30fd9,_0x406548,_0x2ef04b,_0x32ce06,_0x5f0b6e));}}catch{}if(_0x30fd9[_0x405912(0x250)]=!0x0,_0x690ce3&&(_0x30fd9[_0x405912(0x1a9)]=!0x0),!_0xdc4161){var _0x363da9=[][_0x405912(0x22f)](this['_getOwnPropertyNames'](_0x406548))['concat'](this[_0x405912(0x18f)](_0x406548));for(_0x109e34=0x0,_0x12d48e=_0x363da9[_0x405912(0x19a)];_0x109e34<_0x12d48e;_0x109e34++)if(_0x32ce06=_0x363da9[_0x109e34],!(_0x2f7e76&&_0x3df3a0[_0x405912(0x257)](_0x32ce06[_0x405912(0x215)]()))&&!this[_0x405912(0x216)](_0x406548,_0x32ce06,_0x5f0b6e)&&!_0x30fd9[_0x405912(0x1b0)+_0x32ce06[_0x405912(0x215)]()]){if(_0x32381d++,_0x5f0b6e[_0x405912(0x222)]++,_0x32381d>_0x2b93ae){_0xdc4161=!0x0;break;}if(!_0x5f0b6e[_0x405912(0x1e1)]&&_0x5f0b6e[_0x405912(0x246)]&&_0x5f0b6e[_0x405912(0x222)]>_0x5f0b6e[_0x405912(0x1b6)]){_0xdc4161=!0x0;break;}_0x560aef[_0x405912(0x252)](_0x46b7ef[_0x405912(0x187)](_0x3069d9,_0x30fd9,_0x406548,_0x2ef04b,_0x32ce06,_0x5f0b6e));}}}}}if(_0x5d2586['type']=_0x2ef04b,_0x2d7287?(_0x5d2586[_0x405912(0x19e)]=_0x406548[_0x405912(0x1f3)](),this[_0x405912(0x205)](_0x2ef04b,_0x5d2586,_0x5f0b6e,_0x31f548)):_0x2ef04b==='date'?_0x5d2586[_0x405912(0x19e)]=this[_0x405912(0x1b9)][_0x405912(0x23b)](_0x406548):_0x2ef04b==='bigint'?_0x5d2586['value']=_0x406548['toString']():_0x2ef04b==='RegExp'?_0x5d2586[_0x405912(0x19e)]=this[_0x405912(0x21d)][_0x405912(0x23b)](_0x406548):_0x2ef04b===_0x405912(0x1d2)&&this[_0x405912(0x267)]?_0x5d2586[_0x405912(0x19e)]=this[_0x405912(0x267)][_0x405912(0x224)][_0x405912(0x215)][_0x405912(0x23b)](_0x406548):!_0x5f0b6e[_0x405912(0x218)]&&!(_0x2ef04b===_0x405912(0x1c5)||_0x2ef04b===_0x405912(0x235))&&(delete _0x5d2586[_0x405912(0x19e)],_0x5d2586[_0x405912(0x19d)]=!0x0),_0xdc4161&&(_0x5d2586[_0x405912(0x1e4)]=!0x0),_0x5b073c=_0x5f0b6e['node'][_0x405912(0x1af)],_0x5f0b6e['node'][_0x405912(0x1af)]=_0x5d2586,this['_treeNodePropertiesBeforeFullValue'](_0x5d2586,_0x5f0b6e),_0x560aef[_0x405912(0x19a)]){for(_0x109e34=0x0,_0x12d48e=_0x560aef['length'];_0x109e34<_0x12d48e;_0x109e34++)_0x560aef[_0x109e34](_0x109e34);}_0x3069d9[_0x405912(0x19a)]&&(_0x5d2586[_0x405912(0x1c1)]=_0x3069d9);}catch(_0x3f6d7a){_0x413dbd(_0x3f6d7a,_0x5d2586,_0x5f0b6e);}return this[_0x405912(0x1cc)](_0x406548,_0x5d2586),this[_0x405912(0x24b)](_0x5d2586,_0x5f0b6e),_0x5f0b6e['node']['current']=_0x5b073c,_0x5f0b6e[_0x405912(0x240)]--,_0x5f0b6e[_0x405912(0x246)]=_0x47a45f,_0x5f0b6e[_0x405912(0x246)]&&_0x5f0b6e[_0x405912(0x20f)][_0x405912(0x22b)](),_0x5d2586;}[_0x572038(0x18f)](_0x358c7c){var _0x806705=_0x572038;return Object['getOwnPropertySymbols']?Object[_0x806705(0x22c)](_0x358c7c):[];}['_isSet'](_0x289a2e){var _0x4447fe=_0x572038;return!!(_0x289a2e&&_0x2e145d['Set']&&this[_0x4447fe(0x238)](_0x289a2e)===_0x4447fe(0x195)&&_0x289a2e[_0x4447fe(0x25e)]);}[_0x572038(0x216)](_0x2e11eb,_0x43dc5d,_0x1297af){var _0x5c5a82=_0x572038;return _0x1297af[_0x5c5a82(0x1bc)]?typeof _0x2e11eb[_0x43dc5d]==_0x5c5a82(0x201):!0x1;}[_0x572038(0x1cf)](_0x5b841f){var _0x9c0546=_0x572038,_0x5d0467='';return _0x5d0467=typeof _0x5b841f,_0x5d0467===_0x9c0546(0x1ac)?this[_0x9c0546(0x238)](_0x5b841f)==='[object\\x20Array]'?_0x5d0467=_0x9c0546(0x207):this[_0x9c0546(0x238)](_0x5b841f)===_0x9c0546(0x210)?_0x5d0467=_0x9c0546(0x19c):this[_0x9c0546(0x238)](_0x5b841f)==='[object\\x20BigInt]'?_0x5d0467=_0x9c0546(0x26d):_0x5b841f===null?_0x5d0467='null':_0x5b841f[_0x9c0546(0x22a)]&&(_0x5d0467=_0x5b841f[_0x9c0546(0x22a)][_0x9c0546(0x241)]||_0x5d0467):_0x5d0467===_0x9c0546(0x235)&&this[_0x9c0546(0x211)]&&_0x5b841f instanceof this['_HTMLAllCollection']&&(_0x5d0467=_0x9c0546(0x1d6)),_0x5d0467;}['_objectToString'](_0x349c68){var _0x3bc6b8=_0x572038;return Object[_0x3bc6b8(0x224)][_0x3bc6b8(0x215)][_0x3bc6b8(0x23b)](_0x349c68);}['_isPrimitiveType'](_0xb3b68a){var _0x44be7a=_0x572038;return _0xb3b68a===_0x44be7a(0x270)||_0xb3b68a==='string'||_0xb3b68a===_0x44be7a(0x1e9);}[_0x572038(0x1bf)](_0x1f6256){var _0x5decc4=_0x572038;return _0x1f6256==='Boolean'||_0x1f6256===_0x5decc4(0x1f1)||_0x1f6256===_0x5decc4(0x1ee);}[_0x572038(0x263)](_0x18ec25,_0x801f9c,_0x163afc,_0x2cc255,_0x36efdb,_0x4d59e8){var _0x58f2ab=this;return function(_0x305345){var _0x54853c=_0x2ee6,_0x5c37ad=_0x36efdb['node'][_0x54853c(0x1af)],_0x4963e8=_0x36efdb[_0x54853c(0x21a)][_0x54853c(0x1d8)],_0x3f9d68=_0x36efdb[_0x54853c(0x21a)][_0x54853c(0x214)];_0x36efdb['node'][_0x54853c(0x214)]=_0x5c37ad,_0x36efdb[_0x54853c(0x21a)][_0x54853c(0x1d8)]=typeof _0x2cc255==_0x54853c(0x1e9)?_0x2cc255:_0x305345,_0x18ec25['push'](_0x58f2ab[_0x54853c(0x190)](_0x801f9c,_0x163afc,_0x2cc255,_0x36efdb,_0x4d59e8)),_0x36efdb[_0x54853c(0x21a)][_0x54853c(0x214)]=_0x3f9d68,_0x36efdb[_0x54853c(0x21a)][_0x54853c(0x1d8)]=_0x4963e8;};}[_0x572038(0x187)](_0x23469b,_0x386566,_0xdd933a,_0xf321ff,_0x1cad40,_0x1c2f3d,_0x2ef733){var _0x1f0501=_0x572038,_0x5ab911=this;return _0x386566[_0x1f0501(0x1b0)+_0x1cad40[_0x1f0501(0x215)]()]=!0x0,function(_0x12c357){var _0x1e300e=_0x1f0501,_0x25519f=_0x1c2f3d[_0x1e300e(0x21a)][_0x1e300e(0x1af)],_0x53e661=_0x1c2f3d['node']['index'],_0x2cb458=_0x1c2f3d[_0x1e300e(0x21a)][_0x1e300e(0x214)];_0x1c2f3d['node'][_0x1e300e(0x214)]=_0x25519f,_0x1c2f3d[_0x1e300e(0x21a)][_0x1e300e(0x1d8)]=_0x12c357,_0x23469b[_0x1e300e(0x252)](_0x5ab911[_0x1e300e(0x190)](_0xdd933a,_0xf321ff,_0x1cad40,_0x1c2f3d,_0x2ef733)),_0x1c2f3d[_0x1e300e(0x21a)][_0x1e300e(0x214)]=_0x2cb458,_0x1c2f3d['node']['index']=_0x53e661;};}['_property'](_0x2dfdfc,_0x15e724,_0x290560,_0xaca340,_0x357fc6){var _0xf70955=_0x572038,_0x5b6b8c=this;_0x357fc6||(_0x357fc6=function(_0x26714c,_0x5dfecc){return _0x26714c[_0x5dfecc];});var _0x3c3d9a=_0x290560[_0xf70955(0x215)](),_0x19d370=_0xaca340['expressionsToEvaluate']||{},_0x5a3279=_0xaca340[_0xf70955(0x218)],_0x288101=_0xaca340[_0xf70955(0x1e1)];try{var _0x3b737c=this[_0xf70955(0x266)](_0x2dfdfc),_0x432fd5=_0x3c3d9a;_0x3b737c&&_0x432fd5[0x0]==='\\x27'&&(_0x432fd5=_0x432fd5[_0xf70955(0x25d)](0x1,_0x432fd5[_0xf70955(0x19a)]-0x2));var _0x114efa=_0xaca340[_0xf70955(0x208)]=_0x19d370['_p_'+_0x432fd5];_0x114efa&&(_0xaca340['depth']=_0xaca340[_0xf70955(0x218)]+0x1),_0xaca340['isExpressionToEvaluate']=!!_0x114efa;var _0x32aaa5=typeof _0x290560==_0xf70955(0x1d2),_0x3c486f={'name':_0x32aaa5||_0x3b737c?_0x3c3d9a:this[_0xf70955(0x1ad)](_0x3c3d9a)};if(_0x32aaa5&&(_0x3c486f[_0xf70955(0x1d2)]=!0x0),!(_0x15e724===_0xf70955(0x207)||_0x15e724===_0xf70955(0x24d))){var _0x11e759=this[_0xf70955(0x26c)](_0x2dfdfc,_0x290560);if(_0x11e759&&(_0x11e759[_0xf70955(0x1da)]&&(_0x3c486f[_0xf70955(0x21f)]=!0x0),_0x11e759[_0xf70955(0x24c)]&&!_0x114efa&&!_0xaca340[_0xf70955(0x1fe)]))return _0x3c486f[_0xf70955(0x268)]=!0x0,this[_0xf70955(0x1ed)](_0x3c486f,_0xaca340),_0x3c486f;}var _0x3a22d9;try{_0x3a22d9=_0x357fc6(_0x2dfdfc,_0x290560);}catch(_0x45a338){return _0x3c486f={'name':_0x3c3d9a,'type':'unknown','error':_0x45a338['message']},this[_0xf70955(0x1ed)](_0x3c486f,_0xaca340),_0x3c486f;}var _0x2e58d9=this[_0xf70955(0x1cf)](_0x3a22d9),_0x14e32f=this[_0xf70955(0x204)](_0x2e58d9);if(_0x3c486f[_0xf70955(0x234)]=_0x2e58d9,_0x14e32f)this[_0xf70955(0x1ed)](_0x3c486f,_0xaca340,_0x3a22d9,function(){var _0x40073b=_0xf70955;_0x3c486f[_0x40073b(0x19e)]=_0x3a22d9[_0x40073b(0x1f3)](),!_0x114efa&&_0x5b6b8c[_0x40073b(0x205)](_0x2e58d9,_0x3c486f,_0xaca340,{});});else{var _0x35b9b1=_0xaca340['autoExpand']&&_0xaca340[_0xf70955(0x240)]<_0xaca340[_0xf70955(0x194)]&&_0xaca340[_0xf70955(0x20f)][_0xf70955(0x1b2)](_0x3a22d9)<0x0&&_0x2e58d9!=='function'&&_0xaca340[_0xf70955(0x222)]<_0xaca340[_0xf70955(0x1b6)];_0x35b9b1||_0xaca340[_0xf70955(0x240)]<_0x5a3279||_0x114efa?(this[_0xf70955(0x199)](_0x3c486f,_0x3a22d9,_0xaca340,_0x114efa||{}),this['_additionalMetadata'](_0x3a22d9,_0x3c486f)):this[_0xf70955(0x1ed)](_0x3c486f,_0xaca340,_0x3a22d9,function(){var _0x1f2afc=_0xf70955;_0x2e58d9===_0x1f2afc(0x1c5)||_0x2e58d9===_0x1f2afc(0x235)||(delete _0x3c486f[_0x1f2afc(0x19e)],_0x3c486f[_0x1f2afc(0x19d)]=!0x0);});}return _0x3c486f;}finally{_0xaca340['expressionsToEvaluate']=_0x19d370,_0xaca340['depth']=_0x5a3279,_0xaca340['isExpressionToEvaluate']=_0x288101;}}['_capIfString'](_0x2be2a2,_0x2e1e17,_0x5928f2,_0x454d8d){var _0xce37f2=_0x572038,_0x3ff12d=_0x454d8d['strLength']||_0x5928f2[_0xce37f2(0x23d)];if((_0x2be2a2===_0xce37f2(0x227)||_0x2be2a2===_0xce37f2(0x1f1))&&_0x2e1e17['value']){let _0x51aebb=_0x2e1e17['value'][_0xce37f2(0x19a)];_0x5928f2['allStrLength']+=_0x51aebb,_0x5928f2[_0xce37f2(0x206)]>_0x5928f2[_0xce37f2(0x253)]?(_0x2e1e17[_0xce37f2(0x19d)]='',delete _0x2e1e17[_0xce37f2(0x19e)]):_0x51aebb>_0x3ff12d&&(_0x2e1e17[_0xce37f2(0x19d)]=_0x2e1e17['value']['substr'](0x0,_0x3ff12d),delete _0x2e1e17[_0xce37f2(0x19e)]);}}[_0x572038(0x266)](_0x593756){var _0x2f0435=_0x572038;return!!(_0x593756&&_0x2e145d[_0x2f0435(0x262)]&&this[_0x2f0435(0x238)](_0x593756)==='[object\\x20Map]'&&_0x593756[_0x2f0435(0x25e)]);}[_0x572038(0x1ad)](_0x5bf012){var _0x3e174f=_0x572038;if(_0x5bf012[_0x3e174f(0x26f)](/^\\d+$/))return _0x5bf012;var _0xcfed87;try{_0xcfed87=JSON[_0x3e174f(0x1cb)](''+_0x5bf012);}catch{_0xcfed87='\\x22'+this['_objectToString'](_0x5bf012)+'\\x22';}return _0xcfed87[_0x3e174f(0x26f)](/^\"([a-zA-Z_][a-zA-Z_0-9]*)\"$/)?_0xcfed87=_0xcfed87['substr'](0x1,_0xcfed87[_0x3e174f(0x19a)]-0x2):_0xcfed87=_0xcfed87[_0x3e174f(0x233)](/'/g,'\\x5c\\x27')['replace'](/\\\\\"/g,'\\x22')['replace'](/(^\"|\"$)/g,'\\x27'),_0xcfed87;}[_0x572038(0x1ed)](_0x4e0437,_0x38df41,_0x139c37,_0x59802c){var _0x3ae8e8=_0x572038;this[_0x3ae8e8(0x265)](_0x4e0437,_0x38df41),_0x59802c&&_0x59802c(),this['_additionalMetadata'](_0x139c37,_0x4e0437),this[_0x3ae8e8(0x24b)](_0x4e0437,_0x38df41);}[_0x572038(0x265)](_0x288bc5,_0x536778){var _0x548fd1=_0x572038;this[_0x548fd1(0x18e)](_0x288bc5,_0x536778),this[_0x548fd1(0x26a)](_0x288bc5,_0x536778),this[_0x548fd1(0x1a6)](_0x288bc5,_0x536778),this[_0x548fd1(0x1b8)](_0x288bc5,_0x536778);}[_0x572038(0x18e)](_0x332870,_0x407160){}[_0x572038(0x26a)](_0x45563c,_0x1e561e){}[_0x572038(0x1dc)](_0x5e1ee4,_0x1a75e9){}[_0x572038(0x269)](_0x2b9355){var _0x5c5392=_0x572038;return _0x2b9355===this[_0x5c5392(0x1ae)];}[_0x572038(0x24b)](_0x24001a,_0xc68883){var _0x3d935c=_0x572038;this[_0x3d935c(0x1dc)](_0x24001a,_0xc68883),this[_0x3d935c(0x245)](_0x24001a),_0xc68883[_0x3d935c(0x258)]&&this[_0x3d935c(0x1c0)](_0x24001a),this[_0x3d935c(0x1ce)](_0x24001a,_0xc68883),this[_0x3d935c(0x231)](_0x24001a,_0xc68883),this[_0x3d935c(0x203)](_0x24001a);}['_additionalMetadata'](_0x365072,_0x4a204a){var _0x220be4=_0x572038;try{_0x365072&&typeof _0x365072[_0x220be4(0x19a)]==_0x220be4(0x1e9)&&(_0x4a204a['length']=_0x365072[_0x220be4(0x19a)]);}catch{}if(_0x4a204a[_0x220be4(0x234)]==='number'||_0x4a204a[_0x220be4(0x234)]===_0x220be4(0x1ee)){if(isNaN(_0x4a204a[_0x220be4(0x19e)]))_0x4a204a[_0x220be4(0x26b)]=!0x0,delete _0x4a204a[_0x220be4(0x19e)];else switch(_0x4a204a['value']){case Number[_0x220be4(0x1fb)]:_0x4a204a['positiveInfinity']=!0x0,delete _0x4a204a['value'];break;case Number[_0x220be4(0x1d3)]:_0x4a204a[_0x220be4(0x256)]=!0x0,delete _0x4a204a[_0x220be4(0x19e)];break;case 0x0:this[_0x220be4(0x1b3)](_0x4a204a[_0x220be4(0x19e)])&&(_0x4a204a[_0x220be4(0x188)]=!0x0);break;}}else _0x4a204a[_0x220be4(0x234)]===_0x220be4(0x201)&&typeof _0x365072['name']=='string'&&_0x365072[_0x220be4(0x241)]&&_0x4a204a[_0x220be4(0x241)]&&_0x365072[_0x220be4(0x241)]!==_0x4a204a[_0x220be4(0x241)]&&(_0x4a204a[_0x220be4(0x1c7)]=_0x365072[_0x220be4(0x241)]);}[_0x572038(0x1b3)](_0x356c8d){var _0x475bac=_0x572038;return 0x1/_0x356c8d===Number[_0x475bac(0x1d3)];}[_0x572038(0x1c0)](_0xe6296a){var _0xa5692b=_0x572038;!_0xe6296a[_0xa5692b(0x1c1)]||!_0xe6296a['props'][_0xa5692b(0x19a)]||_0xe6296a[_0xa5692b(0x234)]==='array'||_0xe6296a['type']===_0xa5692b(0x262)||_0xe6296a[_0xa5692b(0x234)]===_0xa5692b(0x1f2)||_0xe6296a[_0xa5692b(0x1c1)][_0xa5692b(0x1a0)](function(_0x12e2ea,_0x33afc0){var _0xd040e8=_0xa5692b,_0x2a303e=_0x12e2ea[_0xd040e8(0x241)][_0xd040e8(0x23f)](),_0x2d3adc=_0x33afc0[_0xd040e8(0x241)][_0xd040e8(0x23f)]();return _0x2a303e<_0x2d3adc?-0x1:_0x2a303e>_0x2d3adc?0x1:0x0;});}[_0x572038(0x1ce)](_0x290a57,_0x547272){var _0x546e5d=_0x572038;if(!(_0x547272[_0x546e5d(0x1bc)]||!_0x290a57[_0x546e5d(0x1c1)]||!_0x290a57[_0x546e5d(0x1c1)][_0x546e5d(0x19a)])){for(var _0x54bd86=[],_0x9155d6=[],_0x39f911=0x0,_0x20ddc9=_0x290a57[_0x546e5d(0x1c1)]['length'];_0x39f911<_0x20ddc9;_0x39f911++){var _0x16026e=_0x290a57['props'][_0x39f911];_0x16026e['type']===_0x546e5d(0x201)?_0x54bd86[_0x546e5d(0x252)](_0x16026e):_0x9155d6[_0x546e5d(0x252)](_0x16026e);}if(!(!_0x9155d6['length']||_0x54bd86[_0x546e5d(0x19a)]<=0x1)){_0x290a57[_0x546e5d(0x1c1)]=_0x9155d6;var _0x150fa8={'functionsNode':!0x0,'props':_0x54bd86};this[_0x546e5d(0x18e)](_0x150fa8,_0x547272),this[_0x546e5d(0x1dc)](_0x150fa8,_0x547272),this[_0x546e5d(0x245)](_0x150fa8),this[_0x546e5d(0x1b8)](_0x150fa8,_0x547272),_0x150fa8['id']+='\\x20f',_0x290a57['props']['unshift'](_0x150fa8);}}}[_0x572038(0x231)](_0x46ac0d,_0x434a3f){}[_0x572038(0x245)](_0x14260f){}[_0x572038(0x1cd)](_0x3c80a0){var _0x499a94=_0x572038;return Array[_0x499a94(0x1d4)](_0x3c80a0)||typeof _0x3c80a0==_0x499a94(0x1ac)&&this[_0x499a94(0x238)](_0x3c80a0)===_0x499a94(0x1ca);}[_0x572038(0x1b8)](_0xfd1f81,_0x232cc1){}[_0x572038(0x203)](_0x5a7931){var _0x44de8d=_0x572038;delete _0x5a7931[_0x44de8d(0x242)],delete _0x5a7931[_0x44de8d(0x19b)],delete _0x5a7931[_0x44de8d(0x1d1)];}[_0x572038(0x1a6)](_0x21e7c2,_0x12ec02){}[_0x572038(0x251)](_0xcc8ed9){var _0x47d9dc=_0x572038;return _0xcc8ed9?_0xcc8ed9['match'](this[_0x47d9dc(0x1be)])?'['+_0xcc8ed9+']':_0xcc8ed9['match'](this[_0x47d9dc(0x220)])?'.'+_0xcc8ed9:_0xcc8ed9[_0x47d9dc(0x26f)](this[_0x47d9dc(0x1a3)])?'['+_0xcc8ed9+']':'[\\x27'+_0xcc8ed9+'\\x27]':'';}}let _0xf99904=new _0x3d5a83();function _0x3b58f2(_0x4f15ce,_0x2c6e71,_0x4268e1,_0x51b5f0,_0x17d880,_0x14be65){var _0x2212ae=_0x572038;let _0xadaa6d,_0x209111;try{_0x209111=_0x5dfdc8(),_0xadaa6d=_0x218f2d[_0x2c6e71],!_0xadaa6d||_0x209111-_0xadaa6d['ts']>0x1f4&&_0xadaa6d[_0x2212ae(0x1e8)]&&_0xadaa6d[_0x2212ae(0x21c)]/_0xadaa6d['count']<0x64?(_0x218f2d[_0x2c6e71]=_0xadaa6d={'count':0x0,'time':0x0,'ts':_0x209111},_0x218f2d[_0x2212ae(0x18d)]={}):_0x209111-_0x218f2d[_0x2212ae(0x18d)]['ts']>0x32&&_0x218f2d[_0x2212ae(0x18d)]['count']&&_0x218f2d['hits'][_0x2212ae(0x21c)]/_0x218f2d['hits'][_0x2212ae(0x1e8)]<0x64&&(_0x218f2d[_0x2212ae(0x18d)]={});let _0x5b7a98=[],_0x517f03=_0xadaa6d[_0x2212ae(0x1d5)]||_0x218f2d[_0x2212ae(0x18d)]['reduceLimits']?_0x38ddac:_0xa91e3d,_0x23d734=_0x43e425=>{var _0x2efc2b=_0x2212ae;let _0x2b9bba={};return _0x2b9bba[_0x2efc2b(0x1c1)]=_0x43e425[_0x2efc2b(0x1c1)],_0x2b9bba[_0x2efc2b(0x229)]=_0x43e425[_0x2efc2b(0x229)],_0x2b9bba[_0x2efc2b(0x23d)]=_0x43e425[_0x2efc2b(0x23d)],_0x2b9bba[_0x2efc2b(0x253)]=_0x43e425[_0x2efc2b(0x253)],_0x2b9bba[_0x2efc2b(0x1b6)]=_0x43e425[_0x2efc2b(0x1b6)],_0x2b9bba['autoExpandMaxDepth']=_0x43e425[_0x2efc2b(0x194)],_0x2b9bba['sortProps']=!0x1,_0x2b9bba['noFunctions']=!_0x3a4439,_0x2b9bba[_0x2efc2b(0x218)]=0x1,_0x2b9bba[_0x2efc2b(0x240)]=0x0,_0x2b9bba['expId']=_0x2efc2b(0x186),_0x2b9bba[_0x2efc2b(0x259)]=_0x2efc2b(0x20b),_0x2b9bba['autoExpand']=!0x0,_0x2b9bba['autoExpandPreviousObjects']=[],_0x2b9bba[_0x2efc2b(0x222)]=0x0,_0x2b9bba['resolveGetters']=!0x0,_0x2b9bba[_0x2efc2b(0x206)]=0x0,_0x2b9bba[_0x2efc2b(0x21a)]={'current':void 0x0,'parent':void 0x0,'index':0x0},_0x2b9bba;};for(var _0x5e5dd0=0x0;_0x5e5dd0<_0x17d880[_0x2212ae(0x19a)];_0x5e5dd0++)_0x5b7a98[_0x2212ae(0x252)](_0xf99904['serialize']({'timeNode':_0x4f15ce===_0x2212ae(0x21c)||void 0x0},_0x17d880[_0x5e5dd0],_0x23d734(_0x517f03),{}));if(_0x4f15ce===_0x2212ae(0x261)){let _0x35be32=Error[_0x2212ae(0x213)];try{Error[_0x2212ae(0x213)]=0x1/0x0,_0x5b7a98[_0x2212ae(0x252)](_0xf99904['serialize']({'stackNode':!0x0},new Error()['stack'],_0x23d734(_0x517f03),{'strLength':0x1/0x0}));}finally{Error[_0x2212ae(0x213)]=_0x35be32;}}return{'method':_0x2212ae(0x191),'version':_0x3590c9,'args':[{'ts':_0x4268e1,'session':_0x51b5f0,'args':_0x5b7a98,'id':_0x2c6e71,'context':_0x14be65}]};}catch(_0x1eff3d){return{'method':_0x2212ae(0x191),'version':_0x3590c9,'args':[{'ts':_0x4268e1,'session':_0x51b5f0,'args':[{'type':_0x2212ae(0x22e),'error':_0x1eff3d&&_0x1eff3d[_0x2212ae(0x209)]}],'id':_0x2c6e71,'context':_0x14be65}]};}finally{try{if(_0xadaa6d&&_0x209111){let _0x4fa676=_0x5dfdc8();_0xadaa6d[_0x2212ae(0x1e8)]++,_0xadaa6d[_0x2212ae(0x21c)]+=_0x1d6375(_0x209111,_0x4fa676),_0xadaa6d['ts']=_0x4fa676,_0x218f2d[_0x2212ae(0x18d)][_0x2212ae(0x1e8)]++,_0x218f2d[_0x2212ae(0x18d)][_0x2212ae(0x21c)]+=_0x1d6375(_0x209111,_0x4fa676),_0x218f2d[_0x2212ae(0x18d)]['ts']=_0x4fa676,(_0xadaa6d[_0x2212ae(0x1e8)]>0x32||_0xadaa6d['time']>0x64)&&(_0xadaa6d[_0x2212ae(0x1d5)]=!0x0),(_0x218f2d[_0x2212ae(0x18d)][_0x2212ae(0x1e8)]>0x3e8||_0x218f2d['hits']['time']>0x12c)&&(_0x218f2d['hits'][_0x2212ae(0x1d5)]=!0x0);}}catch{}}}return _0x2e145d[_0x572038(0x1a5)];})(globalThis,_0x3a4dda(0x249),_0x3a4dda(0x1a2),_0x3a4dda(0x198),'webpack',_0x3a4dda(0x244),_0x3a4dda(0x255),[\"localhost\",\"127.0.0.1\",\"example.cypress.io\",\"MacBook-Pro-de-Erick.local\",\"192.168.100.36\"],_0x3a4dda(0x1c6));")}catch{}})().consoleLog(n,e)}catch{}return e}function hP(n,e){if(1&n&&(l.TgZ(0,"div",2),l._UZ(1,"img",3),l.TgZ(2,"div",4)(3,"h3"),l._uU(4),l.qZA(),l.TgZ(5,"p"),l._uU(6),l.qZA(),l.TgZ(7,"a",5),l._uU(8,"Ver curso"),l.qZA()()()),2&n){const t=e.$implicit;l.xp6(1),l.s9C("src",t.imagen,l.LSH),l.xp6(3),l.Oqu(t.titulo),l.xp6(2),l.Oqu(t.descripcion),l.xp6(1),l.s9C("href",t.url,l.LSH)}}let fP=(()=>{class n{constructor(t){this.items=t.collection("cursos").valueChanges()}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(uv))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-cursos"]],decls:5,vars:3,consts:[[1,"container"],["class","card",4,"ngFor","ngForOf"],[1,"card"],["alt","",3,"src"],[1,"info"],["target","_blank",3,"href"]],template:function(t,r){1&t&&(l._UZ(0,"app-header-component"),l.TgZ(1,"div",0),l.YNc(2,hP,9,4,"div",1),l.ALo(3,"async"),l.qZA(),l._UZ(4,"app-footer")),2&t&&(l.xp6(2),l.Q6J("ngForOf",l.lcZ(3,1,r.items)))},dependencies:[Wr,bm,cv,ac],styles:["[_ngcontent-%COMP%]:root{--text-color: #c7c7c7;--body-color: #202020;--title-color: #b7b7b7}body[_ngcontent-%COMP%]{background-color:#f1f1f1}.container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(350px,1fr));gap:10px;width:80%;margin:auto}.card[_ngcontent-%COMP%]{justify-self:center;background-color:#fff;box-shadow:#00000029 0 3px 6px,#0000003b 0 3px 6px;width:350px;border-radius:20px;margin:10px;transition:all .3s ease}.card[_ngcontent-%COMP%]:hover{transform:translateY(-1%)}.card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;object-fit:cover}.card[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:inline-block;overflow:hidden;text-decoration:none;color:var(--text-color);padding:10px;border:1px solid var(--text-color);border-radius:10px;transition:all .3s ease}.card[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{box-shadow:#3c40434d 0 1px 2px,#3c404326 0 1px 3px 1px;color:var(--title-color)}.card[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{text-align:center;overflow:hidden}.card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-color);padding:10px}"]}),n})();function pP(n,e){1&n&&(l.TgZ(0,"div",23)(1,"a",24),l._uU(2,"Plan de estudios"),l.qZA(),l.TgZ(3,"a",25),l._uU(4,"Convocatorias"),l.qZA(),l.TgZ(5,"a",26),l._uU(6,"Cursos"),l.qZA(),l.TgZ(7,"a",27),l._uU(8,"Videos"),l.qZA(),l.TgZ(9,"a",28),l._uU(10,"Contacto"),l.qZA(),l.TgZ(11,"a",29),l._uU(12,"SIGA"),l.qZA(),l.TgZ(13,"a",30),l._uU(14,"SIIAU"),l.qZA(),l.TgZ(15,"a",31),l._uU(16,"CuTonal\xe1"),l.qZA(),l.TgZ(17,"a",32),l._uU(18,"Ventanilla Unica"),l.qZA()())}function gP(n,e){1&n&&(l.TgZ(0,"div",33)(1,"a",28),l._uU(2,"Contacto"),l.qZA(),l.TgZ(3,"a",29),l._uU(4,"SIGA"),l.qZA(),l.TgZ(5,"a",30),l._uU(6,"SIIAU"),l.qZA(),l.TgZ(7,"a",31),l._uU(8,"CuTonal\xe1"),l.qZA(),l.TgZ(9,"a",32),l._uU(10,"Ventanilla Unica"),l.qZA()())}function mP(n,e){1&n&&(l.TgZ(0,"div",34)(1,"a",26),l._uU(2,"Cursos"),l.qZA(),l.TgZ(3,"a",27),l._uU(4,"Videos"),l.qZA(),l.TgZ(5,"a",28),l._uU(6,"Contacto"),l.qZA(),l.TgZ(7,"a",29),l._uU(8,"SIGA"),l.qZA(),l.TgZ(9,"a",30),l._uU(10,"SIIAU"),l.qZA(),l.TgZ(11,"a",31),l._uU(12,"CuTonal\xe1"),l.qZA(),l.TgZ(13,"a",32),l._uU(14,"Ventanilla Unica"),l.qZA()())}let _P=(()=>{class n{constructor(){this.showMe=!1}mostrar(){this.showMe=!this.showMe}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-header"]],decls:51,vars:3,consts:[[1,"mobile"],[1,"header"],["href","/"],["src","../../../assets/logo.png","width","100","alt",""],["id","bMenuMobile",3,"click"],[1,"material-icons"],["class","linksMobile",4,"ngIf"],["href","/",1,"link"],["href","/Plan de estudios",1,"link"],["href","/Convocatorias",1,"link"],["href","/Cursos",1,"link","link-hide-hide"],["href","/Videos",1,"link","link-hide-hide"],["href","/Contacto",1,"link","link-hide"],["href","http://siga.cutonala.udg.mx/","target","_blank",1,"link","link-hide"],["href","http://siiauescolar.siiau.udg.mx/","target","_blank",1,"link","link-hide"],["href","http://www.cutonala.udg.mx/","target","_blank",1,"link","link-hide"],["href","https://mw.siiau.udg.mx/Portal/login.xhtml","target","_blank",1,"link","link-hide"],[1,"mas"],["href","#","id","bmas",3,"click"],["class","menu-mas",4,"ngIf"],[1,"mas2"],["href","#","id","bmas2",3,"click"],["class","menu-mas2",4,"ngIf"],[1,"linksMobile"],["href","/Plan de estudios"],["href","/Convocatorias"],["href","/Cursos"],["href","/Videos"],["href","/Contacto"],["href","http://siga.cutonala.udg.mx/","target","_blank"],["href","http://siiauescolar.siiau.udg.mx/","target","_blank"],["href","http://www.cutonala.udg.mx/","target","_blank"],["href","https://mw.siiau.udg.mx/Portal/login.xhtml","target","_blank"],[1,"menu-mas"],[1,"menu-mas2"]],template:function(t,r){1&t&&(l.TgZ(0,"header")(1,"nav")(2,"div",0)(3,"div",1)(4,"a",2),l._UZ(5,"img",3),l.qZA(),l.TgZ(6,"button",4),l.NdJ("click",function(){return r.mostrar()}),l.TgZ(7,"span",5),l._uU(8,"\ue5d2"),l.qZA()()(),l.YNc(9,pP,19,0,"div",6),l.qZA(),l.TgZ(10,"ul")(11,"a",2),l._UZ(12,"img",3),l.qZA(),l.TgZ(13,"li")(14,"a",7),l._uU(15,"Inicio"),l.qZA()(),l.TgZ(16,"li")(17,"a",8),l._uU(18,"Plan de estudios"),l.qZA()(),l.TgZ(19,"li")(20,"a",9),l._uU(21,"Convocatorias"),l.qZA()(),l.TgZ(22,"li")(23,"a",10),l._uU(24,"Cursos"),l.qZA()(),l.TgZ(25,"li")(26,"a",11),l._uU(27,"Videos"),l.qZA()(),l.TgZ(28,"li")(29,"a",12),l._uU(30,"Contacto"),l.qZA()(),l.TgZ(31,"li")(32,"a",13),l._uU(33,"SIGA"),l.qZA()(),l.TgZ(34,"li")(35,"a",14),l._uU(36,"SIIAU"),l.qZA()(),l.TgZ(37,"li")(38,"a",15),l._uU(39,"CuTonal\xe1"),l.qZA()(),l.TgZ(40,"li")(41,"a",16),l._uU(42,"Ventanilla Unica"),l.qZA()(),l.TgZ(43,"li",17)(44,"a",18),l.NdJ("click",function(){return r.mostrar()}),l._uU(45,"M\xe1s"),l.qZA(),l.YNc(46,gP,11,0,"div",19),l.qZA(),l.TgZ(47,"li",20)(48,"a",21),l.NdJ("click",function(){return r.mostrar()}),l._uU(49,"M\xe1s"),l.qZA(),l.YNc(50,mP,15,0,"div",22),l.qZA()()()()),2&t&&(l.xp6(9),l.Q6J("ngIf",r.showMe),l.xp6(37),l.Q6J("ngIf",r.showMe),l.xp6(4),l.Q6J("ngIf",r.showMe))},dependencies:[tr]}),n})(),yP=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-contenido"]],decls:56,vars:0,consts:[["id","bienvenida"],["id","imagen"],["id","primer_i"]],template:function(t,r){1&t&&(l.TgZ(0,"section",0)(1,"h2"),l._uU(2,"Ing. En Ciencias Computacionales"),l.qZA(),l._uU(3," Bienvenidos a la pagina de departamento de la Ingenier\xeda en Ciencias Computacionales, aqui encontraras varios recursos valiosos que te ayudaran en tu estadia como estudiante como: "),l.TgZ(4,"ul")(5,"li"),l._uU(6,"Ver plan de estudios"),l.qZA(),l.TgZ(7,"li"),l._uU(8,"Ver convocatorias nuevas"),l.qZA(),l.TgZ(9,"li"),l._uU(10,"Obtener cursos gratuitos para ayudarte con tu aprendizaje"),l.qZA(),l.TgZ(11,"li"),l._uU(12,"Ver videos relacionado con el centro universitario de Tonal\xe1"),l.qZA(),l.TgZ(13,"li"),l._uU(14,"Ver datos de contacto de profesores y coordinador de la Ingenier\xeda"),l.qZA(),l.TgZ(15,"li"),l._uU(16,"Tener acceso a paginas que te ayudaran como estudiante de UDG como: SIIAU, Ventanilla Unica, SIGA "),l.qZA()()(),l.TgZ(17,"section",1)(18,"section",2)(19,"h2"),l._uU(20,"Primer ingreso"),l.qZA(),l.TgZ(21,"h3"),l._uU(22,"Perfil de ingreso:"),l.qZA(),l.TgZ(23,"ul")(24,"li"),l._uU(25,"Poseer certificado de bachillerato general o equivalente."),l.qZA(),l.TgZ(26,"li"),l._uU(27,"Inter\xe9s y aptitudes en m\xe9todos y t\xe9cnicas de sistemas inform\xe1ticos y de computaci\xf3n."),l.qZA(),l.TgZ(28,"li"),l._uU(29,"Organizaci\xf3n y disciplina en el estudio y el trabajo."),l.qZA(),l.TgZ(30,"li"),l._uU(31,"Inclinaci\xf3n por el estudio de las ciencias y las tecnolog\xedas."),l.qZA()(),l.TgZ(32,"h3"),l._uU(33,"Examen de ingreso:"),l.qZA(),l._uU(34," El aspirante a estudios universitario deber\xe1 presentar la Prueba de Aptitua Acad\xe9mica (PAA) del College Board que eval\xfaa las siguientes \xe1reas:"),l._UZ(35,"br"),l.TgZ(36,"ul")(37,"li"),l._uU(38,"Razonamiento verbal y lectura cr\xedtica."),l.qZA(),l.TgZ(39,"li"),l._uU(40,"Razonamiento l\xf3gico."),l.qZA(),l.TgZ(41,"li"),l._uU(42,"matem\xe1tico."),l.qZA(),l.TgZ(43,"li"),l._uU(44,"redacci\xf3n en espa\xf1ol."),l.qZA()(),l._UZ(45,"br"),l._uU(46," Gu\xeda para preparar el examen de ingreso "),l.TgZ(47,"ul")(48,"li"),l._uU(49,"http://www.escolar.udg.mx/aspirantes/guia-paa"),l.qZA()(),l._uU(50," Calendario y tr\xe1mites para el ingreso "),l.TgZ(51,"ul")(52,"li"),l._uU(53,"Calendario: http://www.escolar.udg.mx"),l.qZA(),l.TgZ(54,"li"),l._uU(55,"Tr\xe1mites: http://www.escolar.udg.mx/aspirantes/registro-de-tramites"),l.qZA()()()())}}),n})(),vP=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-index-component"]],decls:3,vars:0,template:function(t,r){1&t&&l._UZ(0,"app-header")(1,"app-contenido")(2,"app-footer")},dependencies:[_P,yP,bm]}),n})();function xP(n,e){if(1&n&&(l.TgZ(0,"tr")(1,"td",14),l._uU(2),l.qZA(),l.TgZ(3,"td",15),l._uU(4),l.qZA(),l.TgZ(5,"td",16)(6,"a",17)(7,"span",2),l._uU(8,"\ue2c4"),l.qZA()()()()),2&n){const t=e.$implicit;l.xp6(2),l.Oqu(t.nombre),l.xp6(2),l.Oqu(t.descripcion),l.xp6(2),l.s9C("href",t.url,l.LSH)}}function wP(n,e){if(1&n&&(l.TgZ(0,"tr")(1,"td",14),l._uU(2),l.qZA(),l.TgZ(3,"td",15),l._uU(4),l.qZA(),l.TgZ(5,"td",16)(6,"a",17)(7,"span",2),l._uU(8,"\ue2c4"),l.qZA()()()()),2&n){const t=e.$implicit;l.xp6(2),l.Oqu(t.nombre),l.xp6(2),l.Oqu(t.descripcion),l.xp6(2),l.s9C("href",t.url,l.LSH)}}function bP(n,e){if(1&n&&(l.TgZ(0,"tr")(1,"td",14),l._uU(2),l.qZA(),l.TgZ(3,"td",15),l._uU(4),l.qZA(),l.TgZ(5,"td",16)(6,"a",17)(7,"span",2),l._uU(8,"\ue2c4"),l.qZA()()()()),2&n){const t=e.$implicit;l.xp6(2),l.Oqu(t.nombre),l.xp6(2),l.Oqu(t.descripcion),l.xp6(2),l.s9C("href",t.url,l.LSH)}}function IP(n,e){if(1&n&&(l.TgZ(0,"tr")(1,"td",14),l._uU(2),l.qZA(),l.TgZ(3,"td",15),l._uU(4),l.qZA(),l.TgZ(5,"td",16)(6,"a",17)(7,"span",2),l._uU(8,"\ue2c4"),l.qZA()()()()),2&n){const t=e.$implicit;l.xp6(2),l.Oqu(t.nombre),l.xp6(2),l.Oqu(t.descripcion),l.xp6(2),l.s9C("href",t.url,l.LSH)}}function EP(n,e){if(1&n&&(l.TgZ(0,"tr")(1,"td",14),l._uU(2),l.qZA(),l.TgZ(3,"td",15),l._uU(4),l.qZA(),l.TgZ(5,"td",16)(6,"a",17)(7,"span",2),l._uU(8,"\ue2c4"),l.qZA()()()()),2&n){const t=e.$implicit;l.xp6(2),l.Oqu(t.nombre),l.xp6(2),l.Oqu(t.descripcion),l.xp6(2),l.s9C("href",t.url,l.LSH)}}function DP(n,e){if(1&n&&(l.TgZ(0,"tr")(1,"td",14),l._uU(2),l.qZA(),l.TgZ(3,"td",15),l._uU(4),l.qZA(),l.TgZ(5,"td",16)(6,"a",17)(7,"span",2),l._uU(8,"\ue2c4"),l.qZA()()()()),2&n){const t=e.$implicit;l.xp6(2),l.Oqu(t.nombre),l.xp6(2),l.Oqu(t.descripcion),l.xp6(2),l.s9C("href",t.url,l.LSH)}}const TP=[{path:"Plan de estudios",component:(()=>{class n{constructor(t){this.items=t.collection("materias").valueChanges(),this.materias2=t.collection("materias basicas particular").valueChanges(),this.materias3=t.collection("especializante").valueChanges(),this.materias4=t.collection("ciberseguridad").valueChanges(),this.materias5=t.collection("desarrollo de software").valueChanges(),this.materias6=t.collection("inteligencia de datos").valueChanges()}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(uv))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-plan-de-estudios"]],decls:99,vars:18,consts:[["id","contenido"],["id","malla"],[1,"material-icons"],["href","../../../assets/malla_icco_dictamen.pdf","download","malla icco","id","b-descargar"],["data",l.$Z9`../../../assets/malla_icco_dictamen.pdf`,"width","800px","height","650px"],["id","contenido-tabla"],["id","contedor-tabla"],[1,"tabla"],[1,"caption1"],[4,"ngFor","ngForOf"],[1,"caption2"],[1,"caption3"],[1,"caption4"],[1,"caption5"],["id","nombre"],["id","descripcion"],["id","url"],["target","_blank",3,"href"]],template:function(t,r){1&t&&(l._UZ(0,"app-header-component"),l.TgZ(1,"div",0)(2,"div",1)(3,"p"),l._uU(4,"Malla Curricular"),l.qZA(),l.TgZ(5,"span",2),l._uU(6,"\ue5c8"),l.qZA(),l.TgZ(7,"a",3),l._uU(8,"Descargar"),l.qZA(),l._UZ(9,"object",4),l.qZA()(),l.TgZ(10,"div",5)(11,"div",6)(12,"table",7)(13,"caption",8),l._uU(14,"\xc1rea de formaci\xf3n: B\xe1sica com\xfan"),l.qZA(),l.TgZ(15,"thead")(16,"tr")(17,"th"),l._uU(18,"Materia"),l.qZA(),l.TgZ(19,"th"),l._uU(20,"Descripci\xf3n"),l.qZA(),l.TgZ(21,"th"),l._uU(22,"Descargar"),l.qZA()()(),l.TgZ(23,"tbody"),l.YNc(24,xP,9,3,"tr",9),l.ALo(25,"async"),l.qZA()(),l.TgZ(26,"table",7)(27,"caption",10),l._uU(28,"\xc1rea de formaci\xf3n: B\xe1sica particular (obligatoria)"),l.qZA(),l.TgZ(29,"thead")(30,"tr")(31,"th"),l._uU(32,"Materia"),l.qZA(),l.TgZ(33,"th"),l._uU(34,"Descripci\xf3n"),l.qZA(),l.TgZ(35,"th"),l._uU(36,"Descargar"),l.qZA()()(),l.TgZ(37,"tbody"),l.YNc(38,wP,9,3,"tr",9),l.ALo(39,"async"),l.qZA()(),l.TgZ(40,"table",7)(41,"caption",11),l._uU(42,"\xc1rea de formaci\xf3n: Especializante (obligatoria)"),l.qZA(),l.TgZ(43,"thead")(44,"tr")(45,"th"),l._uU(46,"Materia"),l.qZA(),l.TgZ(47,"th"),l._uU(48,"Descripci\xf3n"),l.qZA(),l.TgZ(49,"th"),l._uU(50,"Descargar"),l.qZA()()(),l.TgZ(51,"tbody"),l.YNc(52,bP,9,3,"tr",9),l.ALo(53,"async"),l.qZA()(),l.TgZ(54,"table",7)(55,"caption",12),l._uU(56,"\xc1rea de formaci\xf3n: Especializante (selectiva)"),l.qZA(),l.TgZ(57,"caption",13),l._uU(58,"Ciberseguridad"),l.qZA(),l.TgZ(59,"thead")(60,"tr")(61,"th"),l._uU(62,"Materia"),l.qZA(),l.TgZ(63,"th"),l._uU(64,"Descripci\xf3n"),l.qZA(),l.TgZ(65,"th"),l._uU(66,"Descargar"),l.qZA()()(),l.TgZ(67,"tbody"),l.YNc(68,IP,9,3,"tr",9),l.ALo(69,"async"),l.qZA()(),l.TgZ(70,"table",7)(71,"caption",13),l._uU(72,"Desarrollo de software"),l.qZA(),l.TgZ(73,"thead")(74,"tr")(75,"th"),l._uU(76,"Materia"),l.qZA(),l.TgZ(77,"th"),l._uU(78,"Descripci\xf3n"),l.qZA(),l.TgZ(79,"th"),l._uU(80,"Descargar"),l.qZA()()(),l.TgZ(81,"tbody"),l.YNc(82,EP,9,3,"tr",9),l.ALo(83,"async"),l.qZA()(),l.TgZ(84,"table",7)(85,"caption",13),l._uU(86,"Inteligencia de datos"),l.qZA(),l.TgZ(87,"thead")(88,"tr")(89,"th"),l._uU(90,"Materia"),l.qZA(),l.TgZ(91,"th"),l._uU(92,"Descripci\xf3n"),l.qZA(),l.TgZ(93,"th"),l._uU(94,"Descargar"),l.qZA()()(),l.TgZ(95,"tbody"),l.YNc(96,DP,9,3,"tr",9),l.ALo(97,"async"),l.qZA()()()(),l._UZ(98,"app-footer")),2&t&&(l.xp6(24),l.Q6J("ngForOf",l.lcZ(25,6,r.items)),l.xp6(14),l.Q6J("ngForOf",l.lcZ(39,8,r.materias2)),l.xp6(14),l.Q6J("ngForOf",l.lcZ(53,10,r.materias3)),l.xp6(16),l.Q6J("ngForOf",l.lcZ(69,12,r.materias4)),l.xp6(14),l.Q6J("ngForOf",l.lcZ(83,14,r.materias5)),l.xp6(14),l.Q6J("ngForOf",l.lcZ(97,16,r.materias6)))},dependencies:[Wr,bm,cv,ac],styles:["[_ngcontent-%COMP%]:root{--border: #b7b7b7}#contenido[_ngcontent-%COMP%], #contenido-tabla[_ngcontent-%COMP%]{justify-content:center;display:flex;margin:20px auto auto}#malla[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center;font-size:18px;padding:1%}#malla[_ngcontent-%COMP%]{width:95%;margin:auto}#malla[_ngcontent-%COMP%]   object[_ngcontent-%COMP%]{display:block;margin:auto;box-shadow:#64646f33 0 7px 29px}#contedor-tabla[_ngcontent-%COMP%]   caption[_ngcontent-%COMP%]{font-size:18px;padding:1%;margin-top:5px}.caption1[_ngcontent-%COMP%]{background-color:#ffd900}.caption2[_ngcontent-%COMP%]{background-color:orange}.caption3[_ngcontent-%COMP%]{background-color:green}.caption4[_ngcontent-%COMP%]{background-color:#5b5bf8}.caption5[_ngcontent-%COMP%]{background-color:#40e0d0}#contedor-tabla[_ngcontent-%COMP%]{width:95%;margin:auto}.tabla[_ngcontent-%COMP%]{width:100%;border:1px var(--border) solid;border-collapse:collapse;margin:0;padding:0;table-layout:fixed;box-shadow:#959da533 0 8px 24px}.tabla[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border:1px solid var(--border)}#nombre[_ngcontent-%COMP%], #url[_ngcontent-%COMP%]{text-align:center}#descripcion[_ngcontent-%COMP%]{text-align:justify}.tabla[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .tabla[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid var(--border);padding:7px}.tabla[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{text-transform:uppercase}.tabla[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#000}#b-descargar[_ngcontent-%COMP%]{background-color:#f5f5f5;text-decoration:none;padding:7px;color:#000;border-radius:10px;border:solid black;margin:auto 10px;display:none}#malla[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:none}body[_ngcontent-%COMP%]{background-color:#f1f1f1}@media screen and (max-width: 820px){#malla[_ngcontent-%COMP%]   object[_ngcontent-%COMP%]{display:none}#b-descargar[_ngcontent-%COMP%]{font-size:18px;display:inline-block}#malla[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:20px}#malla[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly}#malla[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;margin-top:30px;font-size:25px}.tabla[_ngcontent-%COMP%]{border:0px}}@media screen and (max-width: 700px){.tabla[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{display:none}.tabla[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{font-size:18px}.tabla[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{display:block;border:0px}}"]}),n})()},{path:"",component:vP},{path:"Convocatorias",component:uP},{path:"Cursos",component:fP},{path:"Videos",component:(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-videos"]],decls:28,vars:0,consts:[["id","slider"],[1,"video"],["width","90%","height","540","src","https://www.youtube.com/embed/0TFZfvvB67Y","title","YouTube video player","frameborder","0","allow","accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture","allowfullscreen","","name","video"],["id","info"],["onchange","video.location.href=this.options[this.selectedIndex].value"],["value","https://www.youtube.com/embed/0TFZfvvB67Y","selected",""],["value","https://www.youtube.com/embed/NnA_4itQYSE"],["value","https://www.youtube.com/embed/UNFFLJPW7KQ"],["value","https://www.youtube.com/embed/TNQevuufx8w"],["value","https://www.youtube.com/embed/pRS8_bcLLKA"],["value","https://www.youtube.com/embed/GAZmEsnjsmc"],["value","https://www.youtube.com/embed/MkUsmhSDYaE"]],template:function(t,r){1&t&&(l._UZ(0,"app-header-component"),l.TgZ(1,"div",0)(2,"div",1),l._UZ(3,"iframe",2),l.qZA(),l.TgZ(4,"div",3)(5,"h3"),l._uU(6,"Charlas, videos de interes"),l.qZA(),l.TgZ(7,"select",4)(8,"option",5),l._uU(9,"Pensamiento computacional | Alberto Ca\xf1as "),l.qZA(),l.TgZ(10,"option",6),l._uU(11,"Data Science e Inteligencia Artificial "),l.qZA(),l.TgZ(12,"option",7),l._uU(13,"Tu primera red neuronal - Inteligencia Artificial "),l.qZA()(),l.TgZ(14,"h3"),l._uU(15,"Videos de apoyo"),l.qZA(),l.TgZ(16,"select",4)(17,"option",8),l._uU(18,"Canva"),l.qZA(),l.TgZ(19,"option",9),l._uU(20,"C\xf3mo usar Genially"),l.qZA(),l.TgZ(21,"option",10),l._uU(22,"Como Descargar e instalar obs"),l.qZA(),l.TgZ(23,"option",11),l._uU(24,"Como grabar pantalla en OBS Studio para tus clases"),l.qZA(),l.TgZ(25,"option",8),l._uU(26,"Canva"),l.qZA()()()(),l._UZ(27,"app-footer"))},dependencies:[bm,cv],styles:["[_ngcontent-%COMP%]:root{--text-color: #c7c7c7;--body-color: #202020;--title-color: #b7b7b7}#slider[_ngcontent-%COMP%]{width:80%;margin:15px auto;text-align:center}#slider[_ngcontent-%COMP%]   #info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px}#slider[_ngcontent-%COMP%]   #info[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{font-size:16px;padding:4px;border-radius:20px}body[_ngcontent-%COMP%]{background-color:#f1f1f1}@media screen and (max-width: 1262px){.video[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{width:80%;height:500px}}@media screen and (max-width: 1030px){.video[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{height:400px}}@media screen and (max-width: 805px){.video[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{height:300px;width:90%}#slider[_ngcontent-%COMP%]   #info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:15px}#slider[_ngcontent-%COMP%]   #info[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{font-size:14px}}@media screen and (max-width: 570px){#slider[_ngcontent-%COMP%]   #info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:13px}#slider[_ngcontent-%COMP%]   #info[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:60%}}"]}),n})()},{path:"Contacto",component:_R}];let CP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Hv.forRoot(TP),Hv]}),n})();class vI{constructor(e,t,r){this._delegate=e,this.task=t,this.ref=r}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class KA{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new vI(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then(r=>{if(e)return e(new vI(r,this,this._ref))},t)}on(e,t,r,o){let u;return t&&(u="function"==typeof t?d=>t(new vI(d,this,this._ref)):{next:t.next?d=>t.next(new vI(d,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,u,r||void 0,o||void 0)}}class YA{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map(e=>new pl(e,this._service))}get items(){return this._delegate.items.map(e=>new pl(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class pl{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function q2(n,e){return BA(n,e)}(this._delegate,e);return new pl(t,this.storage)}get root(){return new pl(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new pl(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new KA(function B2(n,e,t){return function S2(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new FA(n,new ec(e),t)}(n=(0,Ot.m9)(n),e,t)}(this._delegate,e,t),this)}putString(e,t=xo.RAW,r){this._throwIfRoot("putString");const o=WT(t,e),u=Object.assign({},r);return null==u.contentType&&null!=o.contentType&&(u.contentType=o.contentType),new KA(new FA(this._delegate,new ec(o.data,!0),u),this)}listAll(){return zA(this._delegate).then(e=>new YA(e,this.storage))}list(e){return function H2(n,e){return VA(n=(0,Ot.m9)(n),e)}(this._delegate,e||void 0).then(t=>new YA(t,this.storage))}getMetadata(){return function j2(n){return function P2(n){n._throwIfRoot("getMetadata");const e=MA(n.storage,n._location,hv());return n.storage.makeRequestWithTokens(e,iu)}(n=(0,Ot.m9)(n))}(this._delegate)}updateMetadata(e){return function $2(n,e){return function O2(n,e){n._throwIfRoot("updateMetadata");const t=function f2(n,e,t,r){const u=fl(e.fullServerUrl(),n.host,n._protocol),g=YT(t,r),I=n.maxOperationRetryTime,C=new tc(u,"PATCH",pI(n,r),I);return C.headers={"Content-Type":"application/json; charset=utf-8"},C.body=g,C.errorHandler=fv(e),C}(n.storage,n._location,e,hv());return n.storage.makeRequestWithTokens(t,iu)}(n=(0,Ot.m9)(n),e)}(this._delegate,e)}getDownloadURL(){return GA(this._delegate)}delete(){return this._throwIfRoot("delete"),function Z2(n){return function N2(n){n._throwIfRoot("deleteObject");const e=function p2(n,e){const r=fl(e.fullServerUrl(),n.host,n._protocol),g=new tc(r,"DELETE",function d(y,I){},n.maxOperationRetryTime);return g.successCodes=[200,204],g.errorHandler=fv(e),g}(n.storage,n._location);return n.storage.makeRequestWithTokens(e,iu)}(n=(0,Ot.m9)(n))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw xA(e)}}class QA{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(JA(e))throw Im("ref() expected a child path but got a URL, use refFromURL instead.");return new pl(tC(this._delegate,e),this)}refFromURL(e){if(!JA(e))throw Im("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Gi.makeFromUrl(e,this._delegate.host)}catch{throw Im("refFromUrl() expected a valid full URL but got an invalid one.")}return new pl(tC(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t,r={}){!function G2(n,e,t,r={}){!function V2(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:o}=r;o&&(n._overrideAuthToken="string"==typeof o?o:(0,Ot.Sg)(o,n.app.options.projectId))}(n,e,t,r)}(this._delegate,e,t,r)}}function JA(n){return/^[A-Za-z]+:\/\//.test(n)}function PP(n,{instanceIdentifier:e}){const t=n.getProvider("app-compat").getImmediate(),r=n.getProvider("storage").getImmediate({identifier:e});return new QA(t,r)}function XA(n){const e=function kP(n){return new oi.y(e=>{const t=d=>e.next(d);t(n.snapshot);const u=n.on("state_changed",t);return n.then(d=>{t(d),e.complete()},d=>{t(n.snapshot),(d=>{e.error(d)})(d)}),function(){u()}}).pipe(function AP(n,e=m_.z){return(0,mt.e)((t,r)=>{let o=null,u=null,d=null;const g=()=>{if(o){o.unsubscribe(),o=null;const I=u;u=null,r.next(I)}};function y(){const I=d+n,C=e.now();if(C<I)return o=this.schedule(void 0,I-C),void r.add(o);g()}t.subscribe((0,vn.x)(r,I=>{u=I,d=e.now(),o||(o=e.schedule(y,n),r.add(o))},()=>{g(),r.complete()},void 0,()=>{u=o=null}))})}(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>e,percentageChanges:()=>e.pipe((0,Dt.U)(t=>t.bytesTransferred/t.totalBytes*100))}}function xI(n){return{getDownloadURL:()=>Ze(void 0).pipe(Jt.fc,Yn(()=>n.getDownloadURL()),Jt.iC),getMetadata:()=>Ze(void 0).pipe(Jt.fc,Yn(()=>n.getMetadata()),Jt.iC),delete:()=>(0,tn.D)(n.delete()),child:e=>xI(n.child(e)),updateMetadata:e=>(0,tn.D)(n.updateMetadata(e)),put:(e,t)=>XA(n.put(e,t)),putString:(e,t,r)=>XA(n.putString(e,t,r)),list:e=>(0,tn.D)(n.list(e)),listAll:()=>(0,tn.D)(n.listAll())}}!function OP(n){const e={TaskState:ws,TaskEvent:v2,StringFormat:xo,Storage:QA,Reference:pl};n.INTERNAL.registerComponent(new Lc.wA("storage-compat",PP,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.1.17")}(y_.Z);const NP=new l.OlP("angularfire2.storageBucket"),FP=new l.OlP("angularfire2.storage.maxUploadRetryTime"),LP=new l.OlP("angularfire2.storage.maxOperationRetryTime"),UP=new l.OlP("angularfire2.storage.use-emulator");let VP=(()=>{class n{constructor(t,r,o,u,d,g,y,I,C,R){const V=(0,vi.on)(t,d,r);this.storage=(0,vi.cc)(`${V.name}.storage.${o}`,"AngularFireStorage",V.name,()=>{const J=d.runOutsideAngular(()=>V.storage(o||void 0)),ie=C;return ie&&J.useEmulator(...ie),y&&J.setMaxUploadRetryTime(y),I&&J.setMaxOperationRetryTime(I),J},[y,I])}ref(t){return xI(this.storage.ref(t))}refFromURL(t){return xI(this.storage.refFromURL(t))}upload(t,r,o){return xI(this.storage.ref(t)).put(r,o)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(vi.Dh),l.LFG(vi.xv,8),l.LFG(NP,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(Jt.HU),l.LFG(FP,8),l.LFG(LP,8),l.LFG(UP,8),l.LFG(av,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),BP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})(),jP=(()=>{class n{constructor(){Y1.Z.registerVersion("angularfire",Jt.q4.full,"gcs-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[VP],imports:[BP]}),n})(),$P=(()=>{class n{constructor(){this.title="pagina-departamento"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(t,r){1&t&&l._UZ(0,"router-outlet")},dependencies:[jm]}),n})();const rC_firebase={projectId:"pagina-departamento",appId:"1:219874378804:web:619b29819cb587fe3df661",storageBucket:"pagina-departamento.appspot.com",locationId:"us-central",apiKey:"AIzaSyD1g7Js3Wa3T3bcvO-EzF50HJtNSqY0rR8",authDomain:"pagina-departamento.firebaseapp.com",messagingSenderId:"219874378804"};let HP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n,bootstrap:[$P]}),n.\u0275inj=l.cJS({imports:[gn,CP,vi.hO.initializeApp(rC_firebase),hR,jP,hM(()=>fM(rC_firebase)),nP(()=>iP())]}),n})();(0,l.G48)(),ih().bootstrapModule(HP).catch(n=>console.error(n))},5867:(dt,Me,k)=>{k.d(Me,{C6:()=>l.getApps,KN:()=>l.registerVersion,Mq:()=>l.getApp,ZF:()=>l.initializeApp});var l=k(9681);(0,l.registerVersion)("firebase","9.9.3","app")},127:(dt,Me,k)=>{k.d(Me,{Z:()=>l.Z});var l=k(3942);l.Z.registerVersion("firebase","9.9.3","app-compat")},5881:(dt,Me,k)=>{k.r(Me);var l=k(5861),L=k(3942),P=k(6457),se=k(2090),pe=(k(9681),k(1877),k(4859));function de(){return window}function H(){return(H=(0,l.Z)(function*(W,Z,B){var we;const{BuildInfo:He}=de();(0,P.aq)(Z.sessionId,"AuthEvent did not contain a session ID");const Te=yield ge(Z.sessionId),ze={};return(0,P.ar)()?ze.ibi=He.packageName:(0,P.as)()?ze.apn=He.packageName:(0,P.at)(W,"operation-not-supported-in-this-environment"),He.displayName&&(ze.appDisplayName=He.displayName),ze.sessionId=Te,(0,P.au)(W,B,Z.type,void 0,null!==(we=Z.eventId)&&void 0!==we?we:void 0,ze)})).apply(this,arguments)}function $e(){return($e=(0,l.Z)(function*(W){const{BuildInfo:Z}=de(),B={};(0,P.ar)()?B.iosBundleId=Z.packageName:(0,P.as)()?B.androidPackageName=Z.packageName:(0,P.at)(W,"operation-not-supported-in-this-environment"),yield(0,P.av)(W,B)})).apply(this,arguments)}function it(){return(it=(0,l.Z)(function*(W,Z,B){const{cordova:we}=de();let He=()=>{};try{yield new Promise((Te,ze)=>{let pt=null;function $t(){var Nt;Te();const on=null===(Nt=we.plugins.browsertab)||void 0===Nt?void 0:Nt.close;"function"==typeof on&&on(),"function"==typeof B?.close&&B.close()}function qn(){pt||(pt=window.setTimeout(()=>{ze((0,P.aw)(W,"redirect-cancelled-by-user"))},2e3))}function dn(){"visible"===document?.visibilityState&&qn()}Z.addPassiveListener($t),document.addEventListener("resume",qn,!1),(0,P.as)()&&document.addEventListener("visibilitychange",dn,!1),He=()=>{Z.removePassiveListener($t),document.removeEventListener("resume",qn,!1),document.removeEventListener("visibilitychange",dn,!1),pt&&window.clearTimeout(pt)}})}finally{He()}})).apply(this,arguments)}function ge(W){return tt.apply(this,arguments)}function tt(){return(tt=(0,l.Z)(function*(W){const Z=nt(W),B=yield crypto.subtle.digest("SHA-256",Z);return Array.from(new Uint8Array(B)).map(He=>He.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function nt(W){if((0,P.aq)(/[0-9a-zA-Z]+/.test(W),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(W);const Z=new ArrayBuffer(W.length),B=new Uint8Array(Z);for(let we=0;we<W.length;we++)B[we]=W.charCodeAt(we);return B}class Re extends P.aA{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(Z=>{this.resolveInialized=Z})}addPassiveListener(Z){this.passiveListeners.add(Z)}removePassiveListener(Z){this.passiveListeners.delete(Z)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(Z){return this.resolveInialized(),this.passiveListeners.forEach(B=>B(Z)),super.onEvent(Z)}initialized(){var Z=this;return(0,l.Z)(function*(){yield Z.initPromise})()}}function re(W){return ue.apply(this,arguments)}function ue(){return(ue=(0,l.Z)(function*(W){const Z=yield ee()._get(he(W));return Z&&(yield ee()._remove(he(W))),Z})).apply(this,arguments)}function Q(){const W=[],Z="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let B=0;B<20;B++){const we=Math.floor(Math.random()*Z.length);W.push(Z.charAt(we))}return W.join("")}function ee(){return(0,P.ay)(P.b)}function he(W){return(0,P.az)("authEvent",W.config.apiKey,W.name)}function Ve(W){if(!W?.includes("?"))return{};const[Z,...B]=W.split("?");return(0,se.zd)(B.join("?"))}function We(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,P.aw)("no-auth-event")}}function Wt(){var W;return(null===(W=self?.location)||void 0===W?void 0:W.protocol)||null}function br(W=(0,se.z$)()){return!("file:"!==Wt()&&"ionic:"!==Wt()&&"capacitor:"!==Wt()||!W.toLowerCase().match(/iphone|ipad|ipod|android/))}function ei(){try{const W=self.localStorage,Z=P.aI();if(W)return W.setItem(Z,"1"),W.removeItem(Z),!function Ti(W=(0,se.z$)()){return function Ir(){return(0,se.w1)()&&11===document?.documentMode}()||function bn(W=(0,se.z$)()){return/Edge\/\d+/.test(W)}(W)}()||(0,se.hl)()}catch{return ti()&&(0,se.hl)()}return!1}function ti(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Fn(){return(function jt(){return"http:"===Wt()||"https:"===Wt()}()||(0,se.ru)()||br())&&!function js(){return(0,se.b$)()||(0,se.UG)()}()&&ei()&&!ti()}function Wi(){return br()&&typeof document<"u"}function pn(){return(pn=(0,l.Z)(function*(){return!!Wi()&&new Promise(W=>{const Z=setTimeout(()=>{W(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(Z),W(!0)})})})).apply(this,arguments)}const sn={LOCAL:"local",NONE:"none",SESSION:"session"},er=P.ax,Ar="persistence";function ln(W){return qr.apply(this,arguments)}function qr(){return(qr=(0,l.Z)(function*(W){yield W._initializationPromise;const Z=st(),B=P.az(Ar,W.config.apiKey,W.name);Z&&Z.setItem(B,W._getPersistence())})).apply(this,arguments)}function st(){var W;try{return(null===(W=function Er(){return typeof window<"u"?window:null}())||void 0===W?void 0:W.sessionStorage)||null}catch{return null}}const rt=P.ax;class In{constructor(){this.browserResolver=P.ay(P.k),this.cordovaResolver=P.ay(class en{constructor(){this._redirectPersistence=P.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=P.aB,this._overrideRedirectResult=P.aC}_initialize(Z){var B=this;return(0,l.Z)(function*(){const we=Z._key();let He=B.eventManagers.get(we);return He||(He=new Re(Z),B.eventManagers.set(we,He),B.attachCallbackListeners(Z,He)),He})()}_openPopup(Z){(0,P.at)(Z,"operation-not-supported-in-this-environment")}_openRedirect(Z,B,we,He){var Te=this;return(0,l.Z)(function*(){!function xe(W){var Z,B,we,He,Te,ze,pt,$t,qn,dn;const Nt=de();(0,P.ax)("function"==typeof(null===(Z=Nt?.universalLinks)||void 0===Z?void 0:Z.subscribe),W,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,P.ax)(typeof(null===(B=Nt?.BuildInfo)||void 0===B?void 0:B.packageName)<"u",W,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,P.ax)("function"==typeof(null===(Te=null===(He=null===(we=Nt?.cordova)||void 0===we?void 0:we.plugins)||void 0===He?void 0:He.browsertab)||void 0===Te?void 0:Te.openUrl),W,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,P.ax)("function"==typeof(null===($t=null===(pt=null===(ze=Nt?.cordova)||void 0===ze?void 0:ze.plugins)||void 0===pt?void 0:pt.browsertab)||void 0===$t?void 0:$t.isAvailable),W,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,P.ax)("function"==typeof(null===(dn=null===(qn=Nt?.cordova)||void 0===qn?void 0:qn.InAppBrowser)||void 0===dn?void 0:dn.open),W,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(Z);const ze=yield Te._initialize(Z);yield ze.initialized(),ze.resetRedirect(),(0,P.aD)(),yield Te._originValidation(Z);const pt=function Ie(W,Z,B=null){return{type:Z,eventId:B,urlResponse:null,sessionId:Q(),postBody:null,tenantId:W.tenantId,error:(0,P.aw)(W,"no-auth-event")}}(Z,we,He);yield function Ge(W,Z){return ee()._set(he(W),Z)}(Z,pt);const $t=yield function $(W,Z,B){return H.apply(this,arguments)}(Z,pt,B),qn=yield function ke(W){const{cordova:Z}=de();return new Promise(B=>{Z.plugins.browsertab.isAvailable(we=>{let He=null;we?Z.plugins.browsertab.openUrl(W):He=Z.InAppBrowser.open(W,(0,P.ap)()?"_blank":"_system","location=yes"),B(He)})})}($t);return function be(W,Z,B){return it.apply(this,arguments)}(Z,ze,qn)})()}_isIframeWebStorageSupported(Z,B){throw new Error("Method not implemented.")}_originValidation(Z){const B=Z._key();return this.originValidationPromises[B]||(this.originValidationPromises[B]=function X(W){return $e.apply(this,arguments)}(Z)),this.originValidationPromises[B]}attachCallbackListeners(Z,B){const{universalLinks:we,handleOpenURL:He,BuildInfo:Te}=de(),ze=setTimeout((0,l.Z)(function*(){yield re(Z),B.onEvent(We())}),500),pt=function(){var dn=(0,l.Z)(function*(Nt){clearTimeout(ze);const on=yield re(Z);let $s=null;on&&Nt?.url&&($s=function ye(W,Z){var B,we;const He=function Ue(W){const Z=Ve(W),B=Z.link?decodeURIComponent(Z.link):void 0,we=Ve(B).link,He=Z.deep_link_id?decodeURIComponent(Z.deep_link_id):void 0;return Ve(He).link||He||we||B||W}(Z);if(He.includes("/__/auth/callback")){const Te=Ve(He),ze=Te.firebaseError?function oe(W){try{return JSON.parse(W)}catch{return null}}(decodeURIComponent(Te.firebaseError)):null,pt=null===(we=null===(B=ze?.code)||void 0===B?void 0:B.split("auth/"))||void 0===we?void 0:we[1],$t=pt?(0,P.aw)(pt):null;return $t?{type:W.type,eventId:W.eventId,tenantId:W.tenantId,error:$t,urlResponse:null,sessionId:null,postBody:null}:{type:W.type,eventId:W.eventId,tenantId:W.tenantId,sessionId:W.sessionId,urlResponse:He,postBody:null}}return null}(on,Nt.url)),B.onEvent($s||We())});return function(on){return dn.apply(this,arguments)}}();typeof we<"u"&&"function"==typeof we.subscribe&&we.subscribe(null,pt);const $t=He,qn=`${Te.packageName.toLowerCase()}://`;de().handleOpenURL=function(){var dn=(0,l.Z)(function*(Nt){if(Nt.toLowerCase().startsWith(qn)&&pt({url:Nt}),"function"==typeof $t)try{$t(Nt)}catch(on){console.error(on)}});return function(Nt){return dn.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=P.a,this._completeRedirectFn=P.aB,this._overrideRedirectResult=P.aC}_initialize(Z){var B=this;return(0,l.Z)(function*(){return yield B.selectUnderlyingResolver(),B.assertedUnderlyingResolver._initialize(Z)})()}_openPopup(Z,B,we,He){var Te=this;return(0,l.Z)(function*(){return yield Te.selectUnderlyingResolver(),Te.assertedUnderlyingResolver._openPopup(Z,B,we,He)})()}_openRedirect(Z,B,we,He){var Te=this;return(0,l.Z)(function*(){return yield Te.selectUnderlyingResolver(),Te.assertedUnderlyingResolver._openRedirect(Z,B,we,He)})()}_isIframeWebStorageSupported(Z,B){this.assertedUnderlyingResolver._isIframeWebStorageSupported(Z,B)}_originValidation(Z){return this.assertedUnderlyingResolver._originValidation(Z)}get _shouldInitProactively(){return Wi()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return rt(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var Z=this;return(0,l.Z)(function*(){if(Z.underlyingResolver)return;const B=yield function ht(){return pn.apply(this,arguments)}();Z.underlyingResolver=B?Z.cordovaResolver:Z.browserResolver})()}}function Sr(W){return W.unwrap()}function Vt(W){return Mr(W)}function Mr(W){const{_tokenResponse:Z}=W instanceof se.ZR?W.customData:W;if(!Z)return null;if(!(W instanceof se.ZR)&&"temporaryProof"in Z&&"phoneNumber"in Z)return P.P.credentialFromResult(W);const B=Z.providerId;if(!B||B===P.o.PASSWORD)return null;let we;switch(B){case P.o.GOOGLE:we=P.Q;break;case P.o.FACEBOOK:we=P.N;break;case P.o.GITHUB:we=P.T;break;case P.o.TWITTER:we=P.W;break;default:const{oauthIdToken:He,oauthAccessToken:Te,oauthTokenSecret:ze,pendingToken:pt,nonce:$t}=Z;return Te||ze||He||pt?pt?B.startsWith("saml.")?P.aL._create(B,pt):P.J._fromParams({providerId:B,signInMethod:B,pendingToken:pt,idToken:He,accessToken:Te}):new P.U(B).credential({idToken:He,accessToken:Te,rawNonce:$t}):null}return W instanceof se.ZR?we.credentialFromError(W):we.credentialFromResult(W)}function kt(W,Z){return Z.catch(B=>{throw B instanceof se.ZR&&function Cn(W,Z){var B,we;const He=null===(B=Z.customData)||void 0===B?void 0:B._tokenResponse;if("auth/multi-factor-auth-required"===(null===(we=Z)||void 0===we?void 0:we.code))Z.resolver=new K(W,P.an(W,Z));else if(He){const Te=Mr(Z),ze=Z;Te&&(ze.credential=Te,ze.tenantId=He.tenantId||void 0,ze.email=He.email||void 0,ze.phoneNumber=He.phoneNumber||void 0)}}(W,B),B}).then(B=>{const He=B.user;return{operationType:B.operationType,credential:Vt(B),additionalUserInfo:P.al(B),user:j.getOrCreate(He)}})}function ni(W,Z){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,l.Z)(function*(W,Z){const B=yield Z;return{verificationId:B.verificationId,confirm:we=>kt(W,B.confirm(we))}})).apply(this,arguments)}class K{constructor(Z,B){this.resolver=B,this.auth=function En(W){return W.wrapped()}(Z)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(Z){return kt(Sr(this.auth),this.resolver.resolveSignIn(Z))}}class j{constructor(Z){this._delegate=Z,this.multiFactor=P.ao(Z)}static getOrCreate(Z){return j.USER_MAP.has(Z)||j.USER_MAP.set(Z,new j(Z)),j.USER_MAP.get(Z)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(Z){return this._delegate.getIdTokenResult(Z)}getIdToken(Z){return this._delegate.getIdToken(Z)}linkAndRetrieveDataWithCredential(Z){return this.linkWithCredential(Z)}linkWithCredential(Z){var B=this;return(0,l.Z)(function*(){return kt(B.auth,P.Z(B._delegate,Z))})()}linkWithPhoneNumber(Z,B){var we=this;return(0,l.Z)(function*(){return ni(we.auth,P.l(we._delegate,Z,B))})()}linkWithPopup(Z){var B=this;return(0,l.Z)(function*(){return kt(B.auth,P.d(B._delegate,Z,In))})()}linkWithRedirect(Z){var B=this;return(0,l.Z)(function*(){return yield ln(P.aE(B.auth)),P.g(B._delegate,Z,In)})()}reauthenticateAndRetrieveDataWithCredential(Z){return this.reauthenticateWithCredential(Z)}reauthenticateWithCredential(Z){var B=this;return(0,l.Z)(function*(){return kt(B.auth,P._(B._delegate,Z))})()}reauthenticateWithPhoneNumber(Z,B){return ni(this.auth,P.r(this._delegate,Z,B))}reauthenticateWithPopup(Z){return kt(this.auth,P.e(this._delegate,Z,In))}reauthenticateWithRedirect(Z){var B=this;return(0,l.Z)(function*(){return yield ln(P.aE(B.auth)),P.h(B._delegate,Z,In)})()}sendEmailVerification(Z){return P.ab(this._delegate,Z)}unlink(Z){var B=this;return(0,l.Z)(function*(){return yield P.ak(B._delegate,Z),B})()}updateEmail(Z){return P.ag(this._delegate,Z)}updatePassword(Z){return P.ah(this._delegate,Z)}updatePhoneNumber(Z){return P.u(this._delegate,Z)}updateProfile(Z){return P.af(this._delegate,Z)}verifyBeforeUpdateEmail(Z,B){return P.ac(this._delegate,Z,B)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}j.USER_MAP=new WeakMap;const U=P.ax;let q=(()=>{class W{constructor(B,we){if(this.app=B,we.isInitialized())return this._delegate=we.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:He}=B.options;U(He,"invalid-api-key",{appName:B.name}),U(He,"invalid-api-key",{appName:B.name});const Te=typeof window<"u"?In:void 0;this._delegate=we.initialize({options:{persistence:De(He,B.name),popupRedirectResolver:Te}}),this._delegate._updateErrorMap(P.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?j.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(B){this._delegate.languageCode=B}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(B){this._delegate.tenantId=B}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(B,we){P.G(this._delegate,B,we)}applyActionCode(B){return P.a2(this._delegate,B)}checkActionCode(B){return P.a3(this._delegate,B)}confirmPasswordReset(B,we){return P.a1(this._delegate,B,we)}createUserWithEmailAndPassword(B,we){var He=this;return(0,l.Z)(function*(){return kt(He._delegate,P.a5(He._delegate,B,we))})()}fetchProvidersForEmail(B){return this.fetchSignInMethodsForEmail(B)}fetchSignInMethodsForEmail(B){return P.aa(this._delegate,B)}isSignInWithEmailLink(B){return P.a8(this._delegate,B)}getRedirectResult(){var B=this;return(0,l.Z)(function*(){U(Fn(),B._delegate,"operation-not-supported-in-this-environment");const we=yield P.j(B._delegate,In);return we?kt(B._delegate,Promise.resolve(we)):{credential:null,user:null}})()}addFrameworkForLogging(B){!function fn(W,Z){(0,P.aE)(W)._logFramework(Z)}(this._delegate,B)}onAuthStateChanged(B,we,He){const{next:Te,error:ze,complete:pt}=z(B,we,He);return this._delegate.onAuthStateChanged(Te,ze,pt)}onIdTokenChanged(B,we,He){const{next:Te,error:ze,complete:pt}=z(B,we,He);return this._delegate.onIdTokenChanged(Te,ze,pt)}sendSignInLinkToEmail(B,we){return P.a7(this._delegate,B,we)}sendPasswordResetEmail(B,we){return P.a0(this._delegate,B,we||void 0)}setPersistence(B){var we=this;return(0,l.Z)(function*(){let He;switch(function cr(W,Z){er(Object.values(sn).includes(Z),W,"invalid-persistence-type"),(0,se.b$)()?er(Z!==sn.SESSION,W,"unsupported-persistence-type"):(0,se.UG)()?er(Z===sn.NONE,W,"unsupported-persistence-type"):ti()?er(Z===sn.NONE||Z===sn.LOCAL&&(0,se.hl)(),W,"unsupported-persistence-type"):er(Z===sn.NONE||ei(),W,"unsupported-persistence-type")}(we._delegate,B),B){case sn.SESSION:He=P.a;break;case sn.LOCAL:He=(yield P.ay(P.i)._isAvailable())?P.i:P.b;break;case sn.NONE:He=P.L;break;default:return P.at("argument-error",{appName:we._delegate.name})}return we._delegate.setPersistence(He)})()}signInAndRetrieveDataWithCredential(B){return this.signInWithCredential(B)}signInAnonymously(){return kt(this._delegate,P.X(this._delegate))}signInWithCredential(B){return kt(this._delegate,P.Y(this._delegate,B))}signInWithCustomToken(B){return kt(this._delegate,P.$(this._delegate,B))}signInWithEmailAndPassword(B,we){return kt(this._delegate,P.a6(this._delegate,B,we))}signInWithEmailLink(B,we){return kt(this._delegate,P.a9(this._delegate,B,we))}signInWithPhoneNumber(B,we){return ni(this._delegate,P.s(this._delegate,B,we))}signInWithPopup(B){var we=this;return(0,l.Z)(function*(){return U(Fn(),we._delegate,"operation-not-supported-in-this-environment"),kt(we._delegate,P.c(we._delegate,B,In))})()}signInWithRedirect(B){var we=this;return(0,l.Z)(function*(){return U(Fn(),we._delegate,"operation-not-supported-in-this-environment"),yield ln(we._delegate),P.f(we._delegate,B,In)})()}updateCurrentUser(B){return this._delegate.updateCurrentUser(B)}verifyPasswordResetCode(B){return P.a4(this._delegate,B)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return W.Persistence=sn,W})();function z(W,Z,B){let we=W;"function"!=typeof W&&({next:we,error:Z,complete:B}=W);const He=we;return{next:ze=>He(ze&&j.getOrCreate(ze)),error:Z,complete:B}}function De(W,Z){const B=function _n(W,Z){const B=st();if(!B)return[];const we=P.az(Ar,W,Z);switch(B.getItem(we)){case sn.NONE:return[P.L];case sn.LOCAL:return[P.i,P.a];case sn.SESSION:return[P.a];default:return[]}}(W,Z);if(typeof self<"u"&&!B.includes(P.i)&&B.push(P.i),typeof window<"u")for(const we of[P.b,P.a])B.includes(we)||B.push(we);return B.includes(P.L)||B.push(P.L),B}class qe{constructor(){this.providerId="phone",this._delegate=new P.P(Sr(L.Z.auth()))}static credential(Z,B){return P.P.credential(Z,B)}verifyPhoneNumber(Z,B){return this._delegate.verifyPhoneNumber(Z,B)}unwrap(){return this._delegate}}qe.PHONE_SIGN_IN_METHOD=P.P.PHONE_SIGN_IN_METHOD,qe.PROVIDER_ID=P.P.PROVIDER_ID;const vt=P.ax;class un{constructor(Z,B,we=L.Z.app()){var He;vt(null===(He=we.options)||void 0===He?void 0:He.apiKey,"invalid-api-key",{appName:we.name}),this._delegate=new P.R(Z,B,we.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Zn(W){W.INTERNAL.registerComponent(new pe.wA("auth-compat",Z=>{const B=Z.getProvider("app-compat").getImmediate(),we=Z.getProvider("auth");return new q(B,we)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:P.A.EMAIL_SIGNIN,PASSWORD_RESET:P.A.PASSWORD_RESET,RECOVER_EMAIL:P.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:P.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:P.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:P.A.VERIFY_EMAIL}},EmailAuthProvider:P.M,FacebookAuthProvider:P.N,GithubAuthProvider:P.T,GoogleAuthProvider:P.Q,OAuthProvider:P.U,SAMLAuthProvider:P.V,PhoneAuthProvider:qe,PhoneMultiFactorGenerator:P.m,RecaptchaVerifier:un,TwitterAuthProvider:P.W,Auth:q,AuthCredential:P.H,Error:se.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),W.registerVersion("@firebase/auth-compat","0.2.18")}(L.Z)},9751:(dt,Me,k)=>{k.d(Me,{y:()=>de});var l=k(2961),L=k(727),P=k(8822),se=k(9635),ae=k(2416),me=k(576),pe=k(2806);let de=(()=>{class X{constructor(ke){ke&&(this._subscribe=ke)}lift(ke){const be=new X;return be.source=this,be.operator=ke,be}subscribe(ke,be,it){const xe=function H(X){return X&&X instanceof l.Lv||function $(X){return X&&(0,me.m)(X.next)&&(0,me.m)(X.error)&&(0,me.m)(X.complete)}(X)&&(0,L.Nn)(X)}(ke)?ke:new l.Hp(ke,be,it);return(0,pe.x)(()=>{const{operator:ge,source:tt}=this;xe.add(ge?ge.call(xe,tt):tt?this._subscribe(xe):this._trySubscribe(xe))}),xe}_trySubscribe(ke){try{return this._subscribe(ke)}catch(be){ke.error(be)}}forEach(ke,be){return new(be=ve(be))((it,xe)=>{const ge=new l.Hp({next:tt=>{try{ke(tt)}catch(nt){xe(nt),ge.unsubscribe()}},error:xe,complete:it});this.subscribe(ge)})}_subscribe(ke){var be;return null===(be=this.source)||void 0===be?void 0:be.subscribe(ke)}[P.L](){return this}pipe(...ke){return(0,se.U)(ke)(this)}toPromise(ke){return new(ke=ve(ke))((be,it)=>{let xe;this.subscribe(ge=>xe=ge,ge=>it(ge),()=>be(xe))})}}return X.create=$e=>new X($e),X})();function ve(X){var $e;return null!==($e=X??ae.v.Promise)&&void 0!==$e?$e:Promise}},7579:(dt,Me,k)=>{k.d(Me,{x:()=>pe});var l=k(9751),L=k(727);const se=(0,k(3888).d)(ve=>function(){ve(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ae=k(8737),me=k(2806);let pe=(()=>{class ve extends l.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(H){const X=new de(this,this);return X.operator=H,X}_throwIfClosed(){if(this.closed)throw new se}next(H){(0,me.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const X of this.currentObservers)X.next(H)}})}error(H){(0,me.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=H;const{observers:X}=this;for(;X.length;)X.shift().error(H)}})}complete(){(0,me.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:H}=this;for(;H.length;)H.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var H;return(null===(H=this.observers)||void 0===H?void 0:H.length)>0}_trySubscribe(H){return this._throwIfClosed(),super._trySubscribe(H)}_subscribe(H){return this._throwIfClosed(),this._checkFinalizedStatuses(H),this._innerSubscribe(H)}_innerSubscribe(H){const{hasError:X,isStopped:$e,observers:ke}=this;return X||$e?L.Lc:(this.currentObservers=null,ke.push(H),new L.w0(()=>{this.currentObservers=null,(0,ae.P)(ke,H)}))}_checkFinalizedStatuses(H){const{hasError:X,thrownError:$e,isStopped:ke}=this;X?H.error($e):ke&&H.complete()}asObservable(){const H=new l.y;return H.source=this,H}}return ve.create=($,H)=>new de($,H),ve})();class de extends pe{constructor($,H){super(),this.destination=$,this.source=H}next($){var H,X;null===(X=null===(H=this.destination)||void 0===H?void 0:H.next)||void 0===X||X.call(H,$)}error($){var H,X;null===(X=null===(H=this.destination)||void 0===H?void 0:H.error)||void 0===X||X.call(H,$)}complete(){var $,H;null===(H=null===($=this.destination)||void 0===$?void 0:$.complete)||void 0===H||H.call($)}_subscribe($){var H,X;return null!==(X=null===(H=this.source)||void 0===H?void 0:H.subscribe($))&&void 0!==X?X:L.Lc}}},2961:(dt,Me,k)=>{k.d(Me,{Hp:()=>it,Lv:()=>X});var l=k(576),L=k(727),P=k(2416),se=k(7849);function ae(){}const me=ve("C",void 0,void 0);function ve(Ne,Re,Ie){return{kind:Ne,value:Re,error:Ie}}var $=k(3410),H=k(2806);class X extends L.w0{constructor(Re){super(),this.isStopped=!1,Re?(this.destination=Re,(0,L.Nn)(Re)&&Re.add(this)):this.destination=nt}static create(Re,Ie,Ge){return new it(Re,Ie,Ge)}next(Re){this.isStopped?tt(function de(Ne){return ve("N",Ne,void 0)}(Re),this):this._next(Re)}error(Re){this.isStopped?tt(function pe(Ne){return ve("E",void 0,Ne)}(Re),this):(this.isStopped=!0,this._error(Re))}complete(){this.isStopped?tt(me,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Re){this.destination.next(Re)}_error(Re){try{this.destination.error(Re)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const $e=Function.prototype.bind;function ke(Ne,Re){return $e.call(Ne,Re)}class be{constructor(Re){this.partialObserver=Re}next(Re){const{partialObserver:Ie}=this;if(Ie.next)try{Ie.next(Re)}catch(Ge){xe(Ge)}}error(Re){const{partialObserver:Ie}=this;if(Ie.error)try{Ie.error(Re)}catch(Ge){xe(Ge)}else xe(Re)}complete(){const{partialObserver:Re}=this;if(Re.complete)try{Re.complete()}catch(Ie){xe(Ie)}}}class it extends X{constructor(Re,Ie,Ge){let re;if(super(),(0,l.m)(Re)||!Re)re={next:Re??void 0,error:Ie??void 0,complete:Ge??void 0};else{let ue;this&&P.v.useDeprecatedNextContext?(ue=Object.create(Re),ue.unsubscribe=()=>this.unsubscribe(),re={next:Re.next&&ke(Re.next,ue),error:Re.error&&ke(Re.error,ue),complete:Re.complete&&ke(Re.complete,ue)}):re=Re}this.destination=new be(re)}}function xe(Ne){P.v.useDeprecatedSynchronousErrorHandling?(0,H.O)(Ne):(0,se.h)(Ne)}function tt(Ne,Re){const{onStoppedNotification:Ie}=P.v;Ie&&$.z.setTimeout(()=>Ie(Ne,Re))}const nt={closed:!0,next:ae,error:function ge(Ne){throw Ne},complete:ae}},727:(dt,Me,k)=>{k.d(Me,{Lc:()=>me,w0:()=>ae,Nn:()=>pe});var l=k(576);const P=(0,k(3888).d)(ve=>function(H){ve(this),this.message=H?`${H.length} errors occurred during unsubscription:\n${H.map((X,$e)=>`${$e+1}) ${X.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=H});var se=k(8737);class ae{constructor($){this.initialTeardown=$,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let $;if(!this.closed){this.closed=!0;const{_parentage:H}=this;if(H)if(this._parentage=null,Array.isArray(H))for(const ke of H)ke.remove(this);else H.remove(this);const{initialTeardown:X}=this;if((0,l.m)(X))try{X()}catch(ke){$=ke instanceof P?ke.errors:[ke]}const{_finalizers:$e}=this;if($e){this._finalizers=null;for(const ke of $e)try{de(ke)}catch(be){$=$??[],be instanceof P?$=[...$,...be.errors]:$.push(be)}}if($)throw new P($)}}add($){var H;if($&&$!==this)if(this.closed)de($);else{if($ instanceof ae){if($.closed||$._hasParent(this))return;$._addParent(this)}(this._finalizers=null!==(H=this._finalizers)&&void 0!==H?H:[]).push($)}}_hasParent($){const{_parentage:H}=this;return H===$||Array.isArray(H)&&H.includes($)}_addParent($){const{_parentage:H}=this;this._parentage=Array.isArray(H)?(H.push($),H):H?[H,$]:$}_removeParent($){const{_parentage:H}=this;H===$?this._parentage=null:Array.isArray(H)&&(0,se.P)(H,$)}remove($){const{_finalizers:H}=this;H&&(0,se.P)(H,$),$ instanceof ae&&$._removeParent(this)}}ae.EMPTY=(()=>{const ve=new ae;return ve.closed=!0,ve})();const me=ae.EMPTY;function pe(ve){return ve instanceof ae||ve&&"closed"in ve&&(0,l.m)(ve.remove)&&(0,l.m)(ve.add)&&(0,l.m)(ve.unsubscribe)}function de(ve){(0,l.m)(ve)?ve():ve.unsubscribe()}},2416:(dt,Me,k)=>{k.d(Me,{v:()=>l});const l={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(dt,Me,k)=>{k.d(Me,{E:()=>L});const L=new(k(9751).y)(ae=>ae.complete())},8996:(dt,Me,k)=>{k.d(Me,{D:()=>Re});var l=k(8421),L=k(5363),P=k(9468),me=k(9751),de=k(2202),ve=k(576),$=k(9672);function X(Ie,Ge){if(!Ie)throw new Error("Iterable cannot be null");return new me.y(re=>{(0,$.f)(re,Ge,()=>{const ue=Ie[Symbol.asyncIterator]();(0,$.f)(re,Ge,()=>{ue.next().then(ye=>{ye.done?re.complete():re.next(ye.value)})},0,!0)})})}var $e=k(3670),ke=k(8239),be=k(1144),it=k(6495),xe=k(2206),ge=k(4532),tt=k(3260);function Re(Ie,Ge){return Ge?function Ne(Ie,Ge){if(null!=Ie){if((0,$e.c)(Ie))return function se(Ie,Ge){return(0,l.Xf)(Ie).pipe((0,P.R)(Ge),(0,L.Q)(Ge))}(Ie,Ge);if((0,be.z)(Ie))return function pe(Ie,Ge){return new me.y(re=>{let ue=0;return Ge.schedule(function(){ue===Ie.length?re.complete():(re.next(Ie[ue++]),re.closed||this.schedule())})})}(Ie,Ge);if((0,ke.t)(Ie))return function ae(Ie,Ge){return(0,l.Xf)(Ie).pipe((0,P.R)(Ge),(0,L.Q)(Ge))}(Ie,Ge);if((0,xe.D)(Ie))return X(Ie,Ge);if((0,it.T)(Ie))return function H(Ie,Ge){return new me.y(re=>{let ue;return(0,$.f)(re,Ge,()=>{ue=Ie[de.h](),(0,$.f)(re,Ge,()=>{let ye,Q;try{({value:ye,done:Q}=ue.next())}catch(ee){return void re.error(ee)}Q?re.complete():re.next(ye)},0,!0)}),()=>(0,ve.m)(ue?.return)&&ue.return()})}(Ie,Ge);if((0,tt.L)(Ie))return function nt(Ie,Ge){return X((0,tt.Q)(Ie),Ge)}(Ie,Ge)}throw(0,ge.z)(Ie)}(Ie,Ge):(0,l.Xf)(Ie)}},8421:(dt,Me,k)=>{k.d(Me,{Xf:()=>$e});var l=k(655),L=k(1144),P=k(8239),se=k(9751),ae=k(3670),me=k(2206),pe=k(4532),de=k(6495),ve=k(3260),$=k(576),H=k(7849),X=k(8822);function $e(Ne){if(Ne instanceof se.y)return Ne;if(null!=Ne){if((0,ae.c)(Ne))return function ke(Ne){return new se.y(Re=>{const Ie=Ne[X.L]();if((0,$.m)(Ie.subscribe))return Ie.subscribe(Re);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ne);if((0,L.z)(Ne))return function be(Ne){return new se.y(Re=>{for(let Ie=0;Ie<Ne.length&&!Re.closed;Ie++)Re.next(Ne[Ie]);Re.complete()})}(Ne);if((0,P.t)(Ne))return function it(Ne){return new se.y(Re=>{Ne.then(Ie=>{Re.closed||(Re.next(Ie),Re.complete())},Ie=>Re.error(Ie)).then(null,H.h)})}(Ne);if((0,me.D)(Ne))return ge(Ne);if((0,de.T)(Ne))return function xe(Ne){return new se.y(Re=>{for(const Ie of Ne)if(Re.next(Ie),Re.closed)return;Re.complete()})}(Ne);if((0,ve.L)(Ne))return function tt(Ne){return ge((0,ve.Q)(Ne))}(Ne)}throw(0,pe.z)(Ne)}function ge(Ne){return new se.y(Re=>{(function nt(Ne,Re){var Ie,Ge,re,ue;return(0,l.mG)(this,void 0,void 0,function*(){try{for(Ie=(0,l.KL)(Ne);!(Ge=yield Ie.next()).done;)if(Re.next(Ge.value),Re.closed)return}catch(ye){re={error:ye}}finally{try{Ge&&!Ge.done&&(ue=Ie.return)&&(yield ue.call(Ie))}finally{if(re)throw re.error}}Re.complete()})})(Ne,Re).catch(Ie=>Re.error(Ie))})}},6451:(dt,Me,k)=>{k.d(Me,{T:()=>me});var l=k(8189),L=k(8421),P=k(515),se=k(7669),ae=k(8996);function me(...pe){const de=(0,se.yG)(pe),ve=(0,se._6)(pe,1/0),$=pe;return $.length?1===$.length?(0,L.Xf)($[0]):(0,l.J)(ve)((0,ae.D)($,de)):P.E}},5403:(dt,Me,k)=>{k.d(Me,{x:()=>L});var l=k(2961);function L(se,ae,me,pe,de){return new P(se,ae,me,pe,de)}class P extends l.Lv{constructor(ae,me,pe,de,ve,$){super(ae),this.onFinalize=ve,this.shouldUnsubscribe=$,this._next=me?function(H){try{me(H)}catch(X){ae.error(X)}}:super._next,this._error=de?function(H){try{de(H)}catch(X){ae.error(X)}finally{this.unsubscribe()}}:super._error,this._complete=pe?function(){try{pe()}catch(H){ae.error(H)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ae;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:me}=this;super.unsubscribe(),!me&&(null===(ae=this.onFinalize)||void 0===ae||ae.call(this))}}}},4004:(dt,Me,k)=>{k.d(Me,{U:()=>P});var l=k(4482),L=k(5403);function P(se,ae){return(0,l.e)((me,pe)=>{let de=0;me.subscribe((0,L.x)(pe,ve=>{pe.next(se.call(ae,ve,de++))}))})}},8189:(dt,Me,k)=>{k.d(Me,{J:()=>P});var l=k(5577),L=k(4671);function P(se=1/0){return(0,l.z)(L.y,se)}},5577:(dt,Me,k)=>{k.d(Me,{z:()=>de});var l=k(4004),L=k(8421),P=k(4482),se=k(9672),ae=k(5403),pe=k(576);function de(ve,$,H=1/0){return(0,pe.m)($)?de((X,$e)=>(0,l.U)((ke,be)=>$(X,ke,$e,be))((0,L.Xf)(ve(X,$e))),H):("number"==typeof $&&(H=$),(0,P.e)((X,$e)=>function me(ve,$,H,X,$e,ke,be,it){const xe=[];let ge=0,tt=0,nt=!1;const Ne=()=>{nt&&!xe.length&&!ge&&$.complete()},Re=Ge=>ge<X?Ie(Ge):xe.push(Ge),Ie=Ge=>{ke&&$.next(Ge),ge++;let re=!1;(0,L.Xf)(H(Ge,tt++)).subscribe((0,ae.x)($,ue=>{$e?.(ue),ke?Re(ue):$.next(ue)},()=>{re=!0},void 0,()=>{if(re)try{for(ge--;xe.length&&ge<X;){const ue=xe.shift();be?(0,se.f)($,be,()=>Ie(ue)):Ie(ue)}Ne()}catch(ue){$.error(ue)}}))};return ve.subscribe((0,ae.x)($,Re,()=>{nt=!0,Ne()})),()=>{it?.()}}(X,$e,ve,H)))}},5363:(dt,Me,k)=>{k.d(Me,{Q:()=>se});var l=k(9672),L=k(4482),P=k(5403);function se(ae,me=0){return(0,L.e)((pe,de)=>{pe.subscribe((0,P.x)(de,ve=>(0,l.f)(de,ae,()=>de.next(ve),me),()=>(0,l.f)(de,ae,()=>de.complete(),me),ve=>(0,l.f)(de,ae,()=>de.error(ve),me)))})}},3099:(dt,Me,k)=>{k.d(Me,{B:()=>ae});var l=k(8421),L=k(7579),P=k(2961),se=k(4482);function ae(pe={}){const{connector:de=(()=>new L.x),resetOnError:ve=!0,resetOnComplete:$=!0,resetOnRefCountZero:H=!0}=pe;return X=>{let $e,ke,be,it=0,xe=!1,ge=!1;const tt=()=>{ke?.unsubscribe(),ke=void 0},nt=()=>{tt(),$e=be=void 0,xe=ge=!1},Ne=()=>{const Re=$e;nt(),Re?.unsubscribe()};return(0,se.e)((Re,Ie)=>{it++,!ge&&!xe&&tt();const Ge=be=be??de();Ie.add(()=>{it--,0===it&&!ge&&!xe&&(ke=me(Ne,H))}),Ge.subscribe(Ie),!$e&&it>0&&($e=new P.Hp({next:re=>Ge.next(re),error:re=>{ge=!0,tt(),ke=me(nt,ve,re),Ge.error(re)},complete:()=>{xe=!0,tt(),ke=me(nt,$),Ge.complete()}}),(0,l.Xf)(Re).subscribe($e))})(X)}}function me(pe,de,...ve){if(!0===de)return void pe();if(!1===de)return;const $=new P.Hp({next:()=>{$.unsubscribe(),pe()}});return de(...ve).subscribe($)}},9468:(dt,Me,k)=>{k.d(Me,{R:()=>L});var l=k(4482);function L(P,se=0){return(0,l.e)((ae,me)=>{me.add(P.schedule(()=>ae.subscribe(me),se))})}},8505:(dt,Me,k)=>{k.d(Me,{b:()=>ae});var l=k(576),L=k(4482),P=k(5403),se=k(4671);function ae(me,pe,de){const ve=(0,l.m)(me)||pe||de?{next:me,error:pe,complete:de}:me;return ve?(0,L.e)(($,H)=>{var X;null===(X=ve.subscribe)||void 0===X||X.call(ve);let $e=!0;$.subscribe((0,P.x)(H,ke=>{var be;null===(be=ve.next)||void 0===be||be.call(ve,ke),H.next(ke)},()=>{var ke;$e=!1,null===(ke=ve.complete)||void 0===ke||ke.call(ve),H.complete()},ke=>{var be;$e=!1,null===(be=ve.error)||void 0===be||be.call(ve,ke),H.error(ke)},()=>{var ke,be;$e&&(null===(ke=ve.unsubscribe)||void 0===ke||ke.call(ve)),null===(be=ve.finalize)||void 0===be||be.call(ve)}))}):se.y}},4408:(dt,Me,k)=>{k.d(Me,{o:()=>ae});var l=k(727);class L extends l.w0{constructor(pe,de){super()}schedule(pe,de=0){return this}}const P={setInterval(me,pe,...de){const{delegate:ve}=P;return ve?.setInterval?ve.setInterval(me,pe,...de):setInterval(me,pe,...de)},clearInterval(me){const{delegate:pe}=P;return(pe?.clearInterval||clearInterval)(me)},delegate:void 0};var se=k(8737);class ae extends L{constructor(pe,de){super(pe,de),this.scheduler=pe,this.work=de,this.pending=!1}schedule(pe,de=0){if(this.closed)return this;this.state=pe;const ve=this.id,$=this.scheduler;return null!=ve&&(this.id=this.recycleAsyncId($,ve,de)),this.pending=!0,this.delay=de,this.id=this.id||this.requestAsyncId($,this.id,de),this}requestAsyncId(pe,de,ve=0){return P.setInterval(pe.flush.bind(pe,this),ve)}recycleAsyncId(pe,de,ve=0){if(null!=ve&&this.delay===ve&&!1===this.pending)return de;P.clearInterval(de)}execute(pe,de){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ve=this._execute(pe,de);if(ve)return ve;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(pe,de){let $,ve=!1;try{this.work(pe)}catch(H){ve=!0,$=H||new Error("Scheduled action threw falsy error")}if(ve)return this.unsubscribe(),$}unsubscribe(){if(!this.closed){const{id:pe,scheduler:de}=this,{actions:ve}=de;this.work=this.state=this.scheduler=null,this.pending=!1,(0,se.P)(ve,this),null!=pe&&(this.id=this.recycleAsyncId(de,pe,null)),this.delay=null,super.unsubscribe()}}}},7565:(dt,Me,k)=>{k.d(Me,{v:()=>P});var l=k(6063);class L{constructor(ae,me=L.now){this.schedulerActionCtor=ae,this.now=me}schedule(ae,me=0,pe){return new this.schedulerActionCtor(this,ae).schedule(pe,me)}}L.now=l.l.now;class P extends L{constructor(ae,me=L.now){super(ae,me),this.actions=[],this._active=!1,this._scheduled=void 0}flush(ae){const{actions:me}=this;if(this._active)return void me.push(ae);let pe;this._active=!0;do{if(pe=ae.execute(ae.state,ae.delay))break}while(ae=me.shift());if(this._active=!1,pe){for(;ae=me.shift();)ae.unsubscribe();throw pe}}}},4986:(dt,Me,k)=>{k.d(Me,{z:()=>P});var l=k(4408);const P=new(k(7565).v)(l.o)},6063:(dt,Me,k)=>{k.d(Me,{l:()=>l});const l={now:()=>(l.delegate||Date).now(),delegate:void 0}},3410:(dt,Me,k)=>{k.d(Me,{z:()=>l});const l={setTimeout(L,P,...se){const{delegate:ae}=l;return ae?.setTimeout?ae.setTimeout(L,P,...se):setTimeout(L,P,...se)},clearTimeout(L){const{delegate:P}=l;return(P?.clearTimeout||clearTimeout)(L)},delegate:void 0}},2202:(dt,Me,k)=>{k.d(Me,{h:()=>L});const L=function l(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(dt,Me,k)=>{k.d(Me,{L:()=>l});const l="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(dt,Me,k)=>{k.d(Me,{_6:()=>me,jO:()=>se,yG:()=>ae});var l=k(576);function P(pe){return pe[pe.length-1]}function se(pe){return(0,l.m)(P(pe))?pe.pop():void 0}function ae(pe){return function L(pe){return pe&&(0,l.m)(pe.schedule)}(P(pe))?pe.pop():void 0}function me(pe,de){return"number"==typeof P(pe)?pe.pop():de}},8737:(dt,Me,k)=>{function l(L,P){if(L){const se=L.indexOf(P);0<=se&&L.splice(se,1)}}k.d(Me,{P:()=>l})},3888:(dt,Me,k)=>{function l(L){const se=L(ae=>{Error.call(ae),ae.stack=(new Error).stack});return se.prototype=Object.create(Error.prototype),se.prototype.constructor=se,se}k.d(Me,{d:()=>l})},2806:(dt,Me,k)=>{k.d(Me,{O:()=>se,x:()=>P});var l=k(2416);let L=null;function P(ae){if(l.v.useDeprecatedSynchronousErrorHandling){const me=!L;if(me&&(L={errorThrown:!1,error:null}),ae(),me){const{errorThrown:pe,error:de}=L;if(L=null,pe)throw de}}else ae()}function se(ae){l.v.useDeprecatedSynchronousErrorHandling&&L&&(L.errorThrown=!0,L.error=ae)}},9672:(dt,Me,k)=>{function l(L,P,se,ae=0,me=!1){const pe=P.schedule(function(){se(),me?L.add(this.schedule(null,ae)):this.unsubscribe()},ae);if(L.add(pe),!me)return pe}k.d(Me,{f:()=>l})},4671:(dt,Me,k)=>{function l(L){return L}k.d(Me,{y:()=>l})},1144:(dt,Me,k)=>{k.d(Me,{z:()=>l});const l=L=>L&&"number"==typeof L.length&&"function"!=typeof L},2206:(dt,Me,k)=>{k.d(Me,{D:()=>L});var l=k(576);function L(P){return Symbol.asyncIterator&&(0,l.m)(P?.[Symbol.asyncIterator])}},576:(dt,Me,k)=>{function l(L){return"function"==typeof L}k.d(Me,{m:()=>l})},3670:(dt,Me,k)=>{k.d(Me,{c:()=>P});var l=k(8822),L=k(576);function P(se){return(0,L.m)(se[l.L])}},6495:(dt,Me,k)=>{k.d(Me,{T:()=>P});var l=k(2202),L=k(576);function P(se){return(0,L.m)(se?.[l.h])}},8239:(dt,Me,k)=>{k.d(Me,{t:()=>L});var l=k(576);function L(P){return(0,l.m)(P?.then)}},3260:(dt,Me,k)=>{k.d(Me,{L:()=>se,Q:()=>P});var l=k(655),L=k(576);function P(ae){return(0,l.FC)(this,arguments,function*(){const pe=ae.getReader();try{for(;;){const{value:de,done:ve}=yield(0,l.qq)(pe.read());if(ve)return yield(0,l.qq)(void 0);yield yield(0,l.qq)(de)}}finally{pe.releaseLock()}})}function se(ae){return(0,L.m)(ae?.getReader)}},4482:(dt,Me,k)=>{k.d(Me,{A:()=>L,e:()=>P});var l=k(576);function L(se){return(0,l.m)(se?.lift)}function P(se){return ae=>{if(L(ae))return ae.lift(function(me){try{return se(me,this)}catch(pe){this.error(pe)}});throw new TypeError("Unable to lift unknown Observable type")}}},9635:(dt,Me,k)=>{k.d(Me,{U:()=>P,z:()=>L});var l=k(4671);function L(...se){return P(se)}function P(se){return 0===se.length?l.y:1===se.length?se[0]:function(me){return se.reduce((pe,de)=>de(pe),me)}}},7849:(dt,Me,k)=>{k.d(Me,{h:()=>P});var l=k(2416),L=k(3410);function P(se){L.z.setTimeout(()=>{const{onUnhandledError:ae}=l.v;if(!ae)throw se;ae(se)})}},4532:(dt,Me,k)=>{function l(L){return new TypeError(`You provided ${null!==L&&"object"==typeof L?"an invalid object":`'${L}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}k.d(Me,{z:()=>l})},655:(dt,Me,k)=>{function se(Q,ee){var he={};for(var oe in Q)Object.prototype.hasOwnProperty.call(Q,oe)&&ee.indexOf(oe)<0&&(he[oe]=Q[oe]);if(null!=Q&&"function"==typeof Object.getOwnPropertySymbols){var Ue=0;for(oe=Object.getOwnPropertySymbols(Q);Ue<oe.length;Ue++)ee.indexOf(oe[Ue])<0&&Object.prototype.propertyIsEnumerable.call(Q,oe[Ue])&&(he[oe[Ue]]=Q[oe[Ue]])}return he}function de(Q,ee,he,oe){return new(he||(he=Promise))(function(Ve,ft){function en(fn){try{We(oe.next(fn))}catch(Rn){ft(Rn)}}function Kt(fn){try{We(oe.throw(fn))}catch(Rn){ft(Rn)}}function We(fn){fn.done?Ve(fn.value):function Ue(Ve){return Ve instanceof he?Ve:new he(function(ft){ft(Ve)})}(fn.value).then(en,Kt)}We((oe=oe.apply(Q,ee||[])).next())})}function xe(Q){return this instanceof xe?(this.v=Q,this):new xe(Q)}function ge(Q,ee,he){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ue,oe=he.apply(Q,ee||[]),Ve=[];return Ue={},ft("next"),ft("throw"),ft("return"),Ue[Symbol.asyncIterator]=function(){return this},Ue;function ft(an){oe[an]&&(Ue[an]=function(rn){return new Promise(function(Wt,jt){Ve.push([an,rn,Wt,jt])>1||en(an,rn)})})}function en(an,rn){try{!function Kt(an){an.value instanceof xe?Promise.resolve(an.value.v).then(We,fn):Rn(Ve[0][2],an)}(oe[an](rn))}catch(Wt){Rn(Ve[0][3],Wt)}}function We(an){en("next",an)}function fn(an){en("throw",an)}function Rn(an,rn){an(rn),Ve.shift(),Ve.length&&en(Ve[0][0],Ve[0][1])}}function nt(Q){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var he,ee=Q[Symbol.asyncIterator];return ee?ee.call(Q):(Q=function X(Q){var ee="function"==typeof Symbol&&Symbol.iterator,he=ee&&Q[ee],oe=0;if(he)return he.call(Q);if(Q&&"number"==typeof Q.length)return{next:function(){return Q&&oe>=Q.length&&(Q=void 0),{value:Q&&Q[oe++],done:!Q}}};throw new TypeError(ee?"Object is not iterable.":"Symbol.iterator is not defined.")}(Q),he={},oe("next"),oe("throw"),oe("return"),he[Symbol.asyncIterator]=function(){return this},he);function oe(Ve){he[Ve]=Q[Ve]&&function(ft){return new Promise(function(en,Kt){!function Ue(Ve,ft,en,Kt){Promise.resolve(Kt).then(function(We){Ve({value:We,done:en})},ft)}(en,Kt,(ft=Q[Ve](ft)).done,ft.value)})}}}k.d(Me,{FC:()=>ge,KL:()=>nt,_T:()=>se,mG:()=>de,qq:()=>xe})},4650:(dt,Me,k)=>{k.d(Me,{$8M:()=>xc,$Z:()=>ix,$Z9:()=>II,AFp:()=>Xg,ALo:()=>Kw,AaK:()=>de,CRH:()=>ey,CZH:()=>tu,CqO:()=>gd,D6c:()=>sT,EJc:()=>vy,F4k:()=>qx,FYo:()=>bv,FiY:()=>Y,G48:()=>ky,GfV:()=>Ah,JOm:()=>Yr,LFG:()=>kn,LSH:()=>wp,Lbi:()=>_y,Lck:()=>pD,MMx:()=>L0,NdJ:()=>vg,OlP:()=>mt,Oqu:()=>Eg,PXZ:()=>zD,Q6J:()=>Mn,QGY:()=>pd,QP$:()=>Yu,Qsj:()=>Tp,R0b:()=>ms,RDi:()=>km,Rgc:()=>Xa,SBq:()=>Ch,Sil:()=>mb,Suo:()=>Fd,TTD:()=>ii,TgZ:()=>nn,X6Q:()=>Rb,XFs:()=>ht,Xpm:()=>U,Xts:()=>ji,Y36:()=>Wl,YKP:()=>Lw,YNc:()=>Ut,Yjl:()=>Zn,Yz7:()=>rn,ZZ4:()=>$y,_UZ:()=>jn,_Vd:()=>$l,_c5:()=>rT,_uU:()=>x0,aQg:()=>Zy,c2e:()=>$D,cJS:()=>jt,cg1:()=>Sg,dDg:()=>Zd,dqk:()=>rt,eFA:()=>Eb,eoX:()=>ll,f3M:()=>kl,g9A:()=>my,h0i:()=>Pd,hGG:()=>iT,iGM:()=>X0,ifc:()=>st,ip1:()=>Jg,kL8:()=>C0,lG2:()=>cn,lcZ:()=>Wu,lqb:()=>kc,lri:()=>nu,oAB:()=>qe,q4F:()=>Sh,qLn:()=>Hl,qZA:()=>yg,rWj:()=>sm,s9C:()=>fs,sBO:()=>QD,sIi:()=>uf,s_b:()=>ol,soG:()=>nm,tb:()=>tm,tp0:()=>Se,uIk:()=>Be,vHH:()=>be,vpe:()=>mo,wAp:()=>Tt,xp6:()=>A_,z2F:()=>qd,zSh:()=>Gm,zs3:()=>Uc});var l=k(7579),L=k(727),P=k(9751),se=k(6451),ae=k(3099);function me(i){for(let s in i)if(i[s]===me)return s;throw Error("Could not find renamed property on target object.")}function de(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(de).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const s=i.toString();if(null==s)return""+s;const a=s.indexOf("\n");return-1===a?s:s.substring(0,a)}function ve(i,s){return null==i||""===i?null===s?"":s:null==s||""===s?i:i+" "+s}const $=me({__forward_ref__:me});function H(i){return i.__forward_ref__=H,i.toString=function(){return de(this())},i}function X(i){return function $e(i){return"function"==typeof i&&i.hasOwnProperty($)&&i.__forward_ref__===H}(i)?i():i}class be extends Error{constructor(s,a){super(function it(i,s){return`NG0${Math.abs(i)}${s?": "+s.trim():""}`}(s,a)),this.code=s}}function xe(i){return"string"==typeof i?i:null==i?"":String(i)}function Re(i,s){throw new be(-201,!1)}function Kt(i,s){null==i&&function We(i,s,a,c){throw new Error(`ASSERTION ERROR: ${i}`+(null==c?"":` [Expected=> ${a} ${c} ${s} <=Actual]`))}(s,i,null,"!=")}function rn(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function jt(i){return{providers:i.providers||[],imports:i.imports||[]}}function br(i){return js(i,ei)||js(i,Fn)}function js(i,s){return i.hasOwnProperty(s)?i[s]:null}function Ti(i){return i&&(i.hasOwnProperty(ti)||i.hasOwnProperty(Wi))?i[ti]:null}const ei=me({\u0275prov:me}),ti=me({\u0275inj:me}),Fn=me({ngInjectableDef:me}),Wi=me({ngInjectorDef:me});var ht=(()=>((ht=ht||{})[ht.Default=0]="Default",ht[ht.Host=1]="Host",ht[ht.Self=2]="Self",ht[ht.SkipSelf=4]="SkipSelf",ht[ht.Optional=8]="Optional",ht))();let pn;function sn(i){const s=pn;return pn=i,s}function er(i,s,a){const c=br(i);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:a&ht.Optional?null:void 0!==s?s:void Re(de(i))}function cr(i){return{toString:i}.toString()}var ln=(()=>((ln=ln||{})[ln.OnPush=0]="OnPush",ln[ln.Default=1]="Default",ln))(),st=(()=>{return(i=st||(st={}))[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",st;var i})();const rt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),En={},Vt=[],Cn=me({\u0275cmp:me}),Mr=me({\u0275dir:me}),kt=me({\u0275pipe:me}),ni=me({\u0275mod:me}),Pt=me({\u0275fac:me}),K=me({__NG_ELEMENT_ID__:me});let j=0;function U(i){return cr(()=>{const a=!0===i.standalone,c={},h={type:i.type,providersResolver:null,decls:i.decls,vars:i.vars,factory:null,template:i.template||null,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:c,inputs:null,outputs:null,exportAs:i.exportAs||null,onPush:i.changeDetection===ln.OnPush,directiveDefs:null,pipeDefs:null,standalone:a,dependencies:a&&i.dependencies||null,getStandaloneInjector:null,selectors:i.selectors||Vt,viewQuery:i.viewQuery||null,features:i.features||null,data:i.data||{},encapsulation:i.encapsulation||st.Emulated,id:"c"+j++,styles:i.styles||Vt,_:null,setInput:null,schemas:i.schemas||null,tView:null},f=i.dependencies,_=i.features;return h.inputs=un(i.inputs,c),h.outputs=un(i.outputs),_&&_.forEach(x=>x(h)),h.directiveDefs=f?()=>("function"==typeof f?f():f).map(z).filter(De):null,h.pipeDefs=f?()=>("function"==typeof f?f():f).map(B).filter(De):null,h})}function z(i){return W(i)||Z(i)}function De(i){return null!==i}function qe(i){return cr(()=>({type:i.type,bootstrap:i.bootstrap||Vt,declarations:i.declarations||Vt,imports:i.imports||Vt,exports:i.exports||Vt,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null}))}function un(i,s){if(null==i)return En;const a={};for(const c in i)if(i.hasOwnProperty(c)){let h=i[c],f=h;Array.isArray(h)&&(f=h[1],h=h[0]),a[h]=c,s&&(s[h]=f)}return a}const cn=U;function Zn(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,standalone:!0===i.standalone,onDestroy:i.type.prototype.ngOnDestroy||null}}function W(i){return i[Cn]||null}function Z(i){return i[Mr]||null}function B(i){return i[kt]||null}function we(i,s){const a=i[ni]||null;if(!a&&!0===s)throw new Error(`Type ${de(i)} does not have '\u0275mod' property.`);return a}function tr(i){return Array.isArray(i)&&"object"==typeof i[1]}function di(i){return Array.isArray(i)&&!0===i[1]}function Is(i){return 0!=(8&i.flags)}function ua(i){return 2==(2&i.flags)}function zs(i){return 1==(1&i.flags)}function Ai(i){return null!==i.template}function ml(i){return 0!=(256&i[2])}function Do(i,s){return i.hasOwnProperty(Pt)?i[Pt]:null}class la{constructor(s,a,c){this.previousValue=s,this.currentValue=a,this.firstChange=c}isFirstChange(){return this.firstChange}}function ii(){return Ws}function Ws(i){return i.type.prototype.ngOnChanges&&(i.setInput=eh),To}function To(){const i=cu(this),s=i?.current;if(s){const a=i.previous;if(a===En)i.previous=s;else for(let c in s)a[c]=s[c];i.current=null,this.ngOnChanges(s)}}function eh(i,s,a,c){const h=cu(i)||function th(i,s){return i[da]=s}(i,{previous:En,current:null}),f=h.current||(h.current={}),_=h.previous,x=this.declaredInputs[a],b=_[x];f[x]=new la(b&&b.currentValue,s,_===En),i[c]=s}ii.ngInherit=!0;const da="__ngSimpleChanges__";function cu(i){return i[da]||null}function Gn(i){for(;Array.isArray(i);)i=i[0];return i}function Kr(i,s){return Gn(s[i.index])}function Qs(i,s){return i.data[s]}function yr(i,s){const a=s[i];return tr(a)?a:a[0]}function Js(i){return 4==(4&i[2])}function Si(i){return 64==(64&i[2])}function Mi(i,s){return null==s?null:i[s]}function Ts(i){i[18]=0}function Xs(i,s){i[5]+=s;let a=i,c=i[3];for(;null!==c&&(1===s&&1===a[5]||-1===s&&0===a[5]);)c[5]+=s,a=c,c=c[3]}const bt={lFrame:No(null),bindingsEnabled:!0};function Co(){return bt.bindingsEnabled}function Ce(){return bt.lFrame.lView}function Zt(){return bt.lFrame.tView}function Un(){let i=eo();for(;null!==i&&64===i.type;)i=i.parent;return i}function eo(){return bt.lFrame.currentTNode}function Rr(i,s){const a=bt.lFrame;a.currentTNode=i,a.isParent=s}function cc(){return bt.lFrame.isParent}function no(){return bt.lFrame.bindingIndex++}function hu(i,s){const a=bt.lFrame;a.bindingIndex=a.bindingRootIndex=i,ga(s)}function ga(i){bt.lFrame.currentDirectiveIndex=i}function Oo(){return bt.lFrame.currentQueryIndex}function fc(i){bt.lFrame.currentQueryIndex=i}function _a(i){const s=i[1];return 2===s.type?s.declTNode:1===s.type?i[6]:null}function fu(i,s,a){if(a&ht.SkipSelf){let h=s,f=i;for(;!(h=h.parent,null!==h||a&ht.Host||(h=_a(f),null===h||(f=f[15],10&h.type))););if(null===h)return!1;s=h,i=f}const c=bt.lFrame=El();return c.currentTNode=s,c.lView=i,!0}function ko(i){const s=El(),a=i[1];bt.lFrame=s,s.currentTNode=a.firstChild,s.lView=i,s.tView=a,s.contextLView=i,s.bindingIndex=a.bindingStartIndex,s.inI18n=!1}function El(){const i=bt.lFrame,s=null===i?null:i.child;return null===s?No(i):s}function No(i){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=s),s}function Dl(){const i=bt.lFrame;return bt.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const Fo=Dl;function pu(){const i=Dl();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function Wn(){return bt.lFrame.selectedIndex}function Pi(i){bt.lFrame.selectedIndex=i}function gn(){const i=bt.lFrame;return Qs(i.tView,i.selectedIndex)}function mc(i,s){for(let a=s.directiveStart,c=s.directiveEnd;a<c;a++){const f=i.data[a].type.prototype,{ngAfterContentInit:_,ngAfterContentChecked:x,ngAfterViewInit:b,ngAfterViewChecked:T,ngOnDestroy:M}=f;_&&(i.contentHooks||(i.contentHooks=[])).push(-a,_),x&&((i.contentHooks||(i.contentHooks=[])).push(a,x),(i.contentCheckHooks||(i.contentCheckHooks=[])).push(a,x)),b&&(i.viewHooks||(i.viewHooks=[])).push(-a,b),T&&((i.viewHooks||(i.viewHooks=[])).push(a,T),(i.viewCheckHooks||(i.viewCheckHooks=[])).push(a,T)),null!=M&&(i.destroyHooks||(i.destroyHooks=[])).push(a,M)}}function uh(i,s,a){ro(i,s,3,a)}function ch(i,s,a,c){(3&i[2])===a&&ro(i,s,a,c)}function va(i,s){let a=i[2];(3&a)===s&&(a&=2047,a+=1,i[2]=a)}function ro(i,s,a,c){const f=c??-1,_=s.length-1;let x=0;for(let b=void 0!==c?65535&i[18]:0;b<_;b++)if("number"==typeof s[b+1]){if(x=s[b],null!=c&&x>=c)break}else s[b]<0&&(i[18]+=65536),(x<f||-1==f)&&(Am(i,a,s,b),i[18]=(4294901760&i[18])+b+2),b++}function Am(i,s,a,c){const h=a[c]<0,f=a[c+1],x=i[h?-a[c]:a[c]];if(h){if(i[2]>>11<i[18]>>16&&(3&i[2])===s){i[2]+=2048;try{f.call(x)}finally{}}}else try{f.call(x)}finally{}}class Lo{constructor(s,a,c){this.factory=s,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=c}}function xa(i,s,a){let c=0;for(;c<a.length;){const h=a[c];if("number"==typeof h){if(0!==h)break;c++;const f=a[c++],_=a[c++],x=a[c++];i.setAttribute(s,_,x,f)}else{const f=h,_=a[++c];wa(f)?i.setProperty(s,f,_):i.setAttribute(s,f,_),c++}}return c}function yc(i){return 3===i||4===i||6===i}function wa(i){return 64===i.charCodeAt(0)}function Bo(i,s){if(null!==s&&0!==s.length)if(null===i||0===i.length)i=s.slice();else{let a=-1;for(let c=0;c<s.length;c++){const h=s[c];"number"==typeof h?a=h:0===a||hh(i,a,h,null,-1===a||2===a?s[++c]:null)}}return i}function hh(i,s,a,c,h){let f=0,_=i.length;if(-1===s)_=-1;else for(;f<i.length;){const x=i[f++];if("number"==typeof x){if(x===s){_=-1;break}if(x>s){_=f-1;break}}}for(;f<i.length;){const x=i[f];if("number"==typeof x)break;if(x===a){if(null===c)return void(null!==h&&(i[f+1]=h));if(c===i[f+1])return void(i[f+2]=h)}f++,null!==c&&f++,null!==h&&f++}-1!==_&&(i.splice(_,0,s),f=_+1),i.splice(f++,0,a),null!==c&&i.splice(f++,0,c),null!==h&&i.splice(f++,0,h)}function fh(i){return-1!==i}function ba(i){return 32767&i}function nr(i,s){let a=function Mm(i){return i>>16}(i),c=s;for(;a>0;)c=c[15],a--;return c}let ph=!0;function Ia(i){const s=ph;return ph=i,s}let Ea=0;const Ze={};function Kn(i,s){const a=ki(i,s);if(-1!==a)return a;const c=s[1];c.firstCreatePass&&(i.injectorIndex=s.length,mu(c.data,i),mu(s,null),mu(c.blueprint,null));const h=oi(i,s),f=i.injectorIndex;if(fh(h)){const _=ba(h),x=nr(h,s),b=x[1].data;for(let T=0;T<8;T++)s[f+T]=x[_+T]|b[_+T]}return s[f+8]=h,f}function mu(i,s){i.push(0,0,0,0,0,0,0,0,s)}function ki(i,s){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===s[i.injectorIndex+8]?-1:i.injectorIndex}function oi(i,s){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let a=0,c=null,h=s;for(;null!==h;){if(c=ts(h),null===c)return-1;if(a++,h=h[15],-1!==c.injectorIndex)return c.injectorIndex|a<<16}return-1}function _u(i,s,a){!function Xi(i,s,a){let c;"string"==typeof a?c=a.charCodeAt(0)||0:a.hasOwnProperty(K)&&(c=a[K]),null==c&&(c=a[K]=Ea++);const h=255&c;s.data[i+(h>>5)]|=1<<h}(i,s,a)}function yu(i,s,a){if(a&ht.Optional)return i;Re()}function Da(i,s,a,c){if(a&ht.Optional&&void 0===c&&(c=null),0==(a&(ht.Self|ht.Host))){const h=i[9],f=sn(void 0);try{return h?h.get(s,c,a&ht.Optional):er(s,c,a&ht.Optional)}finally{sn(f)}}return yu(c,0,a)}function Ta(i,s,a,c=ht.Default,h){if(null!==i){if(1024&s[2]){const _=function gh(i,s,a,c,h){let f=i,_=s;for(;null!==f&&null!==_&&1024&_[2]&&!(256&_[2]);){const x=jo(f,_,a,c|ht.Self,Ze);if(x!==Ze)return x;let b=f.parent;if(!b){const T=_[21];if(T){const M=T.get(a,Ze,c);if(M!==Ze)return M}b=ts(_),_=_[15]}f=b}return h}(i,s,a,c,Ze);if(_!==Ze)return _}const f=jo(i,s,a,c,Ze);if(f!==Ze)return f}return Da(s,a,c,h)}function jo(i,s,a,c,h){const f=function Sl(i){if("string"==typeof i)return i.charCodeAt(0)||0;const s=i.hasOwnProperty(K)?i[K]:void 0;return"number"==typeof s?s>=0?255&s:vu:s}(a);if("function"==typeof f){if(!fu(s,i,c))return c&ht.Host?yu(h,0,c):Da(s,a,c,h);try{const _=f(c);if(null!=_||c&ht.Optional)return _;Re()}finally{Fo()}}else if("number"==typeof f){let _=null,x=ki(i,s),b=-1,T=c&ht.Host?s[16][6]:null;for((-1===x||c&ht.SkipSelf)&&(b=-1===x?oi(i,s):s[x+8],-1!==b&&Ml(c,!1)?(_=s[1],x=ba(b),s=nr(b,s)):x=-1);-1!==x;){const M=s[1];if($o(f,x,M.data)){const N=Ni(x,s,a,_,c,T);if(N!==Ze)return N}b=s[x+8],-1!==b&&Ml(c,s[1].data[x+8]===T)&&$o(f,x,s)?(_=M,x=ba(b),s=nr(b,s)):x=-1}}return h}function Ni(i,s,a,c,h,f){const _=s[1],x=_.data[i+8],M=Dt(x,_,a,null==c?ua(x)&&ph:c!=_&&0!=(3&x.type),h&ht.Host&&f===x);return null!==M?es(s,_,M,x):Ze}function Dt(i,s,a,c,h){const f=i.providerIndexes,_=s.data,x=1048575&f,b=i.directiveStart,M=f>>20,G=h?x+M:i.directiveEnd;for(let ne=c?x:x+M;ne<G;ne++){const Ee=_[ne];if(ne<b&&a===Ee||ne>=b&&Ee.type===a)return ne}if(h){const ne=_[b];if(ne&&Ai(ne)&&ne.type===a)return b}return null}function es(i,s,a,c){let h=i[a];const f=s.data;if(function gu(i){return i instanceof Lo}(h)){const _=h;_.resolving&&function tt(i,s){const a=s?`. Dependency path: ${s.join(" > ")} > ${i}`:"";throw new be(-200,`Circular dependency in DI detected for ${i}${a}`)}(function ge(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():xe(i)}(f[a]));const x=Ia(_.canSeeViewProviders);_.resolving=!0;const b=_.injectImpl?sn(_.injectImpl):null;fu(i,c,ht.Default);try{h=i[a]=_.factory(void 0,f,i,c),s.firstCreatePass&&a>=c.directiveStart&&function gc(i,s,a){const{ngOnChanges:c,ngOnInit:h,ngDoCheck:f}=s.type.prototype;if(c){const _=Ws(s);(a.preOrderHooks||(a.preOrderHooks=[])).push(i,_),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,_)}h&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-i,h),f&&((a.preOrderHooks||(a.preOrderHooks=[])).push(i,f),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,f))}(a,f[a],s)}finally{null!==b&&sn(b),Ia(x),_.resolving=!1,Fo()}}return h}function $o(i,s,a){return!!(a[s+(i>>5)]&1<<i)}function Ml(i,s){return!(i&ht.Self||i&ht.Host&&s)}class vn{constructor(s,a){this._tNode=s,this._lView=a}get(s,a,c){return Ta(this._tNode,this._lView,s,c,a)}}function vu(){return new vn(Un(),Ce())}function ts(i){const s=i[1],a=s.type;return 2===a?s.declTNode:1===a?i[6]:null}function xc(i){return function Al(i,s){if("class"===s)return i.classes;if("style"===s)return i.styles;const a=i.attrs;if(a){const c=a.length;let h=0;for(;h<c;){const f=a[h];if(yc(f))break;if(0===f)h+=2;else if("number"==typeof f)for(h++;h<c&&"string"==typeof a[h];)h++;else{if(f===s)return a[h+1];h+=2}}}return null}(Un(),i)}const As="__parameters__";function Pr(i,s,a){return cr(()=>{const c=function io(i){return function(...a){if(i){const c=i(...a);for(const h in c)this[h]=c[h]}}}(s);function h(...f){if(this instanceof h)return c.apply(this,f),this;const _=new h(...f);return x.annotation=_,x;function x(b,T,M){const N=b.hasOwnProperty(As)?b[As]:Object.defineProperty(b,As,{value:[]})[As];for(;N.length<=M;)N.push(null);return(N[M]=N[M]||[]).push(_),b}}return a&&(h.prototype=Object.create(a.prototype)),h.prototype.ngMetadataName=i,h.annotationCls=h,h})}class mt{constructor(s,a){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=rn({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Vn(i,s){void 0===s&&(s=i);for(let a=0;a<i.length;a++){let c=i[a];Array.isArray(c)?(s===i&&(s=i.slice(0,a)),Vn(c,s)):s!==i&&s.push(c)}return s}function ai(i,s){i.forEach(a=>Array.isArray(a)?ai(a,s):s(a))}function Ca(i,s,a){s>=i.length?i.push(a):i.splice(s,0,a)}function bu(i,s){return s>=i.length-1?i.pop():i.splice(s,1)[0]}const Pa={},Rs="__NG_DI_FLAG__",Vi="ngTempTokenPath",is=/\n/gm,kr="__source";let ka;function Jn(i){const s=ka;return ka=i,s}function Ol(i,s=ht.Default){if(void 0===ka)throw new be(-203,!1);return null===ka?er(i,void 0,s):ka.get(i,s&ht.Optional?null:void 0,s)}function kn(i,s=ht.Default){return(function Er(){return pn}()||Ol)(X(i),s)}function kl(i,s=ht.Default){return"number"!=typeof s&&(s=0|(s.optional&&8)|(s.host&&1)|(s.self&&2)|(s.skipSelf&&4)),kn(i,s)}function Ps(i){const s=[];for(let a=0;a<i.length;a++){const c=X(i[a]);if(Array.isArray(c)){if(0===c.length)throw new be(900,!1);let h,f=ht.Default;for(let _=0;_<c.length;_++){const x=c[_],b=E(x);"number"==typeof b?-1===b?h=x.token:f|=b:h=x}s.push(kn(h,f))}else s.push(kn(c))}return s}function ss(i,s){return i[Rs]=s,i.prototype[Rs]=s,i}function E(i){return i[Rs]}const Y=ss(Pr("Optional"),8),Se=ss(Pr("SkipSelf"),4);let Wo,Tc;function km(i){Wo=i}class Yo{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}const w=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,O=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var vr=(()=>((vr=vr||{})[vr.NONE=0]="NONE",vr[vr.HTML=1]="HTML",vr[vr.STYLE=2]="STYLE",vr[vr.SCRIPT=3]="SCRIPT",vr[vr.URL=4]="URL",vr[vr.RESOURCE_URL=5]="RESOURCE_URL",vr))();function wp(i){const s=function Pc(){const i=Ce();return i&&i[12]}();return s?s.sanitize(vr.URL,i)||"":function Ua(i,s){const a=function Lm(i){return i instanceof Yo&&i.getTypeName()||null}(i);if(null!=a&&a!==s){if("ResourceURL"===a&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${a} (see https://g.co/ng/security#xss)`)}return a===s}(i,"URL")?function Qo(i){return i instanceof Yo?i.changingThisBreaksApplicationSecurity:i}(i):function te(i){return(i=String(i)).match(w)||i.match(O)?i:"unsafe:"+i}(xe(i))}function II(i){return function Nm(i){return function Cc(){if(void 0===Tc&&(Tc=null,rt.trustedTypes))try{Tc=rt.trustedTypes.createPolicy("angular",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch{}return Tc}()?.createScriptURL(i)||i}(i[0])}const ji=new mt("ENVIRONMENT_INITIALIZER"),Hm=new mt("INJECTOR",-1),Zm=new mt("INJECTOR_DEF_TYPES");class yv{get(s,a=Pa){if(a===Pa){const c=new Error(`NullInjectorError: No provider for ${de(s)}!`);throw c.name="NullInjectorError",c}return a}}function DI(...i){return{\u0275providers:qm(0,i)}}function qm(i,...s){const a=[],c=new Set;let h;return ai(s,f=>{const _=f;zm(_,a,[],c)&&(h||(h=[]),h.push(_))}),void 0!==h&&Dh(h,a),a}function Dh(i,s){for(let a=0;a<i.length;a++){const{providers:h}=i[a];ai(h,f=>{s.push(f)})}}function zm(i,s,a,c){if(!(i=X(i)))return!1;let h=null,f=Ti(i);const _=!f&&W(i);if(f||_){if(_&&!_.standalone)return!1;h=i}else{const b=i.ngModule;if(f=Ti(b),!f)return!1;h=b}const x=c.has(h);if(_){if(x)return!1;if(c.add(h),_.dependencies){const b="function"==typeof _.dependencies?_.dependencies():_.dependencies;for(const T of b)zm(T,s,a,c)}}else{if(!f)return!1;{if(null!=f.imports&&!x){let T;c.add(h);try{ai(f.imports,M=>{zm(M,s,a,c)&&(T||(T=[]),T.push(M))})}finally{}void 0!==T&&Dh(T,s)}if(!x){const T=Do(h)||(()=>new h);s.push({provide:h,useFactory:T,deps:Vt},{provide:Zm,useValue:h,multi:!0},{provide:ji,useValue:()=>kn(h),multi:!0})}const b=f.providers;null==b||x||ai(b,M=>{s.push(M)})}}return h!==i&&void 0!==i.providers}const bp=me({provide:String,useValue:me});function Oc(i){return null!==i&&"object"==typeof i&&bp in i}function co(i){return"function"==typeof i}const Gm=new mt("Set Injector scope."),Ip={},TI={};let Wm;function Ep(){return void 0===Wm&&(Wm=new yv),Wm}class kc{}class CI extends kc{constructor(s,a,c,h){super(),this.parent=a,this.source=c,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Qm(s,_=>this.processProvider(_)),this.records.set(Hm,jl(void 0,this)),h.has("environment")&&this.records.set(kc,jl(void 0,this));const f=this.records.get(Gm);null!=f&&"string"==typeof f.value&&this.scopes.add(f.value),this.injectorDefTypes=new Set(this.get(Zm.multi,Vt,ht.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const s of this._ngOnDestroyHooks)s.ngOnDestroy();for(const s of this._onDestroyHooks)s()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(s){this._onDestroyHooks.push(s)}runInContext(s){this.assertNotDestroyed();const a=Jn(this),c=sn(void 0);try{return s()}finally{Jn(a),sn(c)}}get(s,a=Pa,c=ht.Default){this.assertNotDestroyed();const h=Jn(this),f=sn(void 0);try{if(!(c&ht.SkipSelf)){let x=this.records.get(s);if(void 0===x){const b=function MI(i){return"function"==typeof i||"object"==typeof i&&i instanceof mt}(s)&&br(s);x=b&&this.injectableDefInScope(b)?jl(Km(s),Ip):null,this.records.set(s,x)}if(null!=x)return this.hydrate(s,x)}return(c&ht.Self?Ep():this.parent).get(s,a=c&ht.Optional&&a===Pa?null:a)}catch(_){if("NullInjectorError"===_.name){if((_[Vi]=_[Vi]||[]).unshift(de(s)),h)throw _;return function D(i,s,a,c){const h=i[Vi];throw s[kr]&&h.unshift(s[kr]),i.message=function S(i,s,a,c=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.slice(2):i;let h=de(s);if(Array.isArray(s))h=s.map(de).join(" -> ");else if("object"==typeof s){let f=[];for(let _ in s)if(s.hasOwnProperty(_)){let x=s[_];f.push(_+":"+("string"==typeof x?JSON.stringify(x):de(x)))}h=`{${f.join(", ")}}`}return`${a}${c?"("+c+")":""}[${h}]: ${i.replace(is,"\n  ")}`}("\n"+i.message,h,a,c),i.ngTokenPath=h,i[Vi]=null,i}(_,s,"R3InjectorError",this.source)}throw _}finally{sn(f),Jn(h)}}resolveInjectorInitializers(){const s=Jn(this),a=sn(void 0);try{const c=this.get(ji.multi,Vt,ht.Self);for(const h of c)h()}finally{Jn(s),sn(a)}}toString(){const s=[],a=this.records;for(const c of a.keys())s.push(de(c));return`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new be(205,!1)}processProvider(s){let a=co(s=X(s))?s:X(s&&s.provide);const c=function Dp(i){return Oc(i)?jl(void 0,i.useValue):jl(function Nc(i,s,a){let c;if(co(i)){const h=X(i);return Do(h)||Km(h)}if(Oc(i))c=()=>X(i.useValue);else if(function xv(i){return!(!i||!i.useFactory)}(i))c=()=>i.useFactory(...Ps(i.deps||[]));else if(function vv(i){return!(!i||!i.useExisting)}(i))c=()=>kn(X(i.useExisting));else{const h=X(i&&(i.useClass||i.provide));if(!function AI(i){return!!i.deps}(i))return Do(h)||Km(h);c=()=>new h(...Ps(i.deps))}return c}(i),Ip)}(s);if(co(s)||!0!==s.multi)this.records.get(a);else{let h=this.records.get(a);h||(h=jl(void 0,Ip,!0),h.factory=()=>Ps(h.multi),this.records.set(a,h)),a=s,h.multi.push(s)}this.records.set(a,c)}hydrate(s,a){return a.value===Ip&&(a.value=TI,a.value=a.factory()),"object"==typeof a.value&&a.value&&function SI(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(a.value)&&this._ngOnDestroyHooks.add(a.value),a.value}injectableDefInScope(s){if(!s.providedIn)return!1;const a=X(s.providedIn);return"string"==typeof a?"any"===a||this.scopes.has(a):this.injectorDefTypes.has(a)}}function Km(i){const s=br(i),a=null!==s?s.factory:Do(i);if(null!==a)return a;if(i instanceof mt)throw new be(204,!1);if(i instanceof Function)return function Ym(i){const s=i.length;if(s>0)throw function oo(i,s){const a=[];for(let c=0;c<i;c++)a.push(s);return a}(s,"?"),new be(204,!1);const a=function Ir(i){const s=i&&(i[ei]||i[Fn]);if(s){const a=function bn(i){if(i.hasOwnProperty("name"))return i.name;const s=(""+i).match(/^function\s*([^\s(]+)/);return null===s?"":s[1]}(i);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),s}return null}(i);return null!==a?()=>a.factory(i):()=>new i}(i);throw new be(204,!1)}function jl(i,s,a=!1){return{factory:i,value:s,multi:a?[]:void 0}}function RI(i){return!!i.\u0275providers}function Qm(i,s){for(const a of i)Array.isArray(a)?Qm(a,s):RI(a)?Qm(a.\u0275providers,s):s(a)}class wv{}class Xm{resolveComponentFactory(s){throw function OI(i){const s=Error(`No component factory found for ${de(i)}. Did you add it to @NgModule.entryComponents?`);return s.ngComponent=i,s}(s)}}let $l=(()=>{class i{}return i.NULL=new Xm,i})();function e_(){return Ba(Un(),Ce())}function Ba(i,s){return new Ch(Kr(i,s))}let Ch=(()=>{class i{constructor(a){this.nativeElement=a}}return i.__NG_ELEMENT_ID__=e_,i})();function kI(i){return i instanceof Ch?i.nativeElement:i}class bv{}let Tp=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>function Iv(){const i=Ce(),a=yr(Un().index,i);return(tr(a)?a:i)[11]}(),i})(),Ev=(()=>{class i{}return i.\u0275prov=rn({token:i,providedIn:"root",factory:()=>null}),i})();class Ah{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const Sh=new Ah("14.1.3"),Cp={};function Sp(i){return i.ngOriginalError}class Hl{constructor(){this._console=console}handleError(s){const a=this._findOriginalError(s);this._console.error("ERROR",s),a&&this._console.error("ORIGINAL ERROR",a)}_findOriginalError(s){let a=s&&Sp(s);for(;a&&Sp(a);)a=Sp(a);return a||null}}const Mp=new Map;let a_=0;const Pp="__ngContext__";function Fr(i,s){tr(s)?(i[Pp]=s[20],function Ov(i){Mp.set(i[20],i)}(s)):i[Pp]=s}function Fc(i){const s=i[Pp];return"number"==typeof s?function jI(i){return Mp.get(i)||null}(s):s||null}function c_(i){const s=Fc(i);return s?tr(s)?s:s.lView:null}const GI=(()=>(typeof requestAnimationFrame<"u"&&requestAnimationFrame||setTimeout).bind(rt))();function ja(i){return i instanceof Function?i():i}var Yr=(()=>((Yr=Yr||{})[Yr.Important=1]="Important",Yr[Yr.DashCase=2]="DashCase",Yr))();function kp(i,s){return undefined(i,s)}function Rh(i){const s=i[3];return di(s)?s[3]:s}function f_(i){return qv(i[13])}function p_(i){return qv(i[4])}function qv(i){for(;null!==i&&!di(i);)i=i[4];return i}function ql(i,s,a,c,h){if(null!=c){let f,_=!1;di(c)?f=c:tr(c)&&(_=!0,c=c[0]);const x=Gn(c);0===i&&null!==a?null==h?$i(s,a,x):_e(s,a,x,h||null,!0):1===i&&null!==a?_e(s,a,x,h||null,!0):2===i?function Gv(i,s,a){const c=Up(i,s);c&&function Au(i,s,a,c){i.removeChild(s,a,c)}(i,c,s,a)}(s,x,_):3===i&&s.destroyNode(x),null!=f&&function Mu(i,s,a,c,h){const f=a[7];f!==Gn(a)&&ql(s,i,c,f,h);for(let x=10;x<a.length;x++){const b=a[x];gr(b[1],b,i,s,c,f)}}(s,i,f,a,h)}}function Fp(i,s,a){return i.createElement(s,a)}function m_(i,s){const a=i[9],c=a.indexOf(s),h=s[3];512&s[2]&&(s[2]&=-513,Xs(h,-1)),a.splice(c,1)}function Jt(i,s){if(i.length<=10)return;const a=10+s,c=i[a];if(c){const h=c[17];null!==h&&h!==i&&m_(h,c),s>0&&(i[a-1][4]=c[4]);const f=bu(i,10+s);!function JI(i,s){gr(i,s,s[11],2,null,null),s[0]=null,s[6]=null}(c[1],c);const _=f[19];null!==_&&_.detachView(f[1]),c[3]=null,c[4]=null,c[2]&=-65}return c}function Lp(i,s){if(!(128&s[2])){const a=s[11];a.destroyNode&&gr(i,s,a,3,null,null),function eE(i){let s=i[13];if(!s)return __(i[1],i);for(;s;){let a=null;if(tr(s))a=s[13];else{const c=s[10];c&&(a=c)}if(!a){for(;s&&!s[4]&&s!==i;)tr(s)&&__(s[1],s),s=s[3];null===s&&(s=i),tr(s)&&__(s[1],s),a=s&&s[4]}s=a}}(s)}}function __(i,s){if(!(128&s[2])){s[2]&=-65,s[2]|=128,function vi(i,s){let a;if(null!=i&&null!=(a=i.destroyHooks))for(let c=0;c<a.length;c+=2){const h=s[a[c]];if(!(h instanceof Lo)){const f=a[c+1];if(Array.isArray(f))for(let _=0;_<f.length;_+=2){const x=h[f[_]],b=f[_+1];try{b.call(x)}finally{}}else try{f.call(h)}finally{}}}}(i,s),function nE(i,s){const a=i.cleanup,c=s[7];let h=-1;if(null!==a)for(let f=0;f<a.length-1;f+=2)if("string"==typeof a[f]){const _=a[f+1],x="function"==typeof _?_(s):Gn(s[_]),b=c[h=a[f+2]],T=a[f+3];"boolean"==typeof T?x.removeEventListener(a[f],b,T):T>=0?c[h=T]():c[h=-T].unsubscribe(),f+=2}else{const _=c[h=a[f+1]];a[f].call(_)}if(null!==c){for(let f=h+1;f<c.length;f++)(0,c[f])();s[7]=null}}(i,s),1===s[1].type&&s[11].destroy();const a=s[17];if(null!==a&&di(s[3])){a!==s[3]&&m_(a,s);const c=s[19];null!==c&&c.detachView(i)}!function $I(i){Mp.delete(i[20])}(s)}}function rE(i,s,a){return function y_(i,s,a){let c=s;for(;null!==c&&40&c.type;)c=(s=c).parent;if(null===c)return a[0];if(2&c.flags){const h=i.data[c.directiveStart].encapsulation;if(h===st.None||h===st.Emulated)return null}return Kr(c,a)}(i,s.parent,a)}function _e(i,s,a,c,h){i.insertBefore(s,a,c,h)}function $i(i,s,a){i.appendChild(s,a)}function Lc(i,s,a,c,h){null!==c?_e(i,s,a,c,h):$i(i,s,a)}function Up(i,s){return i.parentNode(s)}let Lt=function Vp(i,s,a){return 40&i.type?Kr(i,a):null};function Su(i,s,a,c){const h=rE(i,c,s),f=s[11],x=function ct(i,s,a){return Lt(i,s,a)}(c.parent||s[6],c,s);if(null!=h)if(Array.isArray(a))for(let b=0;b<a.length;b++)Lc(f,h,a[b],x,!1);else Lc(f,h,a,x,!1)}function jp(i,s){if(null!==s){const a=s.type;if(3&a)return Kr(s,i);if(4&a)return v_(-1,i[s.index]);if(8&a){const c=s.child;if(null!==c)return jp(i,c);{const h=i[s.index];return di(h)?v_(-1,h):Gn(h)}}if(32&a)return kp(s,i)()||Gn(i[s.index]);{const c=$p(i,s);return null!==c?Array.isArray(c)?c[0]:jp(Rh(i[16]),c):jp(i,s.next)}}return null}function $p(i,s){return null!==s?i[16][6].projection[s.projection]:null}function v_(i,s){const a=10+i+1;if(a<s.length){const c=s[a],h=c[1].firstChild;if(null!==h)return jp(c,h)}return s[7]}function x_(i,s,a,c,h,f,_){for(;null!=a;){const x=c[a.index],b=a.type;if(_&&0===s&&(x&&Fr(Gn(x),c),a.flags|=4),64!=(64&a.flags))if(8&b)x_(i,s,a.child,c,h,f,!1),ql(s,i,h,x,f);else if(32&b){const T=kp(a,c);let M;for(;M=T();)ql(s,i,h,M,f);ql(s,i,h,x,f)}else 16&b?Lr(i,s,c,a,h,f):ql(s,i,h,x,f);a=_?a.projectionNext:a.next}}function gr(i,s,a,c,h,f){x_(a,c,i.firstChild,s,h,f,!1)}function Lr(i,s,a,c,h,f){const _=a[16],b=_[6].projection[c.projection];if(Array.isArray(b))for(let T=0;T<b.length;T++)ql(s,i,h,b[T],f);else x_(i,s,b,_[3],h,f,!0)}function Wv(i,s,a){i.setAttribute(s,"style",a)}function Zp(i,s,a){""===a?i.removeAttribute(s,"class"):i.setAttribute(s,"class",a)}function w_(i,s,a){let c=i.length;for(;;){const h=i.indexOf(s,a);if(-1===h)return h;if(0===h||i.charCodeAt(h-1)<=32){const f=s.length;if(h+f===c||i.charCodeAt(h+f)<=32)return h}a=h+1}}const b_="ng-template";function I_(i,s,a){let c=0;for(;c<i.length;){let h=i[c++];if(a&&"class"===h){if(h=i[c],-1!==w_(h.toLowerCase(),s,0))return!0}else if(1===h){for(;c<i.length&&"string"==typeof(h=i[c++]);)if(h.toLowerCase()===s)return!0;return!1}}return!1}function Ph(i){return 4===i.type&&i.value!==b_}function Kv(i,s,a){return s===(4!==i.type||a?i.value:b_)}function xi(i,s,a){let c=4;const h=i.attrs||[],f=function D_(i){for(let s=0;s<i.length;s++)if(yc(i[s]))return s;return i.length}(h);let _=!1;for(let x=0;x<s.length;x++){const b=s[x];if("number"!=typeof b){if(!_)if(4&c){if(c=2|1&c,""!==b&&!Kv(i,b,a)||""===b&&1===s.length){if(us(c))return!1;_=!0}}else{const T=8&c?b:s[++x];if(8&c&&null!==i.attrs){if(!I_(i.attrs,T,a)){if(us(c))return!1;_=!0}continue}const N=wi(8&c?"class":b,h,Ph(i),a);if(-1===N){if(us(c))return!1;_=!0;continue}if(""!==T){let G;G=N>f?"":h[N+1].toLowerCase();const ne=8&c?G:null;if(ne&&-1!==w_(ne,T,0)||2&c&&T!==G){if(us(c))return!1;_=!0}}}}else{if(!_&&!us(c)&&!us(b))return!1;if(_&&us(b))continue;_=!1,c=b|1&c}}return us(c)||_}function us(i){return 0==(1&i)}function wi(i,s,a,c){if(null===s)return-1;let h=0;if(c||!a){let f=!1;for(;h<s.length;){const _=s[h];if(_===i)return h;if(3===_||6===_)f=!0;else{if(1===_||2===_){let x=s[++h];for(;"string"==typeof x;)x=s[++h];continue}if(4===_)break;if(0===_){h+=4;continue}}h+=f?1:2}return-1}return function Qv(i,s){let a=i.indexOf(4);if(a>-1)for(a++;a<i.length;){const c=i[a];if("number"==typeof c)return-1;if(c===s)return a;a++}return-1}(s,i)}function E_(i,s,a=!1){for(let c=0;c<s.length;c++)if(xi(i,s[c],a))return!0;return!1}function T_(i,s){return i?":not("+s.trim()+")":s}function C_(i){let s=i[0],a=1,c=2,h="",f=!1;for(;a<i.length;){let _=i[a];if("string"==typeof _)if(2&c){const x=i[++a];h+="["+_+(x.length>0?'="'+x+'"':"")+"]"}else 8&c?h+="."+_:4&c&&(h+=" "+_);else""!==h&&!us(_)&&(s+=T_(f,h),h=""),c=_,f=f||!us(c);a++}return""!==h&&(s+=T_(f,h)),s}const Rt={};function A_(i){qp(Zt(),Ce(),Wn()+i,!1)}function qp(i,s,a,c){if(!c)if(3==(3&s[2])){const f=i.preOrderCheckHooks;null!==f&&uh(s,f,a)}else{const f=i.preOrderHooks;null!==f&&ch(s,f,0,a)}Pi(a)}function Gp(i,s=null,a=null,c){const h=P_(i,s,a,c);return h.resolveInjectorInitializers(),h}function P_(i,s=null,a=null,c,h=new Set){const f=[a||Vt,DI(i)];return c=c||("object"==typeof i?void 0:de(i)),new CI(f,s||Ep(),c||null,h)}let Uc=(()=>{class i{static create(a,c){if(Array.isArray(a))return Gp({name:""},c,a,"");{const h=a.name??"";return Gp({name:h},a.parent,a.providers,h)}}}return i.THROW_IF_NOT_FOUND=Pa,i.NULL=new yv,i.\u0275prov=rn({token:i,providedIn:"any",factory:()=>kn(Hm)}),i.__NG_ELEMENT_ID__=-1,i})();function Wl(i,s=ht.Default){const a=Ce();return null===a?kn(i,s):Ta(Un(),a,X(i),s)}function ix(){throw new Error("invalid")}function Ou(i,s){const a=i.contentQueries;if(null!==a)for(let c=0;c<a.length;c+=2){const h=a[c],f=a[c+1];if(-1!==f){const _=i.data[f];fc(h),_.contentQueries(2,s[f],f)}}}function td(i,s,a,c,h,f,_,x,b,T,M){const N=s.blueprint.slice();return N[0]=h,N[2]=76|c,(null!==M||i&&1024&i[2])&&(N[2]|=1024),Ts(N),N[3]=N[15]=i,N[8]=a,N[10]=_||i&&i[10],N[11]=x||i&&i[11],N[12]=b||i&&i[12]||null,N[9]=T||i&&i[9]||null,N[6]=f,N[20]=function Pv(){return a_++}(),N[21]=M,N[16]=2==s.type?i[16]:N,N}function ho(i,s,a,c,h){let f=i.data[s];if(null===f)f=function zh(i,s,a,c,h){const f=eo(),_=cc(),b=i.data[s]=function Yh(i,s,a,c,h,f){return{type:a,index:c,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:f,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,_?f:f&&f.parent,a,s,c,h);return null===i.firstChild&&(i.firstChild=b),null!==f&&(_?null==f.child&&null!==b.parent&&(f.child=b):null===f.next&&(f.next=b)),b}(i,s,a,c,h),function rh(){return bt.lFrame.inI18n}()&&(f.flags|=64);else if(64&f.type){f.type=a,f.value=c,f.attrs=h;const _=function Ro(){const i=bt.lFrame,s=i.currentTNode;return i.isParent?s:s.parent}();f.injectorIndex=null===_?-1:_.injectorIndex}return Rr(f,!0),f}function Fs(i,s,a,c){if(0===a)return-1;const h=s.length;for(let f=0;f<a;f++)s.push(c),i.blueprint.push(c),i.data.push(null);return h}function Gh(i,s,a){ko(s);try{const c=i.viewQuery;null!==c&&hg(1,c,a);const h=i.template;null!==h&&Xo(i,s,h,1,a),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&Ou(i,s),i.staticViewQueries&&hg(2,i.viewQuery,a);const f=i.components;null!==f&&function IE(i,s){for(let a=0;a<s.length;a++)ef(i,s[a])}(s,f)}catch(c){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),c}finally{s[2]&=-5,pu()}}function Wh(i,s,a,c){const h=s[2];if(128!=(128&h)){ko(s);try{Ts(s),function lc(i){return bt.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==a&&Xo(i,s,a,2,c);const _=3==(3&h);if(_){const T=i.preOrderCheckHooks;null!==T&&uh(s,T,null)}else{const T=i.preOrderHooks;null!==T&&ch(s,T,0,null),va(s,0)}if(function cg(i){for(let s=f_(i);null!==s;s=p_(s)){if(!s[2])continue;const a=s[9];for(let c=0;c<a.length;c++){const h=a[c],f=h[3];0==(512&h[2])&&Xs(f,1),h[2]|=512}}}(s),function Xh(i){for(let s=f_(i);null!==s;s=p_(s))for(let a=10;a<s.length;a++){const c=s[a],h=c[1];Si(c)&&Wh(h,c,h.template,c[8])}}(s),null!==i.contentQueries&&Ou(i,s),_){const T=i.contentCheckHooks;null!==T&&uh(s,T)}else{const T=i.contentHooks;null!==T&&ch(s,T,1),va(s,1)}!function qh(i,s){const a=i.hostBindingOpCodes;if(null!==a)try{for(let c=0;c<a.length;c++){const h=a[c];if(h<0)Pi(~h);else{const f=h,_=a[++c],x=a[++c];hu(_,f),x(2,s[f])}}}finally{Pi(-1)}}(i,s);const x=i.components;null!==x&&function K_(i,s){for(let a=0;a<s.length;a++)X_(i,s[a])}(s,x);const b=i.viewQuery;if(null!==b&&hg(2,b,c),_){const T=i.viewCheckHooks;null!==T&&uh(s,T)}else{const T=i.viewHooks;null!==T&&ch(s,T,2),va(s,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),s[2]&=-41,512&s[2]&&(s[2]&=-513,Xs(s[3],-1))}finally{pu()}}}function jc(i,s,a,c){const h=s[10],_=Js(s);try{!_&&h.begin&&h.begin(),_&&Gh(i,s,c),Wh(i,s,a,c)}finally{!_&&h.end&&h.end()}}function Xo(i,s,a,c,h){const f=Wn(),_=2&c;try{Pi(-1),_&&s.length>22&&qp(i,s,22,!1),a(c,h)}finally{Pi(f)}}function nd(i,s,a){!Co()||(function sd(i,s,a,c){const h=a.directiveStart,f=a.directiveEnd;i.firstCreatePass||Kn(a,s),Fr(c,s);const _=a.initialInputs;for(let x=h;x<f;x++){const b=i.data[x],T=Ai(b);T&&wx(s,a,b);const M=es(s,i,x,a);Fr(M,s),null!==_&&AE(0,x-h,M,b,0,_),T&&(yr(a.index,s)[8]=M)}}(i,s,a,Kr(a,s)),128==(128&a.flags)&&function CE(i,s,a){const c=a.directiveStart,h=a.directiveEnd,f=a.index,_=function hc(){return bt.lFrame.currentDirectiveIndex}();try{Pi(f);for(let x=c;x<h;x++){const b=i.data[x],T=s[x];ga(x),(null!==b.hostBindings||0!==b.hostVars||null!==b.hostAttrs)&&mx(b,T)}}finally{Pi(-1),ga(_)}}(i,s,a))}function rd(i,s,a=Kr){const c=s.localNames;if(null!==c){let h=s.index+1;for(let f=0;f<c.length;f+=2){const _=c[f+1],x=-1===_?a(s,i):i[_];i[h++]=x}}}function Y_(i){const s=i.tView;return null===s||s.incompleteFirstPass?i.tView=An(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):s}function An(i,s,a,c,h,f,_,x,b,T){const M=22+c,N=M+h,G=function ig(i,s){const a=[];for(let c=0;c<s;c++)a.push(c<i?null:Rt);return a}(M,N),ne="function"==typeof T?T():T;return G[1]={type:i,blueprint:G,template:a,queries:null,viewQuery:x,declTNode:s,data:G.slice().fill(null,M),bindingStartIndex:M,expandoStartIndex:N,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof f?f():f,pipeRegistry:"function"==typeof _?_():_,firstChild:null,schemas:b,consts:ne,incompleteFirstPass:!1}}function id(i,s,a,c){const h=t0(s);null===a?h.push(c):(h.push(a),i.firstCreatePass&&ea(i).push(c,h.length-1))}function fx(i,s,a){for(let c in i)if(i.hasOwnProperty(c)){const h=i[c];(a=null===a?{}:a).hasOwnProperty(c)?a[c].push(s,h):a[c]=[s,h]}return a}function Q_(i,s){const c=s.directiveEnd,h=i.data,f=s.attrs,_=[];let x=null,b=null;for(let T=s.directiveStart;T<c;T++){const M=h[T],N=M.inputs,G=null===f||Ph(s)?null:SE(N,f);_.push(G),x=fx(N,T,x),b=fx(M.outputs,T,b)}null!==x&&(x.hasOwnProperty("class")&&(s.flags|=16),x.hasOwnProperty("style")&&(s.flags|=32)),s.initialInputs=_,s.inputs=x,s.outputs=b}function cs(i,s,a,c,h,f,_,x){const b=Kr(s,a);let M,T=s.inputs;!x&&null!=T&&(M=T[c])?(nf(i,a,M,c,h),ua(s)&&px(a,s.index)):3&s.type&&(c=function DE(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(c),h=null!=_?_(h,s.value||"",c):h,f.setProperty(b,c,h))}function px(i,s){const a=yr(s,i);16&a[2]||(a[2]|=32)}function og(i,s,a,c){let h=!1;if(Co()){const f=function _x(i,s,a){const c=i.directiveRegistry;let h=null;if(c)for(let f=0;f<c.length;f++){const _=c[f];E_(a,_.selectors,!1)&&(h||(h=[]),_u(Kn(a,s),i,_.type),Ai(_)?(yx(i,a),h.unshift(_)):h.push(_))}return h}(i,s,a),_=null===c?null:{"":-1};if(null!==f){h=!0,ag(a,i.data.length,f.length);for(let M=0;M<f.length;M++){const N=f[M];N.providersResolver&&N.providersResolver(N)}let x=!1,b=!1,T=Fs(i,s,f.length,null);for(let M=0;M<f.length;M++){const N=f[M];a.mergedAttrs=Bo(a.mergedAttrs,N.hostAttrs),ug(i,a,s,T,N),xx(T,N,_),null!==N.contentQueries&&(a.flags|=8),(null!==N.hostBindings||null!==N.hostAttrs||0!==N.hostVars)&&(a.flags|=128);const G=N.type.prototype;!x&&(G.ngOnChanges||G.ngOnInit||G.ngDoCheck)&&((i.preOrderHooks||(i.preOrderHooks=[])).push(a.index),x=!0),!b&&(G.ngOnChanges||G.ngDoCheck)&&((i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(a.index),b=!0),T++}Q_(i,a)}_&&function vx(i,s,a){if(s){const c=i.localNames=[];for(let h=0;h<s.length;h+=2){const f=a[s[h+1]];if(null==f)throw new be(-301,!1);c.push(s[h],f)}}}(a,c,_)}return a.mergedAttrs=Bo(a.mergedAttrs,a.attrs),h}function J_(i,s,a,c,h,f){const _=f.hostBindings;if(_){let x=i.hostBindingOpCodes;null===x&&(x=i.hostBindingOpCodes=[]);const b=~s.index;(function gx(i){let s=i.length;for(;s>0;){const a=i[--s];if("number"==typeof a&&a<0)return a}return 0})(x)!=b&&x.push(b),x.push(c,h,_)}}function mx(i,s){null!==i.hostBindings&&i.hostBindings(1,s)}function yx(i,s){s.flags|=2,(i.components||(i.components=[])).push(s.index)}function xx(i,s,a){if(a){if(s.exportAs)for(let c=0;c<s.exportAs.length;c++)a[s.exportAs[c]]=i;Ai(s)&&(a[""]=i)}}function ag(i,s,a){i.flags|=1,i.directiveStart=s,i.directiveEnd=s+a,i.providerIndexes=s}function ug(i,s,a,c,h){i.data[c]=h;const f=h.factory||(h.factory=Do(h.type)),_=new Lo(f,Ai(h),Wl);i.blueprint[c]=_,a[c]=_,J_(i,s,0,c,Fs(i,a,h.hostVars,Rt),h)}function wx(i,s,a){const c=Kr(s,i),h=Y_(a),f=i[10],_=dg(i,td(i,h,null,a.onPush?32:16,c,s,f,f.createRenderer(c,a),null,null,null));i[s.index]=_}function fo(i,s,a,c,h,f){const _=Kr(i,s);!function Qh(i,s,a,c,h,f,_){if(null==f)i.removeAttribute(s,h,a);else{const x=null==_?xe(f):_(f,c||"",h);i.setAttribute(s,h,x,a)}}(s[11],_,f,i.value,a,c,h)}function AE(i,s,a,c,h,f){const _=f[s];if(null!==_){const x=c.setInput;for(let b=0;b<_.length;){const T=_[b++],M=_[b++],N=_[b++];null!==x?c.setInput(a,N,T,M):a[M]=N}}}function SE(i,s){let a=null,c=0;for(;c<s.length;){const h=s[c];if(0!==h)if(5!==h){if("number"==typeof h)break;i.hasOwnProperty(h)&&(null===a&&(a=[]),a.push(h,i[h],s[c+1])),c+=2}else c+=2;else c+=4}return a}function Jh(i,s,a,c){return new Array(i,!0,!1,s,null,0,c,a,null,null)}function X_(i,s){const a=yr(s,i);if(Si(a)){const c=a[1];48&a[2]?Wh(c,a,c.template,a[8]):a[5]>0&&lg(a)}}function lg(i){for(let c=f_(i);null!==c;c=p_(c))for(let h=10;h<c.length;h++){const f=c[h];if(Si(f))if(512&f[2]){const _=f[1];Wh(_,f,_.template,f[8])}else f[5]>0&&lg(f)}const a=i[1].components;if(null!==a)for(let c=0;c<a.length;c++){const h=yr(a[c],i);Si(h)&&h[5]>0&&lg(h)}}function ef(i,s){const a=yr(s,i),c=a[1];(function tf(i,s){for(let a=s.length;a<i.blueprint.length;a++)s.push(i.blueprint[a])})(c,a),Gh(c,a,a[8])}function dg(i,s){return i[13]?i[14][4]=s:i[13]=s,i[14]=s,s}function rr(i){for(;i;){i[2]|=32;const s=Rh(i);if(ml(i)&&!s)return i;i=s}return null}function Ex(i){!function Ix(i){for(let s=0;s<i.components.length;s++){const a=i.components[s],c=c_(a);if(null!==c){const h=c[1];jc(h,c,h.template,a)}}}(i[8])}function hg(i,s,a){fc(0),s(i,a)}const fg=(()=>Promise.resolve(null))();function t0(i){return i[7]||(i[7]=[])}function ea(i){return i.cleanup||(i.cleanup=[])}function Dx(i,s){const a=i[9],c=a?a.get(Hl,null):null;c&&c.handleError(s)}function nf(i,s,a,c,h){for(let f=0;f<a.length;){const _=a[f++],x=a[f++],b=s[_],T=i.data[_];null!==T.setInput?T.setInput(b,h,c,x):b[x]=h}}function ls(i,s,a){const c=function ha(i,s){return Gn(s[i])}(s,i);!function zv(i,s,a){i.setValue(s,a)}(i[11],c,a)}function rf(i,s,a){let c=a?i.styles:null,h=a?i.classes:null,f=0;if(null!==s)for(let _=0;_<s.length;_++){const x=s[_];"number"==typeof x?f=x:1==f?h=ve(h,x):2==f&&(c=ve(c,x+": "+s[++_]+";"))}a?i.styles=c:i.stylesWithoutHost=c,a?i.classes=h:i.classesWithoutHost=h}function od(i,s,a,c,h=!1){for(;null!==a;){const f=s[a.index];if(null!==f&&c.push(Gn(f)),di(f))for(let x=10;x<f.length;x++){const b=f[x],T=b[1].firstChild;null!==T&&od(b[1],b,T,c)}const _=a.type;if(8&_)od(i,s,a.child,c);else if(32&_){const x=kp(a,s);let b;for(;b=x();)c.push(b)}else if(16&_){const x=$p(s,a);if(Array.isArray(x))c.push(...x);else{const b=Rh(s[16]);od(b[1],b,x,c,!0)}}a=h?a.projectionNext:a.next}return c}class Nu{constructor(s,a){this._lView=s,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const s=this._lView,a=s[1];return od(a,s,a.firstChild,[])}get context(){return this._lView[8]}set context(s){this._lView[8]=s}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[3];if(di(s)){const a=s[8],c=a?a.indexOf(this):-1;c>-1&&(Jt(s,c),bu(a,c))}this._attachedToViewContainer=!1}Lp(this._lView[1],this._lView)}onDestroy(s){id(this._lView[1],this._lView,null,s)}markForCheck(){rr(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){!function e0(i,s,a){const c=s[10];c.begin&&c.begin();try{Wh(i,s,i.template,a)}catch(h){throw Dx(s,h),h}finally{c.end&&c.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new be(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function XI(i,s){gr(i,s,s[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new be(902,!1);this._appRef=s}}class Tx extends Nu{constructor(s){super(s),this._view=s}detectChanges(){Ex(this._view)}checkNoChanges(){}get context(){return null}}class sf extends $l{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const a=W(s);return new Za(a,this.ngModule)}}function af(i){const s=[];for(let a in i)i.hasOwnProperty(a)&&s.push({propName:i[a],templateName:a});return s}class Cx{constructor(s,a){this.injector=s,this.parentInjector=a}get(s,a,c){const h=this.injector.get(s,Cp,c);return h!==Cp||a===Cp?h:this.parentInjector.get(s,a,c)}}class Za extends wv{constructor(s,a){super(),this.componentDef=s,this.ngModule=a,this.componentType=s.type,this.selector=function sE(i){return i.map(C_).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!a}get inputs(){return af(this.componentDef.inputs)}get outputs(){return af(this.componentDef.outputs)}create(s,a,c,h){let f=(h=h||this.ngModule)instanceof kc?h:h?.injector;f&&null!==this.componentDef.getStandaloneInjector&&(f=this.componentDef.getStandaloneInjector(f)||f);const _=f?new Cx(s,f):s,x=_.get(bv,null);if(null===x)throw new be(407,!1);const b=_.get(Ev,null),T=x.createRenderer(null,this.componentDef),M=this.componentDef.selectors[0][0]||"div",N=c?function EE(i,s,a){return i.selectRootElement(s,a===st.ShadowDom)}(T,c,this.componentDef.encapsulation):Fp(x.createRenderer(null,this.componentDef),M,function PE(i){const s=i.toLowerCase();return"svg"===s?"svg":"math"===s?"math":null}(M)),G=this.componentDef.onPush?288:272,ne=function Rx(i,s){return{components:[],scheduler:i||GI,clean:fg,playerHandler:s||null,flags:0}}(),Ee=An(0,null,null,1,0,null,null,null,null,null),je=td(null,Ee,ne,G,null,null,x,T,b,_,null);let et,at;ko(je);try{const Ke=function Mx(i,s,a,c,h,f){const _=a[1];a[22]=i;const b=ho(_,22,2,"#host",null),T=b.mergedAttrs=s.hostAttrs;null!==T&&(rf(b,T,!0),null!==i&&(xa(h,i,T),null!==b.classes&&Zp(h,i,b.classes),null!==b.styles&&Wv(h,i,b.styles)));const M=c.createRenderer(i,s),N=td(a,Y_(s),null,s.onPush?32:16,a[22],b,c,M,f||null,null,null);return _.firstCreatePass&&(_u(Kn(b,a),_,s.type),yx(_,b),ag(b,a.length,1)),dg(a,N),a[22]=N}(N,this.componentDef,je,x,T);if(N)if(c)xa(T,N,["ng-version",Sh.full]);else{const{attrs:Le,classes:yt}=function oE(i){const s=[],a=[];let c=1,h=2;for(;c<i.length;){let f=i[c];if("string"==typeof f)2===h?""!==f&&s.push(f,i[++c]):8===h&&a.push(f);else{if(!us(h))break;h=f}c++}return{attrs:s,classes:a}}(this.componentDef.selectors[0]);Le&&xa(T,N,Le),yt&&yt.length>0&&Zp(T,N,yt.join(" "))}if(at=Qs(Ee,22),void 0!==a){const Le=at.projection=[];for(let yt=0;yt<this.ngContentSelectors.length;yt++){const Qt=a[yt];Le.push(null!=Qt?Array.from(Qt):null)}}et=function pg(i,s,a,c,h){const f=a[1],_=function ku(i,s,a){const c=Un();i.firstCreatePass&&(a.providersResolver&&a.providersResolver(a),ug(i,c,s,Fs(i,s,1,null),a),Q_(i,c));const h=es(s,i,c.directiveStart,c);Fr(h,s);const f=Kr(c,s);return f&&Fr(f,s),h}(f,a,s);if(c.components.push(_),i[8]=_,null!==h)for(const b of h)b(_,s);if(s.contentQueries){const b=Un();s.contentQueries(1,_,b.directiveStart)}const x=Un();return!f.firstCreatePass||null===s.hostBindings&&null===s.hostAttrs||(Pi(x.index),J_(a[1],x,0,x.directiveStart,x.directiveEnd,s),mx(s,_)),_}(Ke,this.componentDef,je,ne,[Px]),Gh(Ee,je,null)}finally{pu()}return new r0(this.componentType,et,Ba(at,je),je,at)}}class r0 extends class PI{}{constructor(s,a,c,h,f){super(),this.location=c,this._rootLView=h,this._tNode=f,this.instance=a,this.hostView=this.changeDetectorRef=new Tx(h),this.componentType=s}setInput(s,a){const c=this._tNode.inputs;let h;if(null!==c&&(h=c[s])){const f=this._rootLView;nf(f[1],f,h,s,a),px(f,this._tNode.index)}}get injector(){return new vn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}function Px(){const i=Un();mc(Ce()[1],i)}let _g=null;function qa(){if(!_g){const i=rt.Symbol;if(i&&i.iterator)_g=i.iterator;else{const s=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<s.length;++a){const c=s[a];"entries"!==c&&"size"!==c&&Map.prototype[c]===Map.prototype.entries&&(_g=c)}}}return _g}function uf(i){return!!cd(i)&&(Array.isArray(i)||!(i instanceof Map)&&qa()in i)}function cd(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function mr(i,s,a){return!Object.is(i[s],a)&&(i[s]=a,!0)}function Be(i,s,a,c){const h=Ce();return mr(h,no(),s)&&(Zt(),fo(gn(),h,i,s,a,c)),Be}function Us(i,s,a,c){return mr(i,no(),a)?s+xe(a)+c:Rt}function Ut(i,s,a,c,h,f,_,x){const b=Ce(),T=Zt(),M=i+22,N=T.firstCreatePass?function Hx(i,s,a,c,h,f,_,x,b){const T=s.consts,M=ho(s,i,4,_||null,Mi(T,x));og(s,a,M,Mi(T,b)),mc(s,M);const N=M.tViews=An(2,M,c,h,f,s.directiveRegistry,s.pipeRegistry,null,s.schemas,T);return null!==s.queries&&(s.queries.template(s,M),N.queries=s.queries.embeddedTView(M)),M}(M,T,b,s,a,c,h,f,_):T.data[M];Rr(N,!1);const G=b[11].createComment("");Su(T,b,G,N),Fr(G,b),dg(b,b[M]=Jh(G,b,G,N)),zs(N)&&nd(T,b,N),null!=_&&rd(b,N,x)}function Mn(i,s,a){const c=Ce();return mr(c,no(),s)&&cs(Zt(),gn(),c,i,s,c[11],a,!1),Mn}function St(i,s,a,c,h){const _=h?"class":"style";nf(i,a,s.inputs[_],_,c)}function nn(i,s,a,c){const h=Ce(),f=Zt(),_=22+i,x=h[11],b=h[_]=Fp(x,s,function Tl(){return bt.lFrame.currentNamespace}()),T=f.firstCreatePass?function cf(i,s,a,c,h,f,_){const x=s.consts,T=ho(s,i,2,h,Mi(x,f));return og(s,a,T,Mi(x,_)),null!==T.attrs&&rf(T,T.attrs,!1),null!==T.mergedAttrs&&rf(T,T.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,T),T}(_,f,h,0,s,a,c):f.data[_];Rr(T,!0);const M=T.mergedAttrs;null!==M&&xa(x,b,M);const N=T.classes;null!==N&&Zp(x,b,N);const G=T.styles;return null!==G&&Wv(x,b,G),64!=(64&T.flags)&&Su(f,h,b,T),0===function fa(){return bt.lFrame.elementDepthCount}()&&Fr(b,h),function Il(){bt.lFrame.elementDepthCount++}(),zs(T)&&(nd(f,h,T),function Kh(i,s,a){if(Is(s)){const h=s.directiveEnd;for(let f=s.directiveStart;f<h;f++){const _=i.data[f];_.contentQueries&&_.contentQueries(1,a[f],f)}}}(f,T,h)),null!==c&&rd(h,T),nn}function yg(){let i=Un();cc()?function to(){bt.lFrame.isParent=!1}():(i=i.parent,Rr(i,!1));const s=i;!function Cs(){bt.lFrame.elementDepthCount--}();const a=Zt();return a.firstCreatePass&&(mc(a,i),Is(i)&&a.queries.elementEnd(i)),null!=s.classesWithoutHost&&function hr(i){return 0!=(16&i.flags)}(s)&&St(a,s,Ce(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function lh(i){return 0!=(32&i.flags)}(s)&&St(a,s,Ce(),s.stylesWithoutHost,!1),yg}function jn(i,s,a,c){return nn(i,s,a,c),yg(),jn}function pd(i){return!!i&&"function"==typeof i.then}function qx(i){return!!i&&"function"==typeof i.subscribe}const gd=qx;function vg(i,s,a,c){const h=Ce(),f=Zt(),_=Un();return function xg(i,s,a,c,h,f,_,x){const b=zs(c),M=i.firstCreatePass&&ea(i),N=s[8],G=t0(s);let ne=!0;if(3&c.type||x){const et=Kr(c,s),at=x?x(et):et,Ke=G.length,Le=x?Qt=>x(Gn(Qt[c.index])):c.index;let yt=null;if(!x&&b&&(yt=function hs(i,s,a,c){const h=i.cleanup;if(null!=h)for(let f=0;f<h.length-1;f+=2){const _=h[f];if(_===a&&h[f+1]===c){const x=s[7],b=h[f+2];return x.length>b?x[b]:null}"string"==typeof _&&(f+=2)}return null}(i,s,h,c.index)),null!==yt)(yt.__ngLastListenerFn__||yt).__ngNextListenerFn__=f,yt.__ngLastListenerFn__=f,ne=!1;else{f=d0(c,s,N,f,!1);const Qt=a.listen(at,h,f);G.push(f,Qt),M&&M.push(h,Le,Ke,Ke+1)}}else f=d0(c,s,N,f,!1);const Ee=c.outputs;let je;if(ne&&null!==Ee&&(je=Ee[h])){const et=je.length;if(et)for(let at=0;at<et;at+=2){const Nn=s[je[at]][je[at+1]].subscribe(f),mn=G.length;G.push(f,Nn),M&&M.push(h,c.index,mn,-(mn+1))}}}(f,h,h[11],_,i,s,0,c),vg}function l0(i,s,a,c){try{return!1!==a(c)}catch(h){return Dx(i,h),!1}}function d0(i,s,a,c,h){return function f(_){if(_===Function)return c;rr(2&i.flags?yr(i.index,s):s);let b=l0(s,0,c,_),T=f.__ngNextListenerFn__;for(;T;)b=l0(s,0,T,_)&&b,T=T.__ngNextListenerFn__;return h&&!1===b&&(_.preventDefault(),_.returnValue=!1),b}}function fs(i,s,a){return f0(i,"",s,"",a),fs}function f0(i,s,a,c,h){const f=Ce(),_=Us(f,s,a,c);return _!==Rt&&cs(Zt(),gn(),f,i,_,f[11],h,!1),f0}function x0(i,s=""){const a=Ce(),c=Zt(),h=i+22,f=c.firstCreatePass?ho(c,h,1,s,null):c.data[h],_=a[h]=function Np(i,s){return i.createText(s)}(a[11],s);Su(c,a,_,f),Rr(f,!1)}function Eg(i){return Cr("",i,""),Eg}function Cr(i,s,a){const c=Ce(),h=Us(c,i,s,a);return h!==Rt&&ls(c,Wn(),h),Cr}const Ka=void 0;var lw=["en",[["a","p"],["AM","PM"],Ka],[["AM","PM"],Ka,Ka],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ka,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ka,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ka,"{1} 'at' {0}",Ka],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function T0(i){const a=Math.floor(Math.abs(i)),c=i.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===c?1:5}];let Gc={};function Sg(i){const s=function dw(i){return i.toLowerCase().replace(/_/g,"-")}(i);let a=_f(s);if(a)return a;const c=s.split("-")[0];if(a=_f(c),a)return a;if("en"===c)return lw;throw new be(701,!1)}function C0(i){return Sg(i)[Tt.PluralCase]}function _f(i){return i in Gc||(Gc[i]=rt.ng&&rt.ng.common&&rt.ng.common.locales&&rt.ng.common.locales[i]),Gc[i]}var Tt=(()=>((Tt=Tt||{})[Tt.LocaleId=0]="LocaleId",Tt[Tt.DayPeriodsFormat=1]="DayPeriodsFormat",Tt[Tt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Tt[Tt.DaysFormat=3]="DaysFormat",Tt[Tt.DaysStandalone=4]="DaysStandalone",Tt[Tt.MonthsFormat=5]="MonthsFormat",Tt[Tt.MonthsStandalone=6]="MonthsStandalone",Tt[Tt.Eras=7]="Eras",Tt[Tt.FirstDayOfWeek=8]="FirstDayOfWeek",Tt[Tt.WeekendRange=9]="WeekendRange",Tt[Tt.DateFormat=10]="DateFormat",Tt[Tt.TimeFormat=11]="TimeFormat",Tt[Tt.DateTimeFormat=12]="DateTimeFormat",Tt[Tt.NumberSymbols=13]="NumberSymbols",Tt[Tt.NumberFormats=14]="NumberFormats",Tt[Tt.CurrencyCode=15]="CurrencyCode",Tt[Tt.CurrencySymbol=16]="CurrencySymbol",Tt[Tt.CurrencyName=17]="CurrencyName",Tt[Tt.Currencies=18]="Currencies",Tt[Tt.Directionality=19]="Directionality",Tt[Tt.PluralCase=20]="PluralCase",Tt[Tt.ExtraData=21]="ExtraData",Tt))();const Kc="en-US";let Dd=Kc;class Pd{}class Lw{}function pD(i,s){return new Uw(i,s??null)}class Uw extends Pd{constructor(s,a){super(),this._parent=a,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new sf(this);const c=we(s);this._bootstrapComponents=ja(c.bootstrap),this._r3Injector=P_(s,a,[{provide:Pd,useValue:this},{provide:$l,useValue:this.componentFactoryResolver}],de(s),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(s)}get injector(){return this._r3Injector}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class F0 extends Lw{constructor(s){super(),this.moduleType=s}create(s){return new Uw(this.moduleType,s)}}class gD extends Pd{constructor(s,a,c){super(),this.componentFactoryResolver=new sf(this),this.instance=null;const h=new CI([...s,{provide:Pd,useValue:this},{provide:$l,useValue:this.componentFactoryResolver}],a||Ep(),c,new Set(["environment"]));this.injector=h,h.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(s){this.injector.onDestroy(s)}}function L0(i,s,a=null){return new gD(i,s,a).injector}function Od(i,s,a,c,h,f){const _=s+a;return mr(i,_,h)?function po(i,s,a){return i[s]=a}(i,_+1,f?c.call(f,h):c(h)):function zu(i,s){const a=i[s];return a===Rt?void 0:a}(i,_+1)}function Kw(i,s){const a=Zt();let c;const h=i+22;a.firstCreatePass?(c=function bD(i,s){if(s)for(let a=s.length-1;a>=0;a--){const c=s[a];if(i===c.name)return c}}(s,a.pipeRegistry),a.data[h]=c,c.onDestroy&&(a.destroyHooks||(a.destroyHooks=[])).push(h,c.onDestroy)):c=a.data[h];const f=c.factory||(c.factory=Do(c.type)),_=sn(Wl);try{const x=Ia(!1),b=f();return Ia(x),function hd(i,s,a,c){a>=i.data.length&&(i.data[a]=null,i.blueprint[a]=null),s[a]=c}(a,Ce(),h,b),b}finally{sn(_)}}function Wu(i,s,a){const c=i+22,h=Ce(),f=function Ji(i,s){return i[s]}(h,c);return function sl(i,s){return i[1].data[s].pure}(h,c)?Od(h,function dr(){const i=bt.lFrame;let s=i.bindingRootIndex;return-1===s&&(s=i.bindingRootIndex=i.tView.bindingStartIndex),s}(),s,f.transform,a,f):f.transform(a)}function W0(i){return s=>{setTimeout(i,void 0,s)}}const mo=class Lg extends l.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,a,c){let h=s,f=a||(()=>null),_=c;if(s&&"object"==typeof s){const b=s;h=b.next?.bind(b),f=b.error?.bind(b),_=b.complete?.bind(b)}this.__isAsync&&(f=W0(f),h&&(h=W0(h)),_&&(_=W0(_)));const x=super.subscribe({next:h,error:f,complete:_});return s instanceof L.w0&&s.add(x),x}};function Mf(){return this._results[qa()]()}class kd{constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=qa(),c=kd.prototype;c[a]||(c[a]=Mf)}get changes(){return this._changes||(this._changes=new mo)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,a){return this._results.reduce(s,a)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,a){const c=this;c.dirty=!1;const h=Vn(s);(this._changesDetected=!function dp(i,s,a){if(i.length!==s.length)return!1;for(let c=0;c<i.length;c++){let h=i[c],f=s[c];if(a&&(h=a(h),f=a(f)),f!==h)return!1}return!0}(c._results,h,a))&&(c._results=h,c.length=h.length,c.last=h[this.length-1],c.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Xa=(()=>{class i{}return i.__NG_ELEMENT_ID__=zi,i})();const Qw=Xa,Jw=class extends Qw{constructor(s,a,c){super(),this._declarationLView=s,this._declarationTContainer=a,this.elementRef=c}createEmbeddedView(s,a){const c=this._declarationTContainer.tViews,h=td(this._declarationLView,c,s,16,null,c.declTNode,null,null,null,null,a||null);h[17]=this._declarationLView[this._declarationTContainer.index];const _=this._declarationLView[19];return null!==_&&(h[19]=_.createEmbeddedView(c)),Gh(c,h,s),new Nu(h)}};function zi(){return Rf(Un(),Ce())}function Rf(i,s){return 4&i.type?new Jw(s,i,Ba(i,s)):null}let ol=(()=>{class i{}return i.__NG_ELEMENT_ID__=Ug,i})();function Ug(){return Ku(Un(),Ce())}const Xw=ol,eu=class extends Xw{constructor(s,a,c){super(),this._lContainer=s,this._hostTNode=a,this._hostLView=c}get element(){return Ba(this._hostTNode,this._hostLView)}get injector(){return new vn(this._hostTNode,this._hostLView)}get parentInjector(){const s=oi(this._hostTNode,this._hostLView);if(fh(s)){const a=nr(s,this._hostLView),c=ba(s);return new vn(a[1].data[c+8],a)}return new vn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const a=al(this._lContainer);return null!==a&&a[s]||null}get length(){return this._lContainer.length-10}createEmbeddedView(s,a,c){let h,f;"number"==typeof c?h=c:null!=c&&(h=c.index,f=c.injector);const _=s.createEmbeddedView(a||{},f);return this.insert(_,h),_}createComponent(s,a,c,h,f){const _=s&&!function Qn(i){return"function"==typeof i}(s);let x;if(_)x=a;else{const N=a||{};x=N.index,c=N.injector,h=N.projectableNodes,f=N.environmentInjector||N.ngModuleRef}const b=_?s:new Za(W(s)),T=c||this.parentInjector;if(!f&&null==b.ngModule){const G=(_?T:this.parentInjector).get(kc,null);G&&(f=G)}const M=b.create(T,h,void 0,f);return this.insert(M.hostView,x),M}insert(s,a){const c=s._lView,h=c[1];if(function Ds(i){return di(i[3])}(c)){const M=this.indexOf(s);if(-1!==M)this.detach(M);else{const N=c[3],G=new eu(N,N[6],N[3]);G.detach(G.indexOf(s))}}const f=this._adjustIndex(a),_=this._lContainer;!function tE(i,s,a,c){const h=10+c,f=a.length;c>0&&(a[h-1][4]=s),c<f-10?(s[4]=a[h],Ca(a,10+c,s)):(a.push(s),s[4]=null),s[3]=a;const _=s[17];null!==_&&a!==_&&function xC(i,s){const a=i[9];s[16]!==s[3][3][16]&&(i[2]=!0),null===a?i[9]=[s]:a.push(s)}(_,s);const x=s[19];null!==x&&x.insertView(i),s[2]|=64}(h,c,_,f);const x=v_(f,_),b=c[11],T=Up(b,_[7]);return null!==T&&function g_(i,s,a,c,h,f){c[0]=h,c[6]=s,gr(i,c,a,1,h,f)}(h,_[6],b,c,T,x),s.attachToViewContainerRef(),Ca(Vg(_),f,s),s}move(s,a){return this.insert(s,a)}indexOf(s){const a=al(this._lContainer);return null!==a?a.indexOf(s):-1}remove(s){const a=this._adjustIndex(s,-1),c=Jt(this._lContainer,a);c&&(bu(Vg(this._lContainer),a),Lp(c[1],c))}detach(s){const a=this._adjustIndex(s,-1),c=Jt(this._lContainer,a);return c&&null!=bu(Vg(this._lContainer),a)?new Nu(c):null}_adjustIndex(s,a=0){return s??this.length+a}};function al(i){return i[8]}function Vg(i){return i[8]||(i[8]=[])}function Ku(i,s){let a;const c=s[i.index];if(di(c))a=c;else{let h;if(8&i.type)h=Gn(c);else{const f=s[11];h=f.createComment("");const _=Kr(i,s);_e(f,Up(f,_),h,function $a(i,s){return i.nextSibling(s)}(f,_),!1)}s[i.index]=a=Jh(c,s,h,i),dg(s,a)}return new eu(a,i,s)}class sa{constructor(s){this.queryList=s,this.matches=null}clone(){return new sa(this.queryList)}setDirty(){this.queryList.setDirty()}}class Bg{constructor(s=[]){this.queries=s}createEmbeddedView(s){const a=s.queries;if(null!==a){const c=null!==s.contentQueries?s.contentQueries[0]:a.length,h=[];for(let f=0;f<c;f++){const _=a.getByIndex(f);h.push(this.queries[_.indexInDeclarationView].clone())}return new Bg(h)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let a=0;a<this.queries.length;a++)null!==ib(s,a).matches&&this.queries[a].setDirty()}}class eb{constructor(s,a,c=null){this.predicate=s,this.flags=a,this.read=c}}class K0{constructor(s=[]){this.queries=s}elementStart(s,a){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(s,a)}elementEnd(s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(s)}embeddedTView(s){let a=null;for(let c=0;c<this.length;c++){const h=null!==a?a.length:0,f=this.getByIndex(c).embeddedTView(s,h);f&&(f.indexInDeclarationView=c,null!==a?a.push(f):a=[f])}return null!==a?new K0(a):null}template(s,a){for(let c=0;c<this.queries.length;c++)this.queries[c].template(s,a)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class Y0{constructor(s,a=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(s,a){this.isApplyingToNode(a)&&this.matchTNode(s,a)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,a){this.elementStart(s,a)}embeddedTView(s,a){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,a),new Y0(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let c=s.parent;for(;null!==c&&8&c.type&&c.index!==a;)c=c.parent;return a===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(s,a){const c=this.metadata.predicate;if(Array.isArray(c))for(let h=0;h<c.length;h++){const f=c[h];this.matchTNodeWithReadOption(s,a,CD(a,f)),this.matchTNodeWithReadOption(s,a,Dt(a,s,f,!1,!1))}else c===Xa?4&a.type&&this.matchTNodeWithReadOption(s,a,-1):this.matchTNodeWithReadOption(s,a,Dt(a,s,c,!1,!1))}matchTNodeWithReadOption(s,a,c){if(null!==c){const h=this.metadata.read;if(null!==h)if(h===Ch||h===ol||h===Xa&&4&a.type)this.addMatch(a.index,-2);else{const f=Dt(a,s,h,!1,!1);null!==f&&this.addMatch(a.index,f)}else this.addMatch(a.index,c)}}addMatch(s,a){null===this.matches?this.matches=[s,a]:this.matches.push(s,a)}}function CD(i,s){const a=i.localNames;if(null!==a)for(let c=0;c<a.length;c+=2)if(a[c]===s)return a[c+1];return null}function tb(i,s,a,c){return-1===a?function jg(i,s){return 11&i.type?Ba(i,s):4&i.type?Rf(i,s):null}(s,i):-2===a?function AD(i,s,a){return a===Ch?Ba(s,i):a===Xa?Rf(s,i):a===ol?Ku(s,i):void 0}(i,s,c):es(i,i[1],a,s)}function Q0(i,s,a,c){const h=s[19].queries[c];if(null===h.matches){const f=i.data,_=a.matches,x=[];for(let b=0;b<_.length;b+=2){const T=_[b];x.push(T<0?null:tb(s,f[T],_[b+1],a.metadata.read))}h.matches=x}return h.matches}function J0(i,s,a,c){const h=i.queries.getByIndex(a),f=h.matches;if(null!==f){const _=Q0(i,s,h,a);for(let x=0;x<f.length;x+=2){const b=f[x];if(b>0)c.push(_[x/2]);else{const T=f[x+1],M=s[-b];for(let N=10;N<M.length;N++){const G=M[N];G[17]===G[3]&&J0(G[1],G,T,c)}if(null!==M[9]){const N=M[9];for(let G=0;G<N.length;G++){const ne=N[G];J0(ne[1],ne,T,c)}}}}}return c}function X0(i){const s=Ce(),a=Zt(),c=Oo();fc(c+1);const h=ib(a,c);if(i.dirty&&Js(s)===(2==(2&h.metadata.flags))){if(null===h.matches)i.reset([]);else{const f=h.crossesNgTemplate?J0(a,s,c,[]):Q0(a,s,h,c);i.reset(f,kI),i.notifyOnChanges()}return!0}return!1}function Fd(i,s,a,c){const h=Zt();if(h.firstCreatePass){const f=Un();(function ty(i,s,a){null===i.queries&&(i.queries=new K0),i.queries.track(new Y0(s,a))})(h,new eb(s,a,c),f.index),function SD(i,s){const a=i.contentQueries||(i.contentQueries=[]);s!==(a.length?a[a.length-1]:-1)&&a.push(i.queries.length-1,s)}(h,i),2==(2&a)&&(h.staticContentQueries=!0)}!function rb(i,s,a){const c=new kd(4==(4&a));id(i,s,c,c.destroy),null===s[19]&&(s[19]=new Bg),s[19].queries.push(new sa(c))}(h,Ce(),a)}function ey(){return function nb(i,s){return i[19].queries[s].queryList}(Ce(),Oo())}function ib(i,s){return i.queries.getByIndex(s)}function Yu(i){const s=W(i)||Z(i)||B(i);return null!==s&&s.standalone}function Yg(...i){}const Jg=new mt("Application Initializer");let tu=(()=>{class i{constructor(a){this.appInits=a,this.resolve=Yg,this.reject=Yg,this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,h)=>{this.resolve=c,this.reject=h})}runInitializers(){if(this.initialized)return;const a=[],c=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const f=this.appInits[h]();if(pd(f))a.push(f);else if(gd(f)){const _=new Promise((x,b)=>{f.subscribe({complete:x,error:b})});a.push(_)}}Promise.all(a).then(()=>{c()}).catch(h=>{this.reject(h)}),0===a.length&&c(),this.initialized=!0}}return i.\u0275fac=function(a){return new(a||i)(kn(Jg,8))},i.\u0275prov=rn({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const Xg=new mt("AppId",{providedIn:"root",factory:function Lf(){return`${Uf()}${Uf()}${Uf()}`}});function Uf(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const my=new mt("Platform Initializer"),_y=new mt("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),tm=new mt("appBootstrapListener");let $D=(()=>{class i{log(a){console.log(a)}warn(a){console.warn(a)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=rn({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();const nm=new mt("LocaleId",{providedIn:"root",factory:()=>kl(nm,ht.Optional|ht.SkipSelf)||function yy(){return typeof $localize<"u"&&$localize.locale||Kc}()}),vy=new mt("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class wy{constructor(s,a){this.ngModuleFactory=s,this.componentFactories=a}}let mb=(()=>{class i{compileModuleSync(a){return new F0(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const c=this.compileModuleSync(a),f=ja(we(a).declarations).reduce((_,x)=>{const b=W(x);return b&&_.push(new Za(b)),_},[]);return new wy(c,f)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=rn({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const Iy=(()=>Promise.resolve(0))();function Ey(i){typeof Zone>"u"?Iy.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class ms{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new mo(!1),this.onMicrotaskEmpty=new mo(!1),this.onStable=new mo(!1),this.onError=new mo(!1),typeof Zone>"u")throw new be(908,!1);Zone.assertZonePatched();const h=this;if(h._nesting=0,h._outer=h._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const f=Zone.AsyncStackTaggingZoneSpec;h._inner=h._inner.fork(new f("Angular"))}Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!c&&a,h.shouldCoalesceRunChangeDetection=c,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function Dy(){let i=rt.requestAnimationFrame,s=rt.cancelAnimationFrame;if(typeof Zone<"u"&&i&&s){const a=i[Zone.__symbol__("OriginalDelegate")];a&&(i=a);const c=s[Zone.__symbol__("OriginalDelegate")];c&&(s=c)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function vb(i){const s=()=>{!function Ay(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(rt,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,Vf(i),i.isCheckStableRunning=!0,Cy(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),Vf(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,c,h,f,_,x)=>{try{return rm(i),a.invokeTask(h,f,_,x)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===f.type||i.shouldCoalesceRunChangeDetection)&&s(),im(i)}},onInvoke:(a,c,h,f,_,x,b)=>{try{return rm(i),a.invoke(h,f,_,x,b)}finally{i.shouldCoalesceRunChangeDetection&&s(),im(i)}},onHasTask:(a,c,h,f)=>{a.hasTask(h,f),c===h&&("microTask"==f.change?(i._hasPendingMicrotasks=f.microTask,Vf(i),Cy(i)):"macroTask"==f.change&&(i.hasPendingMacrotasks=f.macroTask))},onHandleError:(a,c,h,f)=>(a.handleError(h,f),i.runOutsideAngular(()=>i.onError.emit(f)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ms.isInAngularZone())throw new be(909,!1)}static assertNotInAngularZone(){if(ms.isInAngularZone())throw new be(909,!1)}run(s,a,c){return this._inner.run(s,a,c)}runTask(s,a,c,h){const f=this._inner,_=f.scheduleEventTask("NgZoneEvent: "+h,s,Ty,Yg,Yg);try{return f.runTask(_,a,c)}finally{f.cancelTask(_)}}runGuarded(s,a,c){return this._inner.runGuarded(s,a,c)}runOutsideAngular(s){return this._outer.run(s)}}const Ty={};function Cy(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function Vf(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function rm(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function im(i){i._nesting--,Cy(i)}class Hd{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new mo,this.onMicrotaskEmpty=new mo,this.onStable=new mo,this.onError=new mo}run(s,a,c){return s.apply(a,c)}runGuarded(s,a,c){return s.apply(a,c)}runOutsideAngular(s){return s()}runTask(s,a,c,h){return s.apply(a,c)}}const nu=new mt(""),sm=new mt("");let Qu,Zd=(()=>{class i{constructor(a,c,h){this._ngZone=a,this.registry=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Qu||(function xb(i){Qu=i}(h),h.addToWindow(c)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ms.assertNotInAngularZone(),Ey(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Ey(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(a)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,c,h){let f=-1;c&&c>0&&(f=setTimeout(()=>{this._callbacks=this._callbacks.filter(_=>_.timeoutId!==f),a(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:a,timeoutId:f,updateCb:h})}whenStable(a,c,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,c,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,c,h){return[]}}return i.\u0275fac=function(a){return new(a||i)(kn(ms),kn(ll),kn(sm))},i.\u0275prov=rn({token:i,factory:i.\u0275fac}),i})(),ll=(()=>{class i{constructor(){this._applications=new Map}registerApplication(a,c){this._applications.set(a,c)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,c=!0){return Qu?.findTestabilityInTree(this,a,c)??null}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=rn({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})(),Ju=null;const wb=new mt("AllowMultipleToken"),Bf=new mt("PlatformDestroyListeners");class zD{constructor(s,a){this.name=s,this.token=a}}function Eb(i,s,a=[]){const c=`Platform: ${s}`,h=new mt(c);return(f=[])=>{let _=om();if(!_||_.injector.get(wb,!1)){const x=[...a,...f,{provide:h,useValue:!0}];i?i(x):function My(i){if(Ju&&!Ju.get(wb,!1))throw new be(400,!1);Ju=i;const s=i.get(Tb);(function Ib(i){const s=i.get(my,null);s&&s.forEach(a=>a())})(i)}(function Py(i=[],s){return Uc.create({name:s,providers:[{provide:Gm,useValue:"platform"},{provide:Bf,useValue:new Set([()=>Ju=null])},...i]})}(x,c))}return function Db(i){const s=om();if(!s)throw new be(401,!1);return s}()}}function om(){return Ju?.get(Tb)??null}let Tb=(()=>{class i{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,c){const h=function KD(i,s){let a;return a="noop"===i?new Hd:("zone.js"===i?void 0:i)||new ms(s),a}(c?.ngZone,function Cb(i){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!i||!i.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!i||!i.ngZoneRunCoalescing)||!1}}(c)),f=[{provide:ms,useValue:h}];return h.run(()=>{const _=Uc.create({providers:f,parent:this.injector,name:a.moduleType.name}),x=a.create(_),b=x.injector.get(Hl,null);if(!b)throw new be(402,!1);return h.runOutsideAngular(()=>{const T=h.onError.subscribe({next:M=>{b.handleError(M)}});x.onDestroy(()=>{zd(this._modules,x),T.unsubscribe()})}),function Ab(i,s,a){try{const c=a();return pd(c)?c.catch(h=>{throw s.runOutsideAngular(()=>i.handleError(h)),h}):c}catch(c){throw s.runOutsideAngular(()=>i.handleError(c)),c}}(b,h,()=>{const T=x.injector.get(tu);return T.runInitializers(),T.donePromise.then(()=>(function hw(i){Kt(i,"Expected localeId to be defined"),"string"==typeof i&&(Dd=i.toLowerCase().replace(/_/g,"-"))}(x.injector.get(nm,Kc)||Kc),this._moduleDoBootstrap(x),x))})})}bootstrapModule(a,c=[]){const h=am({},c);return function Sy(i,s,a){const c=new F0(a);return Promise.resolve(c)}(0,0,a).then(f=>this.bootstrapModuleFactory(f,h))}_moduleDoBootstrap(a){const c=a.injector.get(qd);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(h=>c.bootstrap(h));else{if(!a.instance.ngDoBootstrap)throw new be(403,!1);a.instance.ngDoBootstrap(c)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new be(404,!1);this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c());const a=this._injector.get(Bf,null);a&&(a.forEach(c=>c()),a.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(a){return new(a||i)(kn(Uc))},i.\u0275prov=rn({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();function am(i,s){return Array.isArray(s)?s.reduce(am,i):{...i,...s}}let qd=(()=>{class i{constructor(a,c,h){this._zone=a,this._injector=c,this._exceptionHandler=h,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const f=new P.y(x=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{x.next(this._stable),x.complete()})}),_=new P.y(x=>{let b;this._zone.runOutsideAngular(()=>{b=this._zone.onStable.subscribe(()=>{ms.assertNotInAngularZone(),Ey(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,x.next(!0))})})});const T=this._zone.onUnstable.subscribe(()=>{ms.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{x.next(!1)}))});return()=>{b.unsubscribe(),T.unsubscribe()}});this.isStable=(0,se.T)(f,_.pipe((0,ae.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(a,c){const h=a instanceof wv;if(!this._injector.get(tu).done)throw!h&&Yu(a),new be(405,false);let _;_=h?a:this._injector.get($l).resolveComponentFactory(a),this.componentTypes.push(_.componentType);const x=function qD(i){return i.isBoundToModule}(_)?void 0:this._injector.get(Pd),T=_.create(Uc.NULL,[],c||_.selector,x),M=T.location.nativeElement,N=T.injector.get(nu,null);return N?.registerApplication(M),T.onDestroy(()=>{this.detachView(T.hostView),zd(this.components,T),N?.unregisterApplication(M)}),this._loadComponent(T),T}tick(){if(this._runningTick)throw new be(101,!1);try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const c=a;this._views.push(c),c.attachToAppRef(this)}detachView(a){const c=a;zd(this._views,c),c.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a),this._injector.get(tm,[]).concat(this._bootstrapListeners).forEach(h=>h(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>zd(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new be(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return i.\u0275fac=function(a){return new(a||i)(kn(ms),kn(kc),kn(Hl))},i.\u0275prov=rn({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function zd(i,s){const a=i.indexOf(s);a>-1&&i.splice(a,1)}let Mb=!0,um=!1;function Rb(){return um=!0,Mb}function ky(){if(um)throw new Error("Cannot enable prod mode after platform setup.");Mb=!1}let QD=(()=>{class i{}return i.__NG_ELEMENT_ID__=Ny,i})();function Ny(i){return function JD(i,s,a){if(ua(i)&&!a){const c=yr(i.index,s);return new Nu(c,c)}return 47&i.type?new Nu(s[16],s):null}(Un(),Ce(),16==(16&i))}class fm{constructor(){}supports(s){return uf(s)}create(s){return new Vy(s)}}const Ub=(i,s)=>s;class Vy{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||Ub}forEachItem(s){let a;for(a=this._itHead;null!==a;a=a._next)s(a)}forEachOperation(s){let a=this._itHead,c=this._removalsHead,h=0,f=null;for(;a||c;){const _=!c||a&&a.currentIndex<pm(c,h,f)?a:c,x=pm(_,h,f),b=_.currentIndex;if(_===c)h--,c=c._nextRemoved;else if(a=a._next,null==_.previousIndex)h++;else{f||(f=[]);const T=x-h,M=b-h;if(T!=M){for(let G=0;G<T;G++){const ne=G<f.length?f[G]:f[G]=0,Ee=ne+G;M<=Ee&&Ee<T&&(f[G]=ne+1)}f[_.previousIndex]=M-T}}x!==b&&s(_,x,b)}}forEachPreviousItem(s){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachMovedItem(s){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}forEachIdentityChange(s){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)s(a)}diff(s){if(null==s&&(s=[]),!uf(s))throw new be(900,!1);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let h,f,_,a=this._itHead,c=!1;if(Array.isArray(s)){this.length=s.length;for(let x=0;x<this.length;x++)f=s[x],_=this._trackByFn(x,f),null!==a&&Object.is(a.trackById,_)?(c&&(a=this._verifyReinsertion(a,f,_,x)),Object.is(a.item,f)||this._addIdentityChange(a,f)):(a=this._mismatch(a,f,_,x),c=!0),a=a._next}else h=0,function NE(i,s){if(Array.isArray(i))for(let a=0;a<i.length;a++)s(i[a]);else{const a=i[qa()]();let c;for(;!(c=a.next()).done;)s(c.value)}}(s,x=>{_=this._trackByFn(h,x),null!==a&&Object.is(a.trackById,_)?(c&&(a=this._verifyReinsertion(a,x,_,h)),Object.is(a.item,x)||this._addIdentityChange(a,x)):(a=this._mismatch(a,x,_,h),c=!0),a=a._next,h++}),this.length=h;return this._truncate(a),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,a,c,h){let f;return null===s?f=this._itTail:(f=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._reinsertAfter(s,f,h)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(c,h))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._moveAfter(s,f,h)):s=this._addAfter(new Vb(a,c),f,h),s}_verifyReinsertion(s,a,c,h){let f=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==f?s=this._reinsertAfter(f,s._prev,h):s.currentIndex!=h&&(s.currentIndex=h,this._addToMoves(s,h)),s}_truncate(s){for(;null!==s;){const a=s._next;this._addToRemovals(this._unlink(s)),s=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,a,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const h=s._prevRemoved,f=s._nextRemoved;return null===h?this._removalsHead=f:h._nextRemoved=f,null===f?this._removalsTail=h:f._prevRemoved=h,this._insertAfter(s,a,c),this._addToMoves(s,c),s}_moveAfter(s,a,c){return this._unlink(s),this._insertAfter(s,a,c),this._addToMoves(s,c),s}_addAfter(s,a,c){return this._insertAfter(s,a,c),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,a,c){const h=null===a?this._itHead:a._next;return s._next=h,s._prev=a,null===h?this._itTail=s:h._prev=s,null===a?this._itHead=s:a._next=s,null===this._linkedRecords&&(this._linkedRecords=new Bb),this._linkedRecords.put(s),s.currentIndex=c,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const a=s._prev,c=s._next;return null===a?this._itHead=c:a._next=c,null===c?this._itTail=a:c._prev=a,s}_addToMoves(s,a){return s.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Bb),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,a){return s.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class Vb{constructor(s,a){this.item=s,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class tT{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,a){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===a||a<=c.currentIndex)&&Object.is(c.trackById,s))return c;return null}remove(s){const a=s._prevDup,c=s._nextDup;return null===a?this._head=c:a._nextDup=c,null===c?this._tail=a:c._prevDup=a,null===this._head}}class Bb{constructor(){this.map=new Map}put(s){const a=s.trackById;let c=this.map.get(a);c||(c=new tT,this.map.set(a,c)),c.add(s)}get(s,a){const h=this.map.get(s);return h?h.get(s,a):null}remove(s){const a=s.trackById;return this.map.get(a).remove(s)&&this.map.delete(a),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function pm(i,s,a){const c=i.previousIndex;if(null===c)return c;let h=0;return a&&c<a.length&&(h=a[c]),c+s+h}class jb{constructor(){}supports(s){return s instanceof Map||cd(s)}create(){return new By}}class By{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let a;for(a=this._mapHead;null!==a;a=a._next)s(a)}forEachPreviousItem(s){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)s(a)}forEachChangedItem(s){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}diff(s){if(s){if(!(s instanceof Map||cd(s)))throw new be(900,!1)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(s,(c,h)=>{if(a&&a.key===h)this._maybeAddToChanges(a,c),this._appendAfter=a,a=a._next;else{const f=this._getOrCreateRecordForKey(h,c);a=this._insertBeforeOrAppend(a,f)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let c=a;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,a){if(s){const c=s._prev;return a._next=s,a._prev=c,s._prev=a,c&&(c._next=a),s===this._mapHead&&(this._mapHead=a),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(s,a){if(this._records.has(s)){const h=this._records.get(s);this._maybeAddToChanges(h,a);const f=h._prev,_=h._next;return f&&(f._next=_),_&&(_._prev=f),h._next=null,h._prev=null,h}const c=new jy(s);return this._records.set(s,c),c.currentValue=a,this._addToAdditions(c),c}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,a){Object.is(a,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=a,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,a){s instanceof Map?s.forEach(a):Object.keys(s).forEach(c=>a(s[c],c))}}class jy{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function gm(){return new $y([new fm])}let $y=(()=>{class i{constructor(a){this.factories=a}static create(a,c){if(null!=c){const h=c.factories.slice();a=a.concat(h)}return new i(a)}static extend(a){return{provide:i,useFactory:c=>i.create(a,c||gm()),deps:[[i,new Se,new Y]]}}find(a){const c=this.factories.find(h=>h.supports(a));if(null!=c)return c;throw new be(901,!1)}}return i.\u0275prov=rn({token:i,providedIn:"root",factory:gm}),i})();function Hy(){return new Zy([new jb])}let Zy=(()=>{class i{constructor(a){this.factories=a}static create(a,c){if(c){const h=c.factories.slice();a=a.concat(h)}return new i(a)}static extend(a){return{provide:i,useFactory:c=>i.create(a,c||Hy()),deps:[[i,new Se,new Y]]}}find(a){const c=this.factories.find(h=>h.supports(a));if(c)return c;throw new be(901,!1)}}return i.\u0275prov=rn({token:i,providedIn:"root",factory:Hy}),i})();const rT=Eb(null,"core",[]);let iT=(()=>{class i{constructor(a){}}return i.\u0275fac=function(a){return new(a||i)(kn(qd))},i.\u0275mod=qe({type:i}),i.\u0275inj=jt({}),i})();function sT(i){return"boolean"==typeof i?i:null!=i&&"false"!==i}},3942:(dt,Me,k)=>{k.d(Me,{Z:()=>be});var l=k(2090),L=k(4859),P=k(9681),se=k(1877);class ae{constructor(xe,ge){this._delegate=xe,this.firebase=ge,(0,P._addComponent)(xe,new L.wA("app-compat",()=>this,"PUBLIC")),this.container=xe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(xe){this._delegate.automaticDataCollectionEnabled=xe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(xe=>{this._delegate.checkDestroyed(),xe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,P.deleteApp)(this._delegate)))}_getService(xe,ge=P._DEFAULT_ENTRY_NAME){var tt;this._delegate.checkDestroyed();const nt=this._delegate.container.getProvider(xe);return!nt.isInitialized()&&"EXPLICIT"===(null===(tt=nt.getComponent())||void 0===tt?void 0:tt.instantiationMode)&&nt.initialize(),nt.getImmediate({identifier:ge})}_removeServiceInstance(xe,ge=P._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(xe).clearInstance(ge)}_addComponent(xe){(0,P._addComponent)(this._delegate,xe)}_addOrOverwriteComponent(xe){(0,P._addOrOverwriteComponent)(this._delegate,xe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const pe=new l.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),$=function ve(){const it=function de(it){const xe={},ge={__esModule:!0,initializeApp:function Ne(re,ue={}){const ye=P.initializeApp(re,ue);if((0,l.r3)(xe,ye.name))return xe[ye.name];const Q=new it(ye,ge);return xe[ye.name]=Q,Q},app:nt,registerVersion:P.registerVersion,setLogLevel:P.setLogLevel,onLog:P.onLog,apps:null,SDK_VERSION:P.SDK_VERSION,INTERNAL:{registerComponent:function Ie(re){const ue=re.name,ye=ue.replace("-compat","");if(P._registerComponent(re)&&"PUBLIC"===re.type){const Q=(ee=nt())=>{if("function"!=typeof ee[ye])throw pe.create("invalid-app-argument",{appName:ue});return ee[ye]()};void 0!==re.serviceProps&&(0,l.ZB)(Q,re.serviceProps),ge[ye]=Q,it.prototype[ye]=function(...ee){return this._getService.bind(this,ue).apply(this,re.multipleInstances?ee:[])}}return"PUBLIC"===re.type?ge[ye]:null},removeApp:function tt(re){delete xe[re]},useAsService:function Ge(re,ue){return"serverAuth"===ue?null:ue},modularAPIs:P}};function nt(re){if(!(0,l.r3)(xe,re=re||P._DEFAULT_ENTRY_NAME))throw pe.create("no-app",{appName:re});return xe[re]}return ge.default=ge,Object.defineProperty(ge,"apps",{get:function Re(){return Object.keys(xe).map(re=>xe[re])}}),nt.App=it,ge}(ae);return it.INTERNAL=Object.assign(Object.assign({},it.INTERNAL),{createFirebaseNamespace:ve,extendNamespace:function xe(ge){(0,l.ZB)(it,ge)},createSubscribe:l.ne,ErrorFactory:l.LL,deepExtend:l.ZB}),it}(),H=new se.Yd("@firebase/app-compat");if((0,l.jU)()&&void 0!==self.firebase){H.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const it=self.firebase.SDK_VERSION;it&&it.indexOf("LITE")>=0&&H.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const be=$;!function ke(it){(0,P.registerVersion)("@firebase/app-compat","0.1.32",it)}()},9681:(dt,Me,k)=>{k.r(Me),k.d(Me,{FirebaseError:()=>se.ZR,SDK_VERSION:()=>ei,_DEFAULT_ENTRY_NAME:()=>Kt,_addComponent:()=>an,_addOrOverwriteComponent:()=>rn,_apps:()=>fn,_clearComponents:()=>js,_components:()=>Rn,_getProvider:()=>jt,_registerComponent:()=>Wt,_removeServiceInstance:()=>br,deleteApp:()=>ht,getApp:()=>Fn,getApps:()=>Wi,initializeApp:()=>ti,onLog:()=>sn,registerVersion:()=>Er,setLogLevel:()=>er});var l=k(5861),L=k(4859),P=k(1877),se=k(2090),ae=k(8766);class me{constructor(q){this.container=q}getPlatformInfoString(){return this.container.getProviders().map(z=>{if(function pe(U){return"VERSION"===U.getComponent()?.type}(z)){const De=z.getImmediate();return`${De.library}/${De.version}`}return null}).filter(z=>z).join(" ")}}const de="@firebase/app",$=new P.Yd("@firebase/app"),Kt="[DEFAULT]",We={[de]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},fn=new Map,Rn=new Map;function an(U,q){try{U.container.addComponent(q)}catch(z){$.debug(`Component ${q.name} failed to register with FirebaseApp ${U.name}`,z)}}function rn(U,q){U.container.addOrOverwriteComponent(q)}function Wt(U){const q=U.name;if(Rn.has(q))return $.debug(`There were multiple attempts to register component ${q}.`),!1;Rn.set(q,U);for(const z of fn.values())an(z,U);return!0}function jt(U,q){const z=U.container.getProvider("heartbeat").getImmediate({optional:!0});return z&&z.triggerHeartbeat(),U.container.getProvider(q)}function br(U,q,z=Kt){jt(U,q).clearInstance(z)}function js(){Rn.clear()}const bn=new se.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Ti{constructor(q,z,De){this._isDeleted=!1,this._options=Object.assign({},q),this._config=Object.assign({},z),this._name=z.name,this._automaticDataCollectionEnabled=z.automaticDataCollectionEnabled,this._container=De,this.container.addComponent(new L.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(q){this.checkDestroyed(),this._automaticDataCollectionEnabled=q}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(q){this._isDeleted=q}checkDestroyed(){if(this.isDeleted)throw bn.create("app-deleted",{appName:this._name})}}const ei="9.9.3";function ti(U,q={}){"object"!=typeof q&&(q={name:q});const z=Object.assign({name:Kt,automaticDataCollectionEnabled:!1},q),De=z.name;if("string"!=typeof De||!De)throw bn.create("bad-app-name",{appName:String(De)});const qe=fn.get(De);if(qe){if((0,se.vZ)(U,qe.options)&&(0,se.vZ)(z,qe.config))return qe;throw bn.create("duplicate-app",{appName:De})}const vt=new L.H0(De);for(const cn of Rn.values())vt.addComponent(cn);const un=new Ti(U,z,vt);return fn.set(De,un),un}function Fn(U=Kt){const q=fn.get(U);if(!q)throw bn.create("no-app",{appName:U});return q}function Wi(){return Array.from(fn.values())}function ht(U){return pn.apply(this,arguments)}function pn(){return(pn=(0,l.Z)(function*(U){const q=U.name;fn.has(q)&&(fn.delete(q),yield Promise.all(U.container.getProviders().map(z=>z.delete())),U.isDeleted=!0)})).apply(this,arguments)}function Er(U,q,z){var De;let qe=null!==(De=We[U])&&void 0!==De?De:U;z&&(qe+=`-${z}`);const vt=qe.match(/\s|\//),un=q.match(/\s|\//);if(vt||un){const cn=[`Unable to register library "${qe}" with version "${q}":`];return vt&&cn.push(`library name "${qe}" contains illegal characters (whitespace or "/")`),vt&&un&&cn.push("and"),un&&cn.push(`version name "${q}" contains illegal characters (whitespace or "/")`),void $.warn(cn.join(" "))}Wt(new L.wA(`${qe}-version`,()=>({library:qe,version:q}),"VERSION"))}function sn(U,q){if(null!==U&&"function"!=typeof U)throw bn.create("invalid-log-argument");(0,P.Am)(U,q)}function er(U){(0,P.Ub)(U)}const ln="firebase-heartbeat-store";let qr=null;function _n(){return qr||(qr=(0,ae.X3)("firebase-heartbeat-database",1,{upgrade:(U,q)=>{0===q&&U.createObjectStore(ln)}}).catch(U=>{throw bn.create("idb-open",{originalErrorMessage:U.message})})),qr}function rt(){return(rt=(0,l.Z)(function*(U){var q;try{return(yield _n()).transaction(ln).objectStore(ln).get(En(U))}catch(z){if(z instanceof se.ZR)$.warn(z.message);else{const De=bn.create("idb-get",{originalErrorMessage:null===(q=z)||void 0===q?void 0:q.message});$.warn(De.message)}}})).apply(this,arguments)}function In(U,q){return Sr.apply(this,arguments)}function Sr(){return(Sr=(0,l.Z)(function*(U,q){var z;try{const qe=(yield _n()).transaction(ln,"readwrite");return yield qe.objectStore(ln).put(q,En(U)),qe.done}catch(De){if(De instanceof se.ZR)$.warn(De.message);else{const qe=bn.create("idb-set",{originalErrorMessage:null===(z=De)||void 0===z?void 0:z.message});$.warn(qe.message)}}})).apply(this,arguments)}function En(U){return`${U.name}!${U.options.appId}`}class Mr{constructor(q){this.container=q,this._heartbeatsCache=null;const z=this.container.getProvider("app").getImmediate();this._storage=new Pt(z),this._heartbeatsCachePromise=this._storage.read().then(De=>(this._heartbeatsCache=De,De))}triggerHeartbeat(){var q=this;return(0,l.Z)(function*(){const De=q.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),qe=kt();if(null===q._heartbeatsCache&&(q._heartbeatsCache=yield q._heartbeatsCachePromise),q._heartbeatsCache.lastSentHeartbeatDate!==qe&&!q._heartbeatsCache.heartbeats.some(vt=>vt.date===qe))return q._heartbeatsCache.heartbeats.push({date:qe,agent:De}),q._heartbeatsCache.heartbeats=q._heartbeatsCache.heartbeats.filter(vt=>{const un=new Date(vt.date).valueOf();return Date.now()-un<=2592e6}),q._storage.overwrite(q._heartbeatsCache)})()}getHeartbeatsHeader(){var q=this;return(0,l.Z)(function*(){if(null===q._heartbeatsCache&&(yield q._heartbeatsCachePromise),null===q._heartbeatsCache||0===q._heartbeatsCache.heartbeats.length)return"";const z=kt(),{heartbeatsToSend:De,unsentEntries:qe}=function ni(U,q=1024){const z=[];let De=U.slice();for(const qe of U){const vt=z.find(un=>un.agent===qe.agent);if(vt){if(vt.dates.push(qe.date),K(z)>q){vt.dates.pop();break}}else if(z.push({agent:qe.agent,dates:[qe.date]}),K(z)>q){z.pop();break}De=De.slice(1)}return{heartbeatsToSend:z,unsentEntries:De}}(q._heartbeatsCache.heartbeats),vt=(0,se.L)(JSON.stringify({version:2,heartbeats:De}));return q._heartbeatsCache.lastSentHeartbeatDate=z,qe.length>0?(q._heartbeatsCache.heartbeats=qe,yield q._storage.overwrite(q._heartbeatsCache)):(q._heartbeatsCache.heartbeats=[],q._storage.overwrite(q._heartbeatsCache)),vt})()}}function kt(){return(new Date).toISOString().substring(0,10)}class Pt{constructor(q){this.app=q,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,l.Z)(function*(){return!!(0,se.hl)()&&(0,se.eu)().then(()=>!0).catch(()=>!1)})()}read(){var q=this;return(0,l.Z)(function*(){return(yield q._canUseIndexedDBPromise)&&(yield function st(U){return rt.apply(this,arguments)}(q.app))||{heartbeats:[]}})()}overwrite(q){var z=this;return(0,l.Z)(function*(){var De;if(yield z._canUseIndexedDBPromise){const vt=yield z.read();return In(z.app,{lastSentHeartbeatDate:null!==(De=q.lastSentHeartbeatDate)&&void 0!==De?De:vt.lastSentHeartbeatDate,heartbeats:q.heartbeats})}})()}add(q){var z=this;return(0,l.Z)(function*(){var De;if(yield z._canUseIndexedDBPromise){const vt=yield z.read();return In(z.app,{lastSentHeartbeatDate:null!==(De=q.lastSentHeartbeatDate)&&void 0!==De?De:vt.lastSentHeartbeatDate,heartbeats:[...vt.heartbeats,...q.heartbeats]})}})()}}function K(U){return(0,se.L)(JSON.stringify({version:2,heartbeats:U})).length}!function j(U){Wt(new L.wA("platform-logger",q=>new me(q),"PRIVATE")),Wt(new L.wA("heartbeat",q=>new Mr(q),"PRIVATE")),Er(de,"0.7.31",U),Er(de,"0.7.31","esm2017"),Er("fire-js","")}("")},4859:(dt,Me,k)=>{k.d(Me,{H0:()=>de,wA:()=>P});var l=k(5861),L=k(2090);class P{constructor($,H,X){this.name=$,this.instanceFactory=H,this.type=X,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode($){return this.instantiationMode=$,this}setMultipleInstances($){return this.multipleInstances=$,this}setServiceProps($){return this.serviceProps=$,this}setInstanceCreatedCallback($){return this.onInstanceCreated=$,this}}const se="[DEFAULT]";class ae{constructor($,H){this.name=$,this.container=H,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get($){const H=this.normalizeInstanceIdentifier($);if(!this.instancesDeferred.has(H)){const X=new L.BH;if(this.instancesDeferred.set(H,X),this.isInitialized(H)||this.shouldAutoInitialize())try{const $e=this.getOrInitializeService({instanceIdentifier:H});$e&&X.resolve($e)}catch{}}return this.instancesDeferred.get(H).promise}getImmediate($){var H;const X=this.normalizeInstanceIdentifier($?.identifier),$e=null!==(H=$?.optional)&&void 0!==H&&H;if(!this.isInitialized(X)&&!this.shouldAutoInitialize()){if($e)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:X})}catch(ke){if($e)return null;throw ke}}getComponent(){return this.component}setComponent($){if($.name!==this.name)throw Error(`Mismatching Component ${$.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=$,this.shouldAutoInitialize()){if(function pe(ve){return"EAGER"===ve.instantiationMode}($))try{this.getOrInitializeService({instanceIdentifier:se})}catch{}for(const[H,X]of this.instancesDeferred.entries()){const $e=this.normalizeInstanceIdentifier(H);try{const ke=this.getOrInitializeService({instanceIdentifier:$e});X.resolve(ke)}catch{}}}}clearInstance($=se){this.instancesDeferred.delete($),this.instancesOptions.delete($),this.instances.delete($)}delete(){var $=this;return(0,l.Z)(function*(){const H=Array.from($.instances.values());yield Promise.all([...H.filter(X=>"INTERNAL"in X).map(X=>X.INTERNAL.delete()),...H.filter(X=>"_delete"in X).map(X=>X._delete())])})()}isComponentSet(){return null!=this.component}isInitialized($=se){return this.instances.has($)}getOptions($=se){return this.instancesOptions.get($)||{}}initialize($={}){const{options:H={}}=$,X=this.normalizeInstanceIdentifier($.instanceIdentifier);if(this.isInitialized(X))throw Error(`${this.name}(${X}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const $e=this.getOrInitializeService({instanceIdentifier:X,options:H});for(const[ke,be]of this.instancesDeferred.entries())X===this.normalizeInstanceIdentifier(ke)&&be.resolve($e);return $e}onInit($,H){var X;const $e=this.normalizeInstanceIdentifier(H),ke=null!==(X=this.onInitCallbacks.get($e))&&void 0!==X?X:new Set;ke.add($),this.onInitCallbacks.set($e,ke);const be=this.instances.get($e);return be&&$(be,$e),()=>{ke.delete($)}}invokeOnInitCallbacks($,H){const X=this.onInitCallbacks.get(H);if(X)for(const $e of X)try{$e($,H)}catch{}}getOrInitializeService({instanceIdentifier:$,options:H={}}){let X=this.instances.get($);if(!X&&this.component&&(X=this.component.instanceFactory(this.container,{instanceIdentifier:(ve=$,ve===se?void 0:ve),options:H}),this.instances.set($,X),this.instancesOptions.set($,H),this.invokeOnInitCallbacks(X,$),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,$,X)}catch{}var ve;return X||null}normalizeInstanceIdentifier($=se){return this.component?this.component.multipleInstances?$:se:$}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class de{constructor($){this.name=$,this.providers=new Map}addComponent($){const H=this.getProvider($.name);if(H.isComponentSet())throw new Error(`Component ${$.name} has already been registered with ${this.name}`);H.setComponent($)}addOrOverwriteComponent($){this.getProvider($.name).isComponentSet()&&this.providers.delete($.name),this.addComponent($)}getProvider($){if(this.providers.has($))return this.providers.get($);const H=new ae($,this);return this.providers.set($,H),H}getProviders(){return Array.from(this.providers.values())}}},1877:(dt,Me,k)=>{k.d(Me,{Am:()=>ve,Ub:()=>de,Yd:()=>pe,in:()=>L});const l=[];var L=(()=>{return($=L||(L={}))[$.DEBUG=0]="DEBUG",$[$.VERBOSE=1]="VERBOSE",$[$.INFO=2]="INFO",$[$.WARN=3]="WARN",$[$.ERROR=4]="ERROR",$[$.SILENT=5]="SILENT",L;var $})();const P={debug:L.DEBUG,verbose:L.VERBOSE,info:L.INFO,warn:L.WARN,error:L.ERROR,silent:L.SILENT},se=L.INFO,ae={[L.DEBUG]:"log",[L.VERBOSE]:"log",[L.INFO]:"info",[L.WARN]:"warn",[L.ERROR]:"error"},me=($,H,...X)=>{if(H<$.logLevel)return;const $e=(new Date).toISOString(),ke=ae[H];if(!ke)throw new Error(`Attempted to log a message with an invalid logType (value: ${H})`);console[ke](`[${$e}]  ${$.name}:`,...X)};class pe{constructor(H){this.name=H,this._logLevel=se,this._logHandler=me,this._userLogHandler=null,l.push(this)}get logLevel(){return this._logLevel}set logLevel(H){if(!(H in L))throw new TypeError(`Invalid value "${H}" assigned to \`logLevel\``);this._logLevel=H}setLogLevel(H){this._logLevel="string"==typeof H?P[H]:H}get logHandler(){return this._logHandler}set logHandler(H){if("function"!=typeof H)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=H}get userLogHandler(){return this._userLogHandler}set userLogHandler(H){this._userLogHandler=H}debug(...H){this._userLogHandler&&this._userLogHandler(this,L.DEBUG,...H),this._logHandler(this,L.DEBUG,...H)}log(...H){this._userLogHandler&&this._userLogHandler(this,L.VERBOSE,...H),this._logHandler(this,L.VERBOSE,...H)}info(...H){this._userLogHandler&&this._userLogHandler(this,L.INFO,...H),this._logHandler(this,L.INFO,...H)}warn(...H){this._userLogHandler&&this._userLogHandler(this,L.WARN,...H),this._logHandler(this,L.WARN,...H)}error(...H){this._userLogHandler&&this._userLogHandler(this,L.ERROR,...H),this._logHandler(this,L.ERROR,...H)}}function de($){l.forEach(H=>{H.setLogLevel($)})}function ve($,H){for(const X of l){let $e=null;H&&H.level&&($e=P[H.level]),X.userLogHandler=null===$?null:(ke,be,...it)=>{const xe=it.map(ge=>{if(null==ge)return null;if("string"==typeof ge)return ge;if("number"==typeof ge||"boolean"==typeof ge)return ge.toString();if(ge instanceof Error)return ge.message;try{return JSON.stringify(ge)}catch{return null}}).filter(ge=>ge).join(" ");be>=($e??ke.logLevel)&&$({level:L[be].toLowerCase(),message:xe,args:it,type:ke.name})}}}},8766:(dt,Me,k)=>{k.d(Me,{Lj:()=>Ne,X3:()=>nt});var l=k(5861);let P,se;const pe=new WeakMap,de=new WeakMap,ve=new WeakMap,$=new WeakMap,H=new WeakMap;let ke={get(ue,ye,Q){if(ue instanceof IDBTransaction){if("done"===ye)return de.get(ue);if("objectStoreNames"===ye)return ue.objectStoreNames||ve.get(ue);if("store"===ye)return Q.objectStoreNames[1]?void 0:Q.objectStore(Q.objectStoreNames[0])}return ge(ue[ye])},set:(ue,ye,Q)=>(ue[ye]=Q,!0),has:(ue,ye)=>ue instanceof IDBTransaction&&("done"===ye||"store"===ye)||ye in ue};function xe(ue){return"function"==typeof ue?function it(ue){return ue!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function me(){return se||(se=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ue)?function(...ye){return ue.apply(tt(this),ye),ge(pe.get(this))}:function(...ye){return ge(ue.apply(tt(this),ye))}:function(ye,...Q){const ee=ue.call(tt(this),ye,...Q);return ve.set(ee,ye.sort?ye.sort():[ye]),ge(ee)}}(ue):(ue instanceof IDBTransaction&&function $e(ue){if(de.has(ue))return;const ye=new Promise((Q,ee)=>{const he=()=>{ue.removeEventListener("complete",oe),ue.removeEventListener("error",Ue),ue.removeEventListener("abort",Ue)},oe=()=>{Q(),he()},Ue=()=>{ee(ue.error||new DOMException("AbortError","AbortError")),he()};ue.addEventListener("complete",oe),ue.addEventListener("error",Ue),ue.addEventListener("abort",Ue)});de.set(ue,ye)}(ue),((ue,ye)=>ye.some(Q=>ue instanceof Q))(ue,function ae(){return P||(P=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ue,ke):ue)}function ge(ue){if(ue instanceof IDBRequest)return function X(ue){const ye=new Promise((Q,ee)=>{const he=()=>{ue.removeEventListener("success",oe),ue.removeEventListener("error",Ue)},oe=()=>{Q(ge(ue.result)),he()},Ue=()=>{ee(ue.error),he()};ue.addEventListener("success",oe),ue.addEventListener("error",Ue)});return ye.then(Q=>{Q instanceof IDBCursor&&pe.set(Q,ue)}).catch(()=>{}),H.set(ye,ue),ye}(ue);if($.has(ue))return $.get(ue);const ye=xe(ue);return ye!==ue&&($.set(ue,ye),H.set(ye,ue)),ye}const tt=ue=>H.get(ue);function nt(ue,ye,{blocked:Q,upgrade:ee,blocking:he,terminated:oe}={}){const Ue=indexedDB.open(ue,ye),Ve=ge(Ue);return ee&&Ue.addEventListener("upgradeneeded",ft=>{ee(ge(Ue.result),ft.oldVersion,ft.newVersion,ge(Ue.transaction))}),Q&&Ue.addEventListener("blocked",()=>Q()),Ve.then(ft=>{oe&&ft.addEventListener("close",()=>oe()),he&&ft.addEventListener("versionchange",()=>he())}).catch(()=>{}),Ve}function Ne(ue,{blocked:ye}={}){const Q=indexedDB.deleteDatabase(ue);return ye&&Q.addEventListener("blocked",()=>ye()),ge(Q).then(()=>{})}const Re=["get","getKey","getAll","getAllKeys","count"],Ie=["put","add","delete","clear"],Ge=new Map;function re(ue,ye){if(!(ue instanceof IDBDatabase)||ye in ue||"string"!=typeof ye)return;if(Ge.get(ye))return Ge.get(ye);const Q=ye.replace(/FromIndex$/,""),ee=ye!==Q,he=Ie.includes(Q);if(!(Q in(ee?IDBIndex:IDBObjectStore).prototype)||!he&&!Re.includes(Q))return;const oe=function(){var Ue=(0,l.Z)(function*(Ve,...ft){const en=this.transaction(Ve,he?"readwrite":"readonly");let Kt=en.store;return ee&&(Kt=Kt.index(ft.shift())),(yield Promise.all([Kt[Q](...ft),he&&en.done]))[0]});return function(ft){return Ue.apply(this,arguments)}}();return Ge.set(ye,oe),oe}!function be(ue){ke=ue(ke)}(ue=>({...ue,get:(ye,Q,ee)=>re(ye,Q)||ue.get(ye,Q,ee),has:(ye,Q)=>!!re(ye,Q)||ue.has(ye,Q)}))},5861:(dt,Me,k)=>{function l(P,se,ae,me,pe,de,ve){try{var $=P[de](ve),H=$.value}catch(X){return void ae(X)}$.done?se(H):Promise.resolve(H).then(me,pe)}function L(P){return function(){var se=this,ae=arguments;return new Promise(function(me,pe){var de=P.apply(se,ae);function ve(H){l(de,me,pe,ve,$,"next",H)}function $(H){l(de,me,pe,ve,$,"throw",H)}ve(void 0)})}}k.d(Me,{Z:()=>L})}},dt=>{dt(dt.s=8745)}]);